[
  {
    "problem_id": "bulgarian-PMS_2008_8_1",
    "metadata": {
      "source": "Bulgarian PMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 3.56,
      "year": 2008,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 1B: In trapezoid $A B C D (A B \\| C D, A B > C D)$, the heights $D E (E \\in A B)$ and $C F (F \\in A B)$ are constructed, as well as the segment $A H \\perp B C (H \\in B C)$. The intersection points of $A H$ with $D E, D F$, and $C F$ are denoted by $K, L$, and $M$, respectively. Find the area of trapezoid $A B C D$, given that $M$ is the midpoint of height $C F$, $A K = 5$, $K L = 3$, $L M = M H = 2$, and $A D = 10$.",
    "solutions": [
      {
        "solution": "Solution: The diagonals of quadrilateral $L F H C$ bisect each other, and therefore it is a parallelogram. Then quadrilateral $F B C D$ is also a parallelogram. On the other hand, $K$ is the midpoint of $A M (A K = 5 = 3 + 2 = K L + L M)$ and $K E \\| M F$, from which it follows that $K E$ is the median segment in $\\triangle A F M$. We conclude that $A E = E F = D C = F B$. The equality $A E = F B$ is equivalent to the fact that trapezoid $A B C D$ is isosceles, and then $B C = A D = 10$. If $F N$ ($N \\in B C$) is the height in $\\triangle B C F$, then $F N = L H$ ($F N H L$ is a rectangle) and therefore $F N = L M + M H = 2 + 2 = 4$. Then $S_{A D E} = S_{B C F} = \\frac{10 \\cdot 4}{2} = 20$. Moreover, $S_{E F C D} = E F \\cdot F C = F B \\cdot F C = 2 S_{B C F} = 2 \\cdot 20 = 40$ and finally:\n\n$$\nS_{A B C D} = S_{A D E} + S_{E F C D} + S_{B C F} = 20 + 40 + 20 = 80\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-PMS_2013_8_2",
    "metadata": {
      "source": "Bulgarian PMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 3.6599999999999997,
      "year": 2013,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 8.2. Given the parallelograms $A B C D$ and $A_{1} B_{1} C_{1} D_{1}$. Prove that the quadrilateral with vertices at the midpoints of the segments $A A_{1}, \\quad B B_{1}, \\quad C C_{1}$ and $D D_{1}$ is a parallelogram or that all four midpoints lie on a single line.",
    "solutions": [
      {
        "solution": "Solution: Let $M, N, P$ and $Q$ be the midpoints of the segments $A A_{1}, B B_{1}, C C_{1}$ and $D D_{1}$, respectively. If $O$ is an arbitrary point (1 pt.), then\n\n$$\n\\begin{gathered}\n\\quad \\overrightarrow{M N}=\\overrightarrow{O N}-\\overrightarrow{O M}=\\frac{1}{2}\\left(\\overrightarrow{O B}+\\overrightarrow{O B}_{1}\\right)-(\\overrightarrow{O A}+\\overrightarrow{O A})= \\\\\n=\\frac{1}{2}\\left(\\overrightarrow{O B}-\\overrightarrow{O A}+\\overrightarrow{O B_{1}}-\\overrightarrow{O A}\\right)=-\\left(\\overrightarrow{A B}+\\overrightarrow{A B}_{1}\\right) \\cdot(2 \\text{ pts. })\n\\end{gathered}\n$$\n\nTherefore, $\\overrightarrow{M N}=\\overrightarrow{Q P}$, from which it follows that $M N P Q$ is a parallelogram or the points $M, N, P$ and $Q$ lie on a single line. (1 pt.)",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-ZMS_2002_9_1",
    "metadata": {
      "source": "Bulgarian ZMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 3.84,
      "year": 2002,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 9.1. Find all values of the real parameter $a$ for which the equation\n\n$$\n\\frac{1+x}{a x-x^{2}}-\\frac{1-x}{a x+x^{2}}=\\frac{(x+1)(x-6)}{x^{2}-a^{2}}\n$$\n\nhas two roots that are natural numbers.",
    "solutions": [
      {
        "solution": "Solution: The domain of the equation is $x \\neq 0, x \\neq \\pm a$. After bringing it to a common denominator and simplifying, we obtain the equation $x\\left(x^{2}-5 x+2 a-4\\right)=0$ and since $x \\neq 0$, we are left with $x^{2}-5 x+2 a-4=0$. If this equation has two roots $x_{1}$ and $x_{2}$ that are natural numbers, then since $x_{1}+x_{2}=5$ (Vieta's formulas), it follows that $x_{1}=1$ and $x_{2}=4$ or $x_{1}=2$ and $x_{2}=3$. In the first case, $x_{1} x_{2}=4=2 a-4$, from which $a=4$. But $x \\neq \\pm a$, which means that $x_{2}=4$ is not a root, i.e., for $a=4$ the equation has only one root. In the second case, we obtain $x_{1} x_{2}=6=2 a-4$, from which we find $a=5$. Therefore, only for $a=5$ does the equation have two roots $x_{1}=2$ and $x_{2}=3$, which are natural numbers.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-PMS_2000_10_2",
    "metadata": {
      "source": "Bulgarian PMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.2,
      "year": 2000,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 10.2 The incircle of an isosceles $\\triangle A B C$ touches the legs $A C$ and $B C$ at points $M$ and $N$ respectively. A tangent $t$ is drawn to the smaller of the $\\operatorname{arcs} \\hat{M N}$ and let $t$ intersect $N C$ and $M C$ at points $P$ and $Q$ respectively. Let $T$ be the intersection point of the lines $A P$ and $B Q$.\na) Prove that $T$ lies on the segment $M N$;\nb) Prove that the sum of the areas of triangles $A T Q$ and $B T P$ is the smallest possible when $t$ is parallel to $A B$.",
    "solutions": [
      {
        "solution": "Solution: a) Let the incircle touch $A B$ and $P Q$ at points $R$ and $S$ respectively. Let $M N$ and $S R$ intersect $Q B$ in points $T_{1}$ and $T_{2}$ respectively. Since $\\Varangle T_{1} M Q=\\Varangle T_{1} N C=180^{\\circ}-\\Varangle T_{1} N B$ and $\\Varangle M T_{1} D=\\Varangle B T_{1} N$, it follows from the Law of Sines for $\\triangle M T_{1} D$ and $\\triangle B T_{1} N$ that $\\frac{D T_{1}}{M D}=\\frac{B T_{1}}{B N}$, so $\\frac{Q T_{1}}{B T_{1}}=\\frac{M Q}{B N}$. By analogy $\\frac{Q T_{2}}{B T_{2}}=\\frac{S Q}{B R}$. It follows now from $M Q=S Q$ and $B N=B R$ that $\\frac{Q T_{1}}{B T_{1}}=\\frac{Q T_{2}}{B T_{2}}$, so $T_{1}=T_{2}$. In the same manner, one can prove that $A P$ passes through the intersection point of $M N$ and $S R$. This implies that $A P, B Q, M N$ and $S R$ intersect at $T$.\nb) We have $S_{A T Q}+S_{B P T}=S_{A B Q}+S_{A B P}-2 S_{A B T}$. Since $\\triangle A B C$ is isosceles, we get $M N \\| A B$ and therefore $S_{A B T}$ is constant. Thus, $S_{A T Q}+S_{B P T}$ is minimal exactly when $S_{A B Q}+S_{A B P}$ is minimal. The latter sum equals to $\\frac{A Q \\cdot A B \\sin \\alpha+B P \\cdot A B \\sin \\alpha}{2}=\\frac{(A Q+B P) A B \\sin \\alpha}{2}$, where $\\alpha$ is the angle to the base of the triangle. Therefore it suffices to find the minimum of $A Q+B P$. It is easily seen that $A Q+B P=A M+B N+P Q$ and therefore we have to find when $P Q$ is minimal. Let $r$ be the inradius and $O$ be the center of the incircle of $\\triangle A B C$. Using that $P Q=r(\\operatorname{cotg} \\phi+\\operatorname{cotg} \\psi)$ where $\\phi=\\Varangle O Q P, \\psi=\\Varangle O P Q$, we obtain from $A B P Q$ that $2 \\phi+2 \\psi+2 \\alpha=360^{\\circ}$. Therefore $\\phi+\\psi=180^{\\circ}-\\alpha$. Thus $P Q=\\frac{2 r \\sin \\alpha}{\\cos (\\phi-\\psi)+\\cos \\alpha}$. It is clear now that $P Q$ is minimal exactly when $\\cos (\\phi-\\psi)=1$, so $\\phi=\\psi \\Longrightarrow P Q \\| A B$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-PMS_2004_10_1",
    "metadata": {
      "source": "Bulgarian PMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.28,
      "year": 2004,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 10.1. Let \\( f(x) = x^{2} - a x + a^{2} - 4 \\), where \\( a \\) is a real parameter. Find the values of \\( a \\) for which:\na) the equation \\( f(x) = 0 \\) has real roots \\( x_{1} \\) and \\( x_{2} \\) (not necessarily distinct) such that \\( \\left| x_{1}^{3} - x_{2}^{3} \\right| \\leq 4 \\);\nb) the inequality \\( f(x) \\geq 0 \\) holds for every integer \\( x \\).",
    "solutions": [
      {
        "solution": "10.1. a) Since \\( x_{1}^{2} + x_{1} x_{2} + x_{2}^{2} = 4 \\) (from Vieta's formulas), we obtain \\( \\left| x_{1}^{3} - x_{2}^{3} \\right| \\leq 4 \\Longleftrightarrow \\left| x_{1} - x_{2} \\right| \\leq 1 \\). Therefore, \\( 0 \\leq D = 16 - 3 a^{2} \\leq 1 \\), from which \\( a \\in \\left[-\\frac{4 \\sqrt{3}}{3}, -\\sqrt{5}\\right] \\cup \\left[\\sqrt{5}, \\frac{4 \\sqrt{3}}{3}\\right] \\).\n\nb) If \\( D = 16 - 3 a^{2} \\leq 0 \\), i.e., \\( a \\in \\left(-\\infty, -\\frac{4 \\sqrt{3}}{3}\\right] \\cup \\left[\\frac{4 \\sqrt{3}}{3}, \\infty\\right) \\), then \\( f(x) \\geq 0 \\) for every \\( x \\). If \\( D > 0 \\), the condition \\( \\left| x_{1} - x_{2} \\right| \\leq 1 \\) is necessary but not sufficient. Therefore, \\( a \\in \\left[-\\frac{4 \\sqrt{3}}{3}, -\\sqrt{5}\\right] \\cup \\left[\\sqrt{5}, \\frac{4 \\sqrt{3}}{3}\\right] \\) and we need to find the values of \\( a \\) in these intervals for which \\( f(x) \\geq 0 \\) for every integer \\( x \\).\n\nIf \\( f(x) < 0 \\) for some integer \\( x \\), then the vertex of the parabola \\( \\frac{a}{2} \\) is at most \\( \\frac{1}{2} \\) away from \\( x \\). Since \\( -\\frac{3}{2} < -\\frac{2 \\sqrt{3}}{3} \\leq \\frac{a}{2} \\leq -\\frac{\\sqrt{5}}{2} < -1 \\) or \\( \\frac{3}{2} > \\frac{2 \\sqrt{3}}{3} \\geq \\frac{a}{2} \\geq \\frac{\\sqrt{5}}{2} > 1 \\), we conclude that the only possible values of \\( x \\) are \\( \\pm 1 \\). Therefore, it is sufficient to satisfy the inequalities \\( f(-1) \\geq 0 \\) and \\( f(1) \\geq 0 \\), from which we find \\( a \\in \\left[-\\frac{4 \\sqrt{3}}{3}, \\frac{-1 - \\sqrt{13}}{2}\\right] \\cup \\left[\\frac{1 + \\sqrt{13}}{2}, \\frac{4 \\sqrt{3}}{3}\\right] \\). Finally, the sought values are\n\n$$\na \\in \\left(-\\infty, \\frac{-1 - \\sqrt{13}}{2}\\right] \\cup \\left[\\frac{1 + \\sqrt{13}}{2}, +\\infty\\right)\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-ZMS_2014_10_3",
    "metadata": {
      "source": "Bulgarian ZMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.48,
      "year": 2014,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 10.3. Let $p$ be a prime number such that $p \\equiv 3(\\bmod 4)$. Let $N$ be the number of rectangles with area $2 p^{2}$, whose vertices have integer coordinates $(x, y)$, satisfying the inequalities $0 \\leq x, y \\leq 2 p^{2}$. Find the remainder that the number $N$ gives when divided by $p$.",
    "solutions": [
      {
        "solution": "Solution. First, we will determine the number of rectangles with sides parallel to the coordinate axes. It is evident that the number of rectangles with sides of lengths $a$ and $b$, which are parallel to the coordinate axes, and with vertices having integer coordinates $(x, y), 0 \\leq x, y \\leq n$, is $\\left(2 p^{2}-a+1\\right)\\left(2 p^{2}-b+1\\right) \\equiv(a-1)(b-1)(\\bmod p)$. Rectangles with area $2 p^{2}$ have sides $2 p^{2} \\times 1, p^{2} \\times 2, 2 p \\times p, p \\times 2 p, 2 \\times p^{2}, 1 \\times 2 p^{2}$. Therefore, if the number of these rectangles is $K$, then $K \\equiv 0(\\bmod p)$.\n\nNow we will determine the number $L$ of rectangles whose sides are not parallel to the coordinate axes. Let us consider three consecutive vertices of such a rectangle with coordinates $(0, a),(b, 0),(b+c, d)$. It is evident that we have $c=k a, d=k b$ and $k\\left(a^{2}+b^{2}\\right)=$ $2 p^{2}$ for some integer $k$. (To argue that $k$ is an integer.) This equation has solutions: $k=1, a=b=p$ and $k=p^{2}, a=b=1$.\n\nIn the first case, we have a square with area $2 p^{2}$, and its position is uniquely determined by the square circumscribing it with side $2 p$. In the second solution, we have two rectangles with area $2 p^{2}$ inscribed in a square with side $p^{2}+1$. Thus, for $L$ we obtain\n\n$$\nL \\equiv(2 p-1)^{2}+2 p^{4} \\equiv 1 \\quad(\\bmod p)\n$$\n\nFinally, $N=K+L \\equiv 1(\\bmod p)$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-ZMS_2023_10_2",
    "metadata": {
      "source": "Bulgarian ZMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.66,
      "year": 2023,
      "competition": "bulgarian_comps"
    },
    "problem": "**Problem 10.2.** Given a convex quadrilateral $A B C D$ in which a circle can be inscribed. Let $P$ be the intersection point of its diagonals $A C$ and $B D$, and $O_{1}, O_{2}, O_{3}$, and $O_{4}$ be the centers of the inscribed circles in triangles $P D C, P C B, P B A$, and $P A D$, respectively. Prove that the second intersection point of the circumcircles around $\\triangle P O_{1} O_{2}$ and $\\triangle P O_{3} O_{4}$ lies on $B D$.",
    "solutions": [
      {
        "solution": "**Solution.** Since triangles $\\mathrm{PO}_{1} O_{2}$ and $P O_{3} O_{4}$ are right-angled, and their common vertex $P$ lies on $B D$, it is sufficient to prove that the line through the midpoints of segments $O_{1} O_{2}$ and $O_{3} O_{4}$ is perpendicular to $B D$. Let $T, R, L$, and $K$ be the projections of $O_{1}, O_{2}, O_{3}$, and $O_{4}$ onto $B D$. Then  \n\n$$  \nP K=\\frac{P A+P D-A D}{2}; P T=\\frac{P C+P D-C D}{2} \\Rightarrow P K-P T=\\frac{P A-P C+C D-A D}{2}.  \n$$  \n\nSimilarly,  \n\n$$  \nP L=\\frac{P A+P B-A B}{2}; P R=\\frac{P B+P C-B C}{2} \\Rightarrow P L-P R=\\frac{P A-P C+B C-A B}{2}.  \n$$  \n\nCombining the above two formulas and using that $A B C D$ is cyclic, i.e., $C D-A D=B C-A B$, we conclude that $P K-P T=P L-P R$. Hence, the midpoints of $K L$ and $T R$ coincide, meaning the midpoints of $O_{1} O_{2}$ and $O_{3} O_{4}$ project onto $B D$ at the same point (the common midpoint). The problem is proven.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-ZMS_2013_11_4",
    "metadata": {
      "source": "Bulgarian ZMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.859999999999999,
      "year": 2013,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 11.4. In the plane, there are $2 n$ points, no three of which are collinear. Some of the points are connected by segments such that for every $n$ points there exists a point connected by a segment to each of them. Find the minimum possible number of drawn segments.",
    "solutions": [
      {
        "solution": "Solution. First, we will prove the following\nLemma. Given a graph $G$ with $n$ vertices with the following property: for every $k, 1 \\leq k \\leq n-1$ vertices of $G$, there exists a vertex that is connected to each of these $k$ vertices. Then the minimum number of edges in $G$ is $\\left\\lceil\\frac{(2 k-1) n-k^{2}+1}{2}\\right\\rceil$.\n\nProof: We will prove the statement by induction on $k$. For $k=1$, each vertex must have at least one edge going out, and therefore at least $\\left\\lceil\\frac{n}{2}\\right\\rceil$ edges are necessary. Thus, the statement is true for $k=1$ and arbitrary $n$.\n\nLet $2 \\leq k+1<n$ and assume that the statement is true for all values less than $k+1$. Let $A$ be an arbitrary vertex that is not connected to $s$ of the given vertices (let us denote the set of these vertices by $M$) and is connected to $n-s-1$ vertices (let us denote the set of these vertices by $N$). The following properties are easily observed:\n\n1. Each vertex has degree at least $k+1$, because otherwise the set of vertex $A$ and at most $k$ vertices connected to it does not satisfy the condition of the problem.\n2. The set $N$ satisfies the condition of the problem for $k$ vertices. To do this, it is sufficient to consider any $k$ vertices from $N$ and vertex $A$.\n3. For any two vertices, the vertices connected to both of them are at least $k$. Therefore, from each vertex in $M$, at least $k$ edges go out to the vertices in $N$.\n\nSince each vertex in $M$ has degree at least $k+1$, we have at least $\\left\\lceil\\frac{s}{2}\\right\\rceil$ edges. Using the induction hypothesis for $N$ and the inequality $\\lceil a\\rceil+\\lceil b\\rceil \\geq\\lceil a+b\\rceil$, we obtain that the total number of edges is at least\n\n$$\n\\begin{array}{r}\nn-s-1+k s+\\left\\lceil\\frac{s}{2}\\right\\rceil+\\left\\lceil\\frac{(2 k-1)(n-s-1)-k^{2}+1}{2}\\right\\rceil \\geq \\\\\n\\left\\lceil\\frac{(2 k+1) n-2 k-k^{2}}{2}\\right\\rceil=\\left\\lceil\\frac{(2 k+1) n-(k+1)^{2}+1}{2}\\right\\rceil.\n\\end{array}\n$$\n\nTo solve the problem, we need to substitute $n$ with $2 n$ and $k$ with $n$. We obtain that the edges in the graph are at least\n\n$$\n\\left\\lceil\\frac{3 n^{2}-2 n+1}{2}\\right\\rceil.\n$$\n\nWe will construct a graph with $2 n$ vertices and $\\left\\lceil\\frac{3 n^{2}-2 n+1}{2}\\right\\rceil$ edges that has the desired property. We divide the vertices into two groups of $n-1$ and $n+1$ vertices, respectively. Each vertex from the first group is connected to all vertices of the graph. In the second group, we draw $\\left\\lceil\\frac{n+1}{2}\\right\\rceil$ edges such that each vertex has at least one edge going out. It is directly visible that for every $n$ vertices there exists a vertex that is connected to each one of them. The edges of this graph are\n\n$$\n\\frac{(n-1)(n-2)}{2}+(n-1)(n+1)+\\left\\lceil\\frac{n+1}{2}\\right\\rceil=\\left\\lceil\\frac{3 n^{2}-2 n+1}{2}\\right\\rceil.\n$$\n\nGrading: 2 points for the correct answer; at most 3 points for correct reasoning that can be supplemented to a solution.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-EMT_2011_12_1",
    "metadata": {
      "source": "Bulgarian EMT",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.22,
      "year": 2011,
      "competition": "bulgarian_comps"
    },
    "problem": "Problem 12.1. (Nikolay Nikolov) Find the values of the real parameter $a$ for which the equation $\\sin (\\sin x)=\\cos (a \\cos x)$ has a solution.",
    "solutions": [
      {
        "solution": "12.1. The given equation is equivalent to\n\n$$\n\\sin x \\pm a \\cos x=\\pi / 2+2 k \\pi, \\quad k \\in \\mathbb{Z}\n$$\n\nThe left side describes the interval $\\left[-\\sqrt{1+a^{2}}, \\sqrt{1+a^{2}}\\right]$ and thus the sought values of $a$ are those for which $\\sqrt{1+a^{2}} \\geq \\pi / 2$, i.e. $|a| \\geq \\sqrt{\\pi^{2} / 4-1}$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bulgarian-PMS_2014_12_3",
    "metadata": {
      "source": "Bulgarian PMS",
      "url": "https://klasirane.com/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.28,
      "year": 2014,
      "competition": "bulgarian_comps"
    },
    "problem": "**Problem 12.3.** Prove that if $a, b, c, d$ are positive numbers with a sum of $1$, then\n\n$$\n\\frac{a^{3}}{4 a^{2}+(b+c)^{2}}+\\frac{b^{3}}{4 b^{2}+(c+d)^{2}}+\\frac{c^{3}}{4 c^{2}+(d+a)^{2}}+\\frac{d^{3}}{4 d^{2}+(a+b)^{2}} \\geq \\frac{1}{8}\n$$",
    "solutions": [
      {
        "solution": "**Solution.** Note that after bringing to a common denominator, the inequality\n\n$$\n\\frac{a^{3}}{4 a^{2}+(b+c)^{2}} \\geq \\frac{a}{4}-\\frac{b+c}{16}\n$$\n\nis equivalent to the obvious $(b+c)(2 a-b-c)^{2} \\geq 0$. It remains to sum this inequality with the other three similar ones.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2004_5",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.33,
      "year": 2004,
      "competition": "british_mo"
    },
    "problem": "5. Let $p, q$ and $r$ be prime numbers. It is given that $p$ divides $q r-1$, $q$ divides $r p-1$, and $r$ divides $p q-1$.\nDetermine all possible values of pqr.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2008_1",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.41,
      "year": 2008,
      "competition": "british_mo"
    },
    "problem": "1. Find the value of\n\n$$\n\\frac{1^{4}+2007^{4}+2008^{4}}{1^{2}+2007^{2}+2008^{2}}\n$$",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2009_5",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.43,
      "year": 2009,
      "competition": "british_mo"
    },
    "problem": "5. Determine the sequences $a_{0}, a_{1}, a_{2}, \\ldots$ which satisfy all of the following conditions:\na) $a_{n+1}=2 a_{n}^{2}-1$ for every integer $n \\geq 0$,\nb) $a_{0}$ is a rational number and\nc) $a_{i}=a_{j}$ for some $i, j$ with $i \\neq j$.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2016_6",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.57,
      "year": 2016,
      "competition": "british_mo"
    },
    "problem": "6. A positive integer is called charming if it is equal to $2$ or is of the form $3^{i} 5^{j}$ where $i$ and $j$ are non-negative integers. Prove that every positive integer can be written as a sum of different charming integers.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2019_5",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.63,
      "year": 2019,
      "competition": "british_mo"
    },
    "problem": "5. Two solid cylinders are mathematically similar. The sum of their heights is $1$. The sum of their surface areas is $8 \\pi$. The sum of their volumes is $2 \\pi$. Find all possibilities for the dimensions of each cylinder.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo1_2021_3",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.67,
      "year": 2021,
      "competition": "british_mo"
    },
    "problem": "3. A square piece of paper is folded in half along a line of symmetry. The resulting shape is then folded in half along a line of symmetry of the new shape. This process is repeated until $n$ folds have been made, giving a sequence of $n+1$ shapes. If we do not distinguish between congruent shapes, find the number of possible sequences when:\n(a) $n=3$;\n(b) $n=6$;\n(c) $n=9$.\n(When $n=1$ there are two possible sequences.)",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo2_2001_2",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.52,
      "year": 2001,
      "competition": "british_mo"
    },
    "problem": "2. Find all pairs of integers $(x, y)$ satisfying\n\n$$\n1+x^{2} y=x^{2}+2 x y+2 x+y\n$$",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo2_2007_2",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.64,
      "year": 2007,
      "competition": "british_mo"
    },
    "problem": "2. Show that there are infinitely many pairs of positive integers $(m, n)$ such that\n\n$$\n\\frac{m+1}{n}+\\frac{n+1}{m}\n$$\nis a positive integer.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo2_2015_1",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.8,
      "year": 2015,
      "competition": "british_mo"
    },
    "problem": "1. The first term $x_{1}$ of a sequence is $2014$. Each subsequent term of the sequence is defined in terms of the previous term. The iterative formula is\n\n$$\nx_{n+1}=\\frac{(\\sqrt{2}+1) x_{n}-1}{(\\sqrt{2}+1)+x_{n}}\n$$\n\nFind the 2015th term $x_{2015}$.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "bmo2_2021_3",
    "metadata": {
      "source": "British Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.92,
      "year": 2021,
      "competition": "british_mo"
    },
    "problem": "Let $A B C$ be a triangle with $A B>A C$. Its circumcircle is $\\Gamma$ and its incentre is $I$. Let $D$ be the contact point of the incircle of $A B C$ with $B C$.\n\nLet $K$ be the point on $\\Gamma$ such that $\\angle A K I$ is a right angle.\nProve that $A I$ and $K D$ meet on $\\Gamma$.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "irish_2003_4",
    "metadata": {
      "source": "Irish Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.56,
      "year": 2003,
      "competition": "irish_mo"
    },
    "problem": "4. Eight players, Ann, Bob, Con, Dot, Eve, Fay, Guy and Hal compete in a chess tournament. No pair plays together more than once and there is no group of five people in which each one plays against all of the other four.\n(a) Write down an arrangement for a tournament of $24$ games satisfying these conditions.\n(b) Show that it is impossible to have a tournament of more than $24$ games satisfying these conditions.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "irish_2008_8",
    "metadata": {
      "source": "Irish Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.66,
      "year": 2008,
      "competition": "irish_mo"
    },
    "problem": "8. Find $a_{3}, a_{4}, \\ldots, a_{2008}$, such that $a_{i}= \\pm 1$ for $i=3, \\ldots, 2008$ and\n\n$$\n\\sum_{i=3}^{2008} a_{i} 2^{i}=2008\n$$\nand show that the numbers $a_{3}, a_{4}, \\ldots, a_{2008}$ are uniquely determined by these conditions.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "irish_2009_5",
    "metadata": {
      "source": "Irish Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.68,
      "year": 2009,
      "competition": "irish_mo"
    },
    "problem": "5. Suppose $a, b, c$ are real numbers such that $a+b+c=0$ and $a^{2}+b^{2}+c^{2}=1$. Prove that\n\n$$\na^{2} b^{2} c^{2} \\leq \\frac{1}{54}\n$$\nand determine the cases of equality.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "irish_2018_2",
    "metadata": {
      "source": "Irish Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.86,
      "year": 2018,
      "competition": "irish_mo"
    },
    "problem": "2. The triangle $A B C$ is right-angled at $A$. Its incentre is $I$, and $H$ is the foot of the perpendicular from $I$ on $A B$. The perpendicular from $H$ on $B C$ meets $B C$ at $E$, and it meets the bisector of $\\angle A B C$ at $D$. The perpendicular from $A$ on $B C$ meets $B C$ at $F$. Prove that $\\angle E F D=45^{\\circ}$.",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "irish_2021_9",
    "metadata": {
      "source": "Irish Mathematical Olympiad",
      "url": "https://bmos.ukmt.org.uk/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.92,
      "year": 2021,
      "competition": "irish_mo"
    },
    "problem": "9. Suppose the real numbers $a, A, b, B$ satisfy the inequalities:\n\n$$\n|A-3 a| \\leq 1-a, \\quad|B-3 b| \\leq 1-b\n$$\nand $a, b$ are positive. Prove that\n$$\n\\left|\\frac{A B}{3}-3 a b\\right|-3 a b \\leq 1-a b\n$$",
    "solutions": [
      {
        "solution": "No solution available.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_1977_27",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.08,
      "year": 1977,
      "competition": "imo"
    },
    "problem": "(USS 1) A square $A B C D$ is given. A line passing through $A$ intersects $C D$ at $Q$. Draw a line parallel to $A Q$ that intersects the boundary of the square at points $M$ and $N$ such that the area of the quadrilateral $A M N Q$ is maximal.",
    "solutions": [
      {
        "solution": "$M$ lies on $A B$ and $N$ lies on $B C$. If $C Q \\leq 2 C D / 3$, then $B M=C Q / 2$. If $C Q>2 C D / 3$, then $N$ coincides with C .",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_1980_11",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.2,
      "year": 1980,
      "competition": "imo"
    },
    "problem": "11. (NET) On a semicircle with unit radius four consecutive chords $A B, B C$, $C D, D E$ with lengths $a, b, c, d$, respectively, are given. Prove that\n\n$$\na^{2}+b^{2}+c^{2}+d^{2}+a b c+b c d<4 .\n$$",
    "solutions": [
      {
        "solution": "11. Let us denote the center of the semicircle by $O$, and $\\angle A O B=2 \\alpha$, $\\angle B O C=2 \\beta, A C=m, C E=n$.\nWe claim that $a^{2}+b^{2}+n^{2}+a b n=4$. Indeed, since $a=2 \\sin \\alpha, b=2 \\sin \\beta$, $n=2 \\cos (\\alpha+\\beta)$, we have\n\n$$\n\\begin{aligned}\na^{2}+ & b^{2}+n^{2}+a b n \\\\\n& =4\\left(\\sin ^{2} \\alpha+\\sin ^{2} \\beta+\\cos ^{2}(\\alpha+\\beta)+2 \\sin \\alpha \\sin \\beta \\cos (\\alpha+\\beta)\\right) \\\\\n& =4+4\\left(-\\frac{\\cos 2 \\alpha}{2}-\\frac{\\cos 2 \\beta}{2}+\\cos (\\alpha+\\beta) \\cos (\\alpha-\\beta)\\right) \\\\\n& =4+4(\\cos (\\alpha+\\beta) \\cos (\\alpha-\\beta)-\\cos (\\alpha+\\beta) \\cos (\\alpha-\\beta))=4\n\\end{aligned}\n$$\n\nAnalogously, $c^{2}+d^{2}+m^{2}+c d m=4$. By adding both equalities and subtracting $m^{2}+n^{2}=4$ we obtain\n\n$$\na^{2}+b^{2}+c^{2}+d^{2}+a b n+c d m=4\n$$\n\nSince $n>c$ and $m>b$, the desired inequality follows.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_1989_26",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.5600000000000005,
      "year": 1989,
      "competition": "imo"
    },
    "problem": "7. (FIN 1) Show that any two points lying inside a regular $n$-gon $E$ can be joined by two circular arcs lying inside $E$ and meeting at an angle of at least $\\left(1-\\frac{2}{n}\\right) \\pi$.",
    "solutions": [
      {
        "solution": "7. Assume that $P_{1}$ and $P_{2}$ are points inside $E$, and that the line $P_{1} P_{2}$ intersects the perimeter of $E$ at $Q_{1}$ and $Q_{2}$. If we prove the statement for $Q_{1}$ and $Q_{2}$, we are done, since these arcs can be mapped homothetically to join $P_{1}$ and $P_{2}$.\nLet $V_{1}, V_{2}$ be two vertices of $E$. Then applying two homotheties to the inscribed circle of $E$ one can find two arcs (one of them may be a side of $E)$ joining these two points, both tangent to the sides of $E$ that meet at $V_{1}$ and $V_{2}$. If $A$ is any point of the side $V_{2} V_{3}$, two homotheties with center $V_{1}$ take the arcs joining $V_{1}$ to $V_{2}$ and $V_{3}$ into arcs joining $V_{1}$ to $A$; their angle of incidence at $A$ remains $(1-2 / n) \\pi$.\nNext, for two arbitrary points $Q_{1}$ and $Q_{2}$ on two different sides $V_{1} V_{2}$ and $V_{3} V_{4}$, we join $V_{1}$ and $V_{2}$ to $Q_{2}$ with pairs of arcs that meet at $Q_{2}$ and have an angle of incidence $(1-2 / n) \\pi$. The two arcs that meet the line $Q_{1} Q_{2}$ again outside $E$ meet at $Q_{2}$ at an angle greater than or equal to $(1-2 / n) \\pi$. Two homotheties with center $Q_{2}$ carry these arcs to ones meeting also at $Q_{1}$ with the same angle of incidence.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_1992_31",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.68,
      "year": 1992,
      "competition": "imo"
    },
    "problem": "43. (KOR 1) Find the number of positive integers $n$ satisfying $\\phi(n) \\mid n$ such that\n\n$$\n\\sum_{m=1}^{\\infty}\\left(\\frac{n}{m}-\\frac{n-1}{m}\\right)=1992 .\n$$\n\nWhat is the largest number among them? As usual, $\\phi(n)$ is the number of positive integers less than or equal to $n$ and relatively prime to $n .^{6}$",
    "solutions": [
      {
        "solution": "Solution: The condition $\\phi(n) \\mid n$ implies that $n$ is a power of a prime. The sum $\\sum_{m=1}^{\\infty}\\left(\\frac{n}{m}-\\frac{n-1}{m}\\right)$ simplifies to $1$, so we need to find $n$ such that this sum equals 1992. By analyzing the properties of $\\phi(n)$ and the structure of the sum, we can determine the possible values of $n$ and identify the largest one.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_1994_15",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.76,
      "year": 1994,
      "competition": "imo"
    },
    "problem": "15. G3 (RUS) A circle $\\omega$ is tangent to two parallel lines $l_{1}$ and $l_{2}$. A second circle $\\omega_{1}$ is tangent to $l_{1}$ at $A$ and to $\\omega$ externally at $C$. A third circle $\\omega_{2}$ is tangent to $l_{2}$ at $B$, to $\\omega$ externally at $D$, and to $\\omega_{1}$ externally at $E$. $A D$ intersects $B C$ at $Q$. Prove that $Q$ is the circumcenter of triangle $C D E$.",
    "solutions": [
      {
        "solution": "15. We shall prove that $A D$ is a common tangent of $\\omega$ and $\\omega_{2}$. Denote by $K, L$ the points of tangency of $\\omega$ with $l_{1}$ and $l_{2}$ respectively. Let $r, r_{1}, r_{2}$ be the radii of $\\omega, \\omega_{1}, \\omega_{2}$ respectively, and set $K A=x, L B=y$. It will be enough if we show that $x y=2 r^{2}$, since this will imply that $\\triangle K L B$ and $\\triangle A K O$ are similar, where $O$ is the center of $\\omega$, and consequently that $O A \\perp K D$ (because $D \\in K B$ ). Now if $O_{1}$ is the center of $\\omega_{1}$, we have $x^{2}=$ $K A^{2}=O O_{1}^{2}-\\left(K O-A O_{1}\\right)^{2}=\\left(r+r_{1}\\right)^{2}-\\left(r-r_{1}\\right)^{2}=4 r r_{1}$ and analogously $y^{2}=4 r r_{2}$. But we also have $\\left(r_{1}+r_{2}\\right)^{2}=O_{1} O_{2}^{2}=(x-y)^{2}+\\left(2 r-r_{1}-r_{2}\\right)^{2}$, so $x^{2}-2 x y+y^{2}=4 r\\left(r_{1}+r_{2}-r\\right)$, from which we obtain $x y=2 r^{2}$ as claimed. Hence $A D$ is tangent to both $\\omega, \\omega_{2}$, and similarly $B C$ is tangent to $\\omega, \\omega_{1}$.\nIt follows that $Q$ lies on the radical axes of pairs of circles $\\left(\\omega, \\omega_{1}\\right)$ and $\\left(\\omega, \\omega_{2}\\right)$. Therefore $Q$ also lies on the radical axis of $\\left(\\omega_{1}, \\omega_{2}\\right)$, i.e., on the common tangent at $E$ of $\\omega_{1}$ and $\\omega_{2}$. Hence $Q C=Q D=Q E$.\nSecond solution. An inversion with center at $D$ maps $\\omega$ and $\\omega_{2}$ to parallel lines, $\\omega_{1}$ and $l_{2}$ to disjoint equal circles touching $\\omega, \\omega_{2}$, and $l_{1}$ to a circle externally tangent to $\\omega_{1}, l_{2}$, and to $\\omega$. It is easy to see that the obtained picture is symmetric (with respect to a diameter of $l_{1}$ ), and that line $A D$ is parallel to the lines $\\omega$ and $\\omega_{2}$. Going back to the initial picture, this means that $A D$ is a common tangent of $\\omega$ and $\\omega_{2}$. The end is like that in the first solution.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_2001_1",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [],
      "level": "high_school",
      "difficulty": 7.04,
      "year": 2001,
      "competition": "imo"
    },
    "problem": "14. C8 (GER) ${ }^{\\mathrm{IMO} 3}$ Twenty-one girls and twenty-one boys took part in a mathematical competition. It turned out that\n(i) each contestant solved at most six problems, and\n(ii) for each pair of a girl and a boy, there was at least one problem that was solved by both the girl and the boy.\nShow that there is a problem that was solved by at least three girls and at least three boys.",
    "solutions": [
      {
        "solution": "14. We say that a problem is difficult for boys if at most two boys solved it, and difficult for girls if at most two girls solved it.\nLet us estimate the number of pairs boy-girl both of whom solved some problem difficult for boys. Consider any girl. By the condition (ii), among the six problems she solved, at least one was solved by at least $3$ boys, and hence at most $5$ were difficult for boys. Since each of these problems was solved by at most $2$ boys and there are $21$ girls, the considered number of pairs does not exceed $5 \\cdot 2 \\cdot 21=210$.\nSimilarly, there are at most $210$ pairs boy-girl both of whom solved some problem difficult for girls. On the other hand, there are $21^{2}>2 \\cdot 210$ pairs boy-girl, and each of them solved one problem in common. Thus some problems were difficult neither for girls nor for boys, as claimed.\nRemark. The statement can be generalized: if $2(m-1)(n-1)+1$ boys and as many girls participated, and nobody solved more than $m$ problems, then some problem was solved by at least $n$ boys and $n$ girls.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_2009_8",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [
        " Combinatorics"
      ],
      "level": "high_school",
      "difficulty": 7.36,
      "year": 2009,
      "competition": "imo"
    },
    "problem": "Consider $2009$ cards, each having one gold side and one black side, lying in parallel on a long table. Initially all cards show their gold sides. Two players, standing by the same long side of the table, play a game with alternating moves. Each move consists of choosing a block of $50$ consecutive cards, the leftmost of which is showing gold, and turning them all over, so those which showed gold now show black and vice versa. The last player who can make a legal move wins.\n(a) Does the game necessarily end?\n(b) Does there exist a winning strategy for the starting player?",
    "solutions": [
      {
        "solution": "Solution. (a) We interpret a card showing black as the digit $0$ and a card showing gold as the digit 1. Thus each position of the $2009$ cards, read from left to right, corresponds bijectively to a nonnegative integer written in binary notation of $2009$ digits, where leading zeros are allowed. Each move decreases this integer, so the game must end.\n(b) We show that there is no winning strategy for the starting player. We label the cards from right to left by $1, \\ldots, 2009$ and consider the set $S$ of cards with labels $50 i, i=1,2, \\ldots, 40$. Let $g_{n}$ be the number of cards from $S$ showing gold after $n$ moves. Obviously, $g_{0}=40$. Moreover, $\\left|g_{n}-g_{n+1}\\right|=1$ as long as the play goes on. Thus, after an odd number of moves, the nonstarting player finds a card from $S$ showing gold and hence can make a move. Consequently, this player always wins.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_2013_13",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [
        " Combinatorics"
      ],
      "level": "high_school",
      "difficulty": 7.52,
      "year": 2013,
      "competition": "imo"
    },
    "problem": "C7. Let $n \\geqslant 2$ be an integer. Consider all circular arrangements of the numbers $0,1, \\ldots, n$; the $n+1$ rotations of an arrangement are considered to be equal. A circular arrangement is called beautiful if, for any four distinct numbers $0 \\leqslant a, b, c, d \\leqslant n$ with $a+c=b+d$, the chord joining numbers $a$ and $c$ does not intersect the chord joining numbers $b$ and $d$.\n\nLet $M$ be the number of beautiful arrangements of $0,1, \\ldots, n$. Let $N$ be the number of pairs $(x, y)$ of positive integers such that $x+y \\leqslant n$ and $\\operatorname{gcd}(x, y)=1$. Prove that\n\n$$\nM=N+1\n$$\n(Russia)",
    "solutions": [
      {
        "solution": "Solution 1. Given a circular arrangement of $[0, n]=\\{0,1, \\ldots, n\\}$, we define a $k$-chord to be a (possibly degenerate) chord whose (possibly equal) endpoints add up to $k$. We say that three chords of a circle are aligned if one of them separates the other two. Say that $m \\geqslant 3$ chords are aligned if any three of them are aligned. For instance, in Figure 1, $A, B$, and $C$ are aligned, while $B, C$, and $D$ are not.\n\n\nFigure $1$\n\n\nFigure $2$\n\nClaim. In a beautiful arrangement, the $k$-chords are aligned for any integer $k$.\nProof. We proceed by induction. For $n \\leqslant 3$ the statement is trivial. Now let $n \\geqslant 4$, and proceed by contradiction. Consider a beautiful arrangement $S$ where the three $k$-chords $A, B, C$ are not aligned. If $n$ is not among the endpoints of $A, B$, and $C$, then by deleting $n$ from $S$ we obtain a beautiful arrangement $S \\backslash\\{n\\}$ of $[0, n-1]$, where $A, B$, and $C$ are aligned by the induction hypothesis. Similarly, if $0$ is not among these endpoints, then deleting $0$ and decreasing all the numbers by $1$ gives a beautiful arrangement $S \\backslash\\{0\\}$ where $A, B$, and $C$ are aligned. Therefore both $0$ and $n$ are among the endpoints of these segments. If $x$ and $y$ are their respective partners, we have $n \\geqslant 0+x=k=n+y \\geqslant n$. Thus $0$ and $n$ are the endpoints of one of the chords; say it is $C$.\n\nLet $D$ be the chord formed by the numbers $u$ and $v$ which are adjacent to $0$ and $n$ and on the same side of $C$ as $A$ and $B$, as shown in Figure 2. Set $t=u+v$. If we had $t=n$, the $n$-chords $A$, $B$, and $D$ would not be aligned in the beautiful arrangement $S \\backslash\\{0, n\\}$, contradicting the induction hypothesis. If $t<n$, then the $t$-chord from $0$ to $t$ cannot intersect $D$, so the chord $C$ separates $t$ and $D$. The chord $E$ from $t$ to $n-t$ does not intersect $C$, so $t$ and $n-t$ are on the same side of $C$. But then the chords $A, B$, and $E$ are not aligned in $S \\backslash\\{0, n\\}$, a contradiction. Finally, the case $t>n$ is equivalent to the case $t<n$ via the beauty-preserving relabelling $x \\mapsto n-x$ for $0 \\leqslant x \\leqslant n$, which sends $t$-chords to $(2 n-t)$-chords. This proves the Claim.\n\nHaving established the Claim, we prove the desired result by induction. The case $n=2$ is trivial. Now assume that $n \\geqslant 3$. Let $S$ be a beautiful arrangement of $[0, n]$ and delete $n$ to obtain\nthe beautiful arrangement $T$ of $[0, n-1]$. The $n$-chords of $T$ are aligned, and they contain every point except $0$. Say $T$ is of Type $1$ if $0$ lies between two of these $n$-chords, and it is of Type $2$ otherwise; i.e., if $0$ is aligned with these $n$-chords. We will show that each Type $1$ arrangement of $[0, n-1]$ arises from a unique arrangement of $[0, n]$, and each Type $2$ arrangement of $[0, n-1]$ arises from exactly two beautiful arrangements of $[0, n]$.\n\nIf $T$ is of Type $1$, let $0$ lie between chords $A$ and $B$. Since the chord from $0$ to $n$ must be aligned with $A$ and $B$ in $S, n$ must be on the other arc between $A$ and $B$. Therefore $S$ can be recovered uniquely from $T$. In the other direction, if $T$ is of Type $1$ and we insert $n$ as above, then we claim the resulting arrangement $S$ is beautiful. For $0<k<n$, the $k$-chords of $S$ are also $k$-chords of $T$, so they are aligned. Finally, for $n<k<2 n$, notice that the $n$-chords of $S$ are parallel by construction, so there is an antisymmetry axis $\\ell$ such that $x$ is symmetric to $n-x$ with respect to $\\ell$ for all $x$. If we had two $k$-chords which intersect, then their reflections across $\\ell$ would be two ( $2 n-k$ )-chords which intersect, where $0<2 n-k<n$, a contradiction.\n\nIf $T$ is of Type 2, there are two possible positions for $n$ in $S$, on either side of $0$. As above, we check that both positions lead to beautiful arrangements of $[0, n]$.\n\nHence if we let $M_{n}$ be the number of beautiful arrangements of $[0, n]$, and let $L_{n}$ be the number of beautiful arrangements of $[0, n-1]$ of Type $2$, we have\n\n$$\nM_{n}=\\left(M_{n-1}-L_{n-1}\\right)+2 L_{n-1}=M_{n-1}+L_{n-1}\n$$\n\nIt then remains to show that $L_{n-1}$ is the number of pairs $(x, y)$ of positive integers with $x+y=n$ and $\\operatorname{gcd}(x, y)=1$. Since $n \\geqslant 3$, this number equals $\\varphi(n)=\\#\\{x: 1 \\leqslant x \\leqslant n, \\operatorname{gcd}(x, n)=1\\}$.\n\nTo prove this, consider a Type $2$ beautiful arrangement of $[0, n-1]$. Label the positions $0, \\ldots, n-1(\\bmod n)$ clockwise around the circle, so that number $0$ is in position $0$. Let $f(i)$ be the number in position $i$; note that $f$ is a permutation of $[0, n-1]$. Let $a$ be the position such that $f(a)=n-1$.\n\nSince the $n$-chords are aligned with $0$, and every point is in an $n$-chord, these chords are all parallel and\n\n$$\nf(i)+f(-i)=n \\quad \\text { for all } i\n$$\n\nSimilarly, since the $(n-1)$-chords are aligned and every point is in an $(n-1)$-chord, these chords are also parallel and\n\n$$\nf(i)+f(a-i)=n-1 \\quad \\text { for all } i\n$$\n\nTherefore $f(a-i)=f(-i)-1$ for all $i$; and since $f(0)=0$, we get\n\n$$\nf(-a k)=k \\quad \\text { for all } k \\text {. }\n$$\n\nRecall that this is an equality modulo $n$. Since $f$ is a permutation, we must have $(a, n)=1$. Hence $L_{n-1} \\leqslant \\varphi(n)$.\n\nTo prove equality, it remains to observe that the labeling (1) is beautiful. To see this, consider four numbers $w, x, y, z$ on the circle with $w+y=x+z$. Their positions around the circle satisfy $(-a w)+(-a y)=(-a x)+(-a z)$, which means that the chord from $w$ to $y$ and the chord from $x$ to $z$ are parallel. Thus (1) is beautiful, and by construction it has Type 2. The desired result follows.\n\nSolution 2. Notice that there are exactly $N$ irreducible fractions $f_{1}<\\cdots<f_{N}$ in $(0,1)$ whose denominator is at most $n$, since the pair $(x, y)$ with $x+y \\leqslant n$ and $(x, y)=1$ corresponds to the fraction $x /(x+y)$. Write $f_{i}=\\frac{a_{i}}{b_{i}}$ for $1 \\leqslant i \\leqslant N$.\n\nWe begin by constructing $N+1$ beautiful arrangements. Take any $\\alpha \\in(0,1)$ which is not one of the above $N$ fractions. Consider a circle of perimeter $1$. Successively mark points $0,1,2, \\ldots, n$ where $0$ is arbitrary, and the clockwise distance from $i$ to $i+1$ is $\\alpha$. The point $k$ will be at clockwise distance $\\{k \\alpha\\}$ from $0$, where $\\{r\\}$ denotes the fractional part of $r$. Call such a circular arrangement cyclic and denote it by $A(\\alpha)$. If the clockwise order of the points is the same in $A\\left(\\alpha_{1}\\right)$ and $A\\left(\\alpha_{2}\\right)$, we regard them as the same circular arrangement. Figure $3$ shows the cyclic arrangement $A(3 / 5+\\epsilon)$ of $[0,13]$ where $\\epsilon>0$ is very small.\n\n\nFigure $3$\nIf $0 \\leqslant a, b, c, d \\leqslant n$ satisfy $a+c=b+d$, then $a \\alpha+c \\alpha=b \\alpha+d \\alpha$, so the chord from $a$ to $c$ is parallel to the chord from $b$ to $d$ in $A(\\alpha)$. Hence in a cyclic arrangement all $k$-chords are parallel. In particular every cyclic arrangement is beautiful.\n\nNext we show that there are exactly $N+1$ distinct cyclic arrangements. To see this, let us see how $A(\\alpha)$ changes as we increase $\\alpha$ from $0$ to $1$. The order of points $p$ and $q$ changes precisely when we cross a value $\\alpha=f$ such that $\\{p f\\}=\\{q f\\}$; this can only happen if $f$ is one of the $N$ fractions $f_{1}, \\ldots, f_{N}$. Therefore there are at most $N+1$ different cyclic arrangements.\n\nTo show they are all distinct, recall that $f_{i}=a_{i} / b_{i}$ and let $\\epsilon>0$ be a very small number. In the arrangement $A\\left(f_{i}+\\epsilon\\right)$, point $k$ lands at $\\frac{k a_{i}\\left(\\bmod b_{i}\\right)}{b_{i}}+k \\epsilon$. Therefore the points are grouped into $b_{i}$ clusters next to the points $0, \\frac{1}{b_{i}}, \\ldots, \\frac{b_{i}-1}{b_{i}}$ of the circle. The cluster following $\\frac{k}{b_{i}}$ contains the numbers congruent to $k a_{i}^{-1}$ modulo $b_{i}$, listed clockwise in increasing order. It follows that the first number after $0$ in $A\\left(f_{i}+\\epsilon\\right)$ is $b_{i}$, and the first number after $0$ which is less than $b_{i}$ is $a_{i}^{-1}\\left(\\bmod b_{i}\\right)$, which uniquely determines $a_{i}$. In this way we can recover $f_{i}$ from the cyclic arrangement. Note also that $A\\left(f_{i}+\\epsilon\\right)$ is not the trivial arrangement where we list $0,1, \\ldots, n$ in order clockwise. It follows that the $N+1$ cyclic arrangements $A(\\epsilon), A\\left(f_{1}+\\epsilon\\right), \\ldots, A\\left(f_{N}+\\epsilon\\right)$ are distinct.\n\nLet us record an observation which will be useful later:\n\n$$\n\\text { if } f_{i}<\\alpha<f_{i+1} \\text { then } 0 \\text { is immediately after } b_{i+1} \\text { and before } b_{i} \\text { in } A(\\alpha) \\text {. }\n$$\n\nIndeed, we already observed that $b_{i}$ is the first number after $0$ in $A\\left(f_{i}+\\epsilon\\right)=A(\\alpha)$. Similarly we see that $b_{i+1}$ is the last number before $0$ in $A\\left(f_{i+1}-\\epsilon\\right)=A(\\alpha)$.\n\nFinally, we show that any beautiful arrangement of $[0, n]$ is cyclic by induction on $n$. For $n \\leqslant 2$ the result is clear. Now assume that all beautiful arrangements of $[0, n-1]$ are cyclic, and consider a beautiful arrangement $A$ of $[0, n]$. The subarrangement $A_{n-1}=A \\backslash\\{n\\}$ of $[0, n-1]$ obtained by deleting $n$ is cyclic; say $A_{n-1}=A_{n-1}(\\alpha)$.\n\nLet $\\alpha$ be between the consecutive fractions $\\frac{p_{1}}{q_{1}}<\\frac{p_{2}}{q_{2}}$ among the irreducible fractions of denominator at most $n-1$. There is at most one fraction $\\frac{i}{n}$ in $\\left(\\frac{p_{1}}{q_{1}}, \\frac{p_{2}}{q_{2}}\\right)$, since $\\frac{i}{n}<\\frac{i}{n-1} \\leqslant \\frac{i+1}{n}$ for $0<i \\leqslant n-1$.\n\nCase 1. There is no fraction with denominator $n$ between $\\frac{p_{1}}{q_{1}}$ and $\\frac{p_{2}}{q_{2}}$.\nIn this case the only cyclic arrangement extending $A_{n-1}(\\alpha)$ is $A_{n}(\\alpha)$. We know that $A$ and $A_{n}(\\alpha)$ can only differ in the position of $n$. Assume $n$ is immediately after $x$ and before $y$ in $A_{n}(\\alpha)$. Since the neighbors of $0$ are $q_{1}$ and $q_{2}$ by (2), we have $x, y \\geqslant 1$.\n\n\nFigure $4$\nIn $A_{n}(\\alpha)$ the chord from $n-1$ to $x$ is parallel and adjacent to the chord from $n$ to $x-1$, so $n-1$ is between $x-1$ and $x$ in clockwise order, as shown in Figure 4. Similarly, $n-1$ is between $y$ and $y-1$. Therefore $x, y, x-1, n-1$, and $y-1$ occur in this order in $A_{n}(\\alpha)$ and hence in $A$ (possibly with $y=x-1$ or $x=y-1$ ).\n\nNow, $A$ may only differ from $A_{n}(\\alpha)$ in the location of $n$. In $A$, since the chord from $n-1$ to $x$ and the chord from $n$ to $x-1$ do not intersect, $n$ is between $x$ and $n-1$. Similarly, $n$ is between $n-1$ and $y$. Then $n$ must be between $x$ and $y$ and $A=A_{n}(\\alpha)$. Therefore $A$ is cyclic as desired.\n\nCase 2. There is exactly one $i$ with $\\frac{p_{1}}{q_{1}}<\\frac{i}{n}<\\frac{p_{2}}{q_{2}}$.\nIn this case there exist two cyclic arrangements $A_{n}\\left(\\alpha_{1}\\right)$ and $A_{n}\\left(\\alpha_{2}\\right)$ of the numbers $0, \\ldots, n$ extending $A_{n-1}(\\alpha)$, where $\\frac{p_{1}}{q_{1}}<\\alpha_{1}<\\frac{i}{n}$ and $\\frac{i}{n}<\\alpha_{2}<\\frac{p_{2}}{q_{2}}$. In $A_{n-1}(\\alpha), 0$ is the only number between $q_{2}$ and $q_{1}$ by (2). For the same reason, $n$ is between $q_{2}$ and $0$ in $A_{n}\\left(\\alpha_{1}\\right)$, and between $0$ and $q_{1}$ in $A_{n}\\left(\\alpha_{2}\\right)$.\n\nLetting $x=q_{2}$ and $y=q_{1}$, the argument of Case $1$ tells us that $n$ must be between $x$ and $y$ in $A$. Therefore $A$ must equal $A_{n}\\left(\\alpha_{1}\\right)$ or $A_{n}\\left(\\alpha_{2}\\right)$, and therefore it is cyclic.\n\nThis concludes the proof that every beautiful arrangement is cyclic. It follows that there are exactly $N+1$ beautiful arrangements of $[0, n]$ as we wished to show.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_2017_16",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [
        " Combinatorics"
      ],
      "level": "high_school",
      "difficulty": 7.68,
      "year": 2017,
      "competition": "imo"
    },
    "problem": "C8. Let $n$ be a given positive integer. In the Cartesian plane, each lattice point with nonnegative coordinates initially contains a butterfly, and there are no other butterflies. The neighborhood of a lattice point $c$ consists of all lattice points within the axis-aligned $(2 n+1) \\times$ $(2 n+1)$ square centered at $c$, apart from $c$ itself. We call a butterfly lonely, crowded, or comfortable, depending on whether the number of butterflies in its neighborhood $N$ is respectively less than, greater than, or equal to half of the number of lattice points in $N$.\n\nEvery minute, all lonely butterflies fly away simultaneously. This process goes on for as long as there are any lonely butterflies. Assuming that the process eventually stops, determine the number of comfortable butterflies at the final state.\n(Bulgaria)\nAnswer: $n^{2}+1$.",
    "solutions": [
      {
        "solution": "Solution. We always identify a butterfly with the lattice point it is situated at. For two points $p$ and $q$, we write $p \\geqslant q$ if each coordinate of $p$ is at least the corresponding coordinate of $q$. Let $O$ be the origin, and let $\\mathcal{Q}$ be the set of initially occupied points, i.e., of all lattice points with nonnegative coordinates. Let $\\mathcal{R}_{\\mathrm{H}}=\\{(x, 0): x \\geqslant 0\\}$ and $\\mathcal{R}_{\\mathrm{V}}=\\{(0, y): y \\geqslant 0\\}$ be the sets of the lattice points lying on the horizontal and vertical boundary rays of $\\mathcal{Q}$. Denote by $N(a)$ the neighborhood of a lattice point $a$.\n\n1. Initial observations. We call a set of lattice points up-right closed if its points stay in the set after being shifted by any lattice vector $(i, j)$ with $i, j \\geqslant 0$. Whenever the butterflies form a up-right closed set $\\mathcal{S}$, we have $|N(p) \\cap \\mathcal{S}| \\geqslant|N(q) \\cap \\mathcal{S}|$ for any two points $p, q \\in \\mathcal{S}$ with $p \\geqslant q$. So, since $\\mathcal{Q}$ is up-right closed, the set of butterflies at any moment also preserves this property. We assume all forthcoming sets of lattice points to be up-right closed.\n\nWhen speaking of some set $\\mathcal{S}$ of lattice points, we call its points lonely, comfortable, or crowded with respect to this set (i.e., as if the butterflies were exactly at all points of $\\mathcal{S}$ ). We call a set $\\mathcal{S} \\subset \\mathcal{Q}$ stable if it contains no lonely points. In what follows, we are interested only in those stable sets whose complements in $\\mathcal{Q}$ are finite, because one can easily see that only a finite number of butterflies can fly away on each minute.\n\nIf the initial set $\\mathcal{Q}$ of butterflies contains some stable set $\\mathcal{S}$, then, clearly no butterfly of this set will fly away. On the other hand, the set $\\mathcal{F}$ of all butterflies in the end of the process is stable. This means that $\\mathcal{F}$ is the largest (with respect to inclusion) stable set within $\\mathcal{Q}$, and we are about to describe this set.\n2. A description of a final set. The following notion will be useful. Let $\\mathcal{U}=\\left\\{\\vec{u}_{1}, \\vec{u}_{2}, \\ldots, \\vec{u}_{d}\\right\\}$ be a set of $d$ pairwise non-parallel lattice vectors, each having a positive $x$ - and a negative $y$-coordinate. Assume that they are numbered in increasing order according to slope. We now define a $\\mathcal{U}$-curve to be the broken line $p_{0} p_{1} \\ldots p_{d}$ such that $p_{0} \\in \\mathcal{R}_{\\mathrm{V}}, p_{d} \\in \\mathcal{R}_{\\mathrm{H}}$, and $\\overrightarrow{p_{i-1} p_{i}}=\\vec{u}_{i}$ for all $i=1,2, \\ldots, m$ (see the Figure below to the left).\n\n\nConstruction of $\\mathcal{U}$-curve\n\n\nConstruction of $\\mathcal{D}$\n\nNow, let $\\mathcal{K}_{n}=\\{(i, j): 1 \\leqslant i \\leqslant n,-n \\leqslant j \\leqslant-1\\}$. Consider all the rays emerging at $O$ and passing through a point from $\\mathcal{K}_{n}$; number them as $r_{1}, \\ldots, r_{m}$ in increasing order according to slope. Let $A_{i}$ be the farthest from $O$ lattice point in $r_{i} \\cap \\mathcal{K}_{n}$, set $k_{i}=\\left|r_{i} \\cap \\mathcal{K}_{n}\\right|$, let $\\vec{v}_{i}=\\overrightarrow{O A_{i}}$, and finally denote $\\mathcal{V}=\\left\\{\\vec{v}_{i}: 1 \\leqslant i \\leqslant m\\right\\}$; see the Figure above to the right. We will concentrate on the $\\mathcal{V}$-curve $d_{0} d_{1} \\ldots d_{m}$; let $\\mathcal{D}$ be the set of all lattice points $p$ such that $p \\geqslant p^{\\prime}$ for some (not necessarily lattice) point $p^{\\prime}$ on the $\\mathcal{V}$-curve. In fact, we will show that $\\mathcal{D}=\\mathcal{F}$.\n\nClearly, the $\\mathcal{V}$-curve is symmetric in the line $y=x$. Denote by $D$ the convex hull of $\\mathcal{D}$.\n3. We prove that the set $\\mathcal{D}$ contains all stable sets. Let $\\mathcal{S} \\subset \\mathcal{Q}$ be a stable set (recall that it is assumed to be up-right closed and to have a finite complement in $\\mathcal{Q}$ ). Denote by $S$ its convex hull; clearly, the vertices of $S$ are lattice points. The boundary of $S$ consists of two rays (horizontal and vertical ones) along with some $\\mathcal{V}_{*}$-curve for some set of lattice vectors $\\mathcal{V}_{*}$.\nClaim 1. For every $\\vec{v}_{i} \\in \\mathcal{V}$, there is a $\\vec{v}_{i}^{*} \\in \\mathcal{V}_{*}$ co-directed with $\\vec{v}$ with $\\left|\\vec{v}_{i}^{*}\\right| \\geqslant|\\vec{v}|$.\nProof. Let $\\ell$ be the supporting line of $S$ parallel to $\\vec{v}_{i}$ (i.e., $\\ell$ contains some point of $S$, and the set $S$ lies on one side of $\\ell$ ). Take any point $b \\in \\ell \\cap \\mathcal{S}$ and consider $N(b)$. The line $\\ell$ splits the set $N(b) \\backslash \\ell$ into two congruent parts, one having an empty intersection with $\\mathcal{S}$. Hence, in order for $b$ not to be lonely, at least half of the set $\\ell \\cap N(b)$ (which contains $2 k_{i}$ points) should lie in $S$. Thus, the boundary of $S$ contains a segment $\\ell \\cap S$ with at least $k_{i}+1$ lattice points (including $b$ ) on it; this segment corresponds to the required vector $\\vec{v}_{i}^{*} \\in \\mathcal{V}_{*}$.\n\n\nClaim 2. Each stable set $\\mathcal{S} \\subseteq \\mathcal{Q}$ lies in $\\mathcal{D}$.\nProof. To show this, it suffices to prove that the $\\mathcal{V}_{*}$-curve lies in $D$, i.e., that all its vertices do so. Let $p^{\\prime}$ be an arbitrary vertex of the $\\mathcal{V}_{*}$-curve; $p^{\\prime}$ partitions this curve into two parts, $\\mathcal{X}$ (being down-right of $p$ ) and $\\mathcal{Y}$ (being up-left of $p$ ). The set $\\mathcal{V}$ is split now into two parts: $\\mathcal{V}_{\\mathcal{X}}$ consisting of those $\\vec{v}_{i} \\in \\mathcal{V}$ for which $\\vec{v}_{i}^{*}$ corresponds to a segment in $\\mathcal{X}$, and a similar part $\\mathcal{V}_{\\mathcal{Y}}$. Notice that the $\\mathcal{V}$-curve consists of several segments corresponding to $\\mathcal{V}_{\\mathcal{X}}$, followed by those corresponding to $\\mathcal{V}_{\\mathcal{Y}}$. Hence there is a vertex $p$ of the $\\mathcal{V}$-curve separating $\\mathcal{V}_{\\mathcal{X}}$ from $\\mathcal{V}_{\\mathcal{Y}}$. Claim $1$ now yields that $p^{\\prime} \\geqslant p$, so $p^{\\prime} \\in \\mathcal{D}$, as required.\n\nClaim $2$ implies that the final set $\\mathcal{F}$ is contained in $\\mathcal{D}$.\n4. $\\mathcal{D}$ is stable, and its comfortable points are known. Recall the definitions of $r_{i}$; let $r_{i}^{\\prime}$ be the ray complementary to $r_{i}$. By our definitions, the set $N(O)$ contains no points between the rays $r_{i}$ and $r_{i+1}$, as well as between $r_{i}^{\\prime}$ and $r_{i+1}^{\\prime}$.\nClaim 3. In the set $\\mathcal{D}$, all lattice points of the $\\mathcal{V}$-curve are comfortable.\nProof. Let $p$ be any lattice point of the $\\mathcal{V}$-curve, belonging to some segment $d_{i} d_{i+1}$. Draw the line $\\ell$ containing this segment. Then $\\ell \\cap \\mathcal{D}$ contains exactly $k_{i}+1$ lattice points, all of which lie in $N(p)$ except for $p$. Thus, exactly half of the points in $N(p) \\cap \\ell$ lie in $\\mathcal{D}$. It remains to show that all points of $N(p)$ above $\\ell$ lie in $\\mathcal{D}$ (recall that all the points below $\\ell$ lack this property).\n\nNotice that each vector in $\\mathcal{V}$ has one coordinate greater than $n / 2$; thus the neighborhood of $p$ contains parts of at most two segments of the $\\mathcal{V}$-curve succeeding $d_{i} d_{i+1}$, as well as at most two of those preceding it.\n\nThe angles formed by these consecutive segments are obtained from those formed by $r_{j}$ and $r_{j-1}^{\\prime}$ (with $i-1 \\leqslant j \\leqslant i+2$ ) by shifts; see the Figure below. All the points in $N(p)$ above $\\ell$ which could lie outside $\\mathcal{D}$ lie in shifted angles between $r_{j}, r_{j+1}$ or $r_{j}^{\\prime}, r_{j-1}^{\\prime}$. But those angles, restricted to $N(p)$, have no lattice points due to the above remark. The claim is proved.\n\n\nProof of Claim $3$\n\nClaim 4. All the points of $\\mathcal{D}$ which are not on the boundary of $D$ are crowded.\nProof. Let $p \\in \\mathcal{D}$ be such a point. If it is to the up-right of some point $p^{\\prime}$ on the curve, then the claim is easy: the shift of $N\\left(p^{\\prime}\\right) \\cap \\mathcal{D}$ by $\\overrightarrow{p^{\\prime} p}$ is still in $\\mathcal{D}$, and $N(p)$ contains at least one more point of $\\mathcal{D}$ - either below or to the left of $p$. So, we may assume that $p$ lies in a right triangle constructed on some hypothenuse $d_{i} d_{i+1}$. Notice here that $d_{i}, d_{i+1} \\in N(p)$.\n\nDraw a line $\\ell$ \\| $d_{i} d_{i+1}$ through $p$, and draw a vertical line $h$ through $d_{i}$; see Figure below. Let $\\mathcal{D}_{\\mathrm{L}}$ and $\\mathcal{D}_{\\mathrm{R}}$ be the parts of $\\mathcal{D}$ lying to the left and to the right of $h$, respectively (points of $\\mathcal{D} \\cap h$ lie in both parts).\n\n\nNotice that the vectors $\\overrightarrow{d_{i} p}, \\overrightarrow{d_{i+1} d_{i+2}}, \\overrightarrow{d_{i} d_{i+1}}, \\overrightarrow{d_{i-1} d_{i}}$, and $\\overrightarrow{p d_{i+1}}$ are arranged in non-increasing order by slope. This means that $\\mathcal{D}_{\\mathrm{L}}$ shifted by $\\overrightarrow{d_{i} p}$ still lies in $\\mathcal{D}$, as well as $\\mathcal{D}_{\\mathrm{R}}$ shifted by $\\overrightarrow{d_{i+1} p}$. As we have seen in the proof of Claim 3, these two shifts cover all points of $N(p)$ above $\\ell$, along with those on $\\ell$ to the left of $p$. Since $N(p)$ contains also $d_{i}$ and $d_{i+1}$, the point $p$ is crowded.\n\nThus, we have proved that $\\mathcal{D}=\\mathcal{F}$, and have shown that the lattice points on the $\\mathcal{V}$-curve are exactly the comfortable points of $\\mathcal{D}$. It remains to find their number.\n\nRecall the definition of $\\mathcal{K}_{n}$ (see Figure on the first page of the solution). Each segment $d_{i} d_{i+1}$ contains $k_{i}$ lattice points different from $d_{i}$. Taken over all $i$, these points exhaust all the lattice points in the $\\mathcal{V}$-curve, except for $d_{1}$, and thus the number of lattice points on the $\\mathcal{V}$-curve is $1+\\sum_{i=1}^{m} k_{i}$. On the other hand, $\\sum_{i=1}^{m} k_{i}$ is just the number of points in $\\mathcal{K}_{n}$, so it equals $n^{2}$. Hence the answer to the problem is $n^{2}+1$.\n\nComment 1. The assumption that the process eventually stops is unnecessary for the problem, as one can see that, in fact, the process stops for every $n \\geqslant 1$. Indeed, the proof of Claims $3$ and $4$ do not rely essentially on this assumption, and they together yield that the set $\\mathcal{D}$ is stable. So, only butterflies that are not in $\\mathcal{D}$ may fly away, and this takes only a finite time.\n\nThis assumption has been inserted into the problem statement in order to avoid several technical details regarding finiteness issues. It may also simplify several other arguments.\n\nComment 2. The description of the final set $\\mathcal{F}(=\\mathcal{D})$ seems to be crucial for the solution; the Problem Selection Committee is not aware of any solution that completely avoids such a description.\n\nOn the other hand, after the set $\\mathcal{D}$ has been defined, the further steps may be performed in several ways. For example, in order to prove that all butterflies outside $\\mathcal{D}$ will fly away, one may argue as follows. (Here we will also make use of the assumption that the process eventually stops.)\n\nFirst of all, notice that the process can be modified in the following manner: Each minute, exactly one of the lonely butterflies flies away, until there are no more lonely butterflies. The modified process necessarily stops at the same state as the initial one. Indeed, one may observe, as in solution above, that the (unique) largest stable set is still the final set for the modified process.\n\nThus, in order to prove our claim, it suffices to indicate an order in which the butterflies should fly away in the new process; if we are able to exhaust the whole set $\\mathcal{Q} \\backslash \\mathcal{D}$, we are done.\n\nLet $\\mathcal{C}_{0}=d_{0} d_{1} \\ldots d_{m}$ be the $\\mathcal{V}$-curve. Take its copy $\\mathcal{C}$ and shift it downwards so that $d_{0}$ comes to some point below the origin $O$. Now we start moving $\\mathcal{C}$ upwards continuously, until it comes back to its initial position $\\mathcal{C}_{0}$. At each moment when $\\mathcal{C}$ meets some lattice points, we convince all the butterflies at those points to fly away in a certain order. We will now show that we always have enough arguments for butterflies to do so, which will finish our argument for the claim..\n\nLet $\\mathcal{C}^{\\prime}=d_{0}^{\\prime} d_{1}^{\\prime} \\ldots d_{m}^{\\prime}$ be a position of $\\mathcal{C}$ when it meets some butterflies. We assume that all butterflies under this current position of $\\mathcal{C}$ were already convinced enough and flied away. Consider the lowest butterfly $b$ on $\\mathcal{C}^{\\prime}$. Let $d_{i}^{\\prime} d_{i+1}^{\\prime}$ be the segment it lies on; we choose $i$ so that $b \\neq d_{i+1}^{\\prime}$ (this is possible because $\\mathcal{C}$ as not yet reached $\\mathcal{C}_{0}$ ).\n\nDraw a line $\\ell$ containing the segment $d_{i}^{\\prime} d_{i+1}^{\\prime}$. Then all the butterflies in $N(b)$ are situated on or above $\\ell$; moreover, those on $\\ell$ all lie on the segment $d_{i} d_{i+1}$. But this segment now contains at most $k_{i}$ butterflies (including $b$ ), since otherwise some butterfly had to occupy $d_{i+1}^{\\prime}$ which is impossible by the choice of $b$. Thus, $b$ is lonely and hence may be convinced to fly away.\n\nAfter $b$ has flied away, we switch to the lowest of the remaining butterflies on $\\mathcal{C}^{\\prime}$, and so on.\nClaims $3$ and $4$ also allow some different proofs which are not presented here.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMOSL_2020_30",
    "metadata": {
      "source": "IMO Shortlist",
      "url": "https://www.imo-official.org/",
      "category": [
        " Number Theory"
      ],
      "level": "high_school",
      "difficulty": 7.8,
      "year": 2020,
      "competition": "imo"
    },
    "problem": "N5. Determine all functions $f$ defined on the set of all positive integers and taking non-negative integer values, satisfying the three conditions:\n(i) $f(n) \\neq 0$ for at least one $n$;\n(ii) $f(x y)=f(x)+f(y)$ for every positive integers $x$ and $y$;\n(iii) there are infinitely many positive integers $n$ such that $f(k)=f(n-k)$ for all $k<n$.\n(Croatia)\nAnswer: The sought functions are those of the form $f(n)=c \\cdot \\nu_{p}(n)$, where $p$ is some prime, $c$ is a nonnegative integer, and $\\nu_{p}(n)$ denotes the exponent of $p$ in the prime decomposition of $n$.",
    "solutions": [
      {
        "solution": "Solution 1. If a number $n$ is a product of primes, $n=p_{1} p_{2} \\cdot \\ldots \\cdot p_{k}$, then\n\n$$\nf(n)=f\\left(p_{1}\\right)+\\ldots+f\\left(p_{k}\\right)\n$$\nin particular, $f(1)=0($ since $f(1)=f(1)+f(1))$.\nIt is also clear that $f(n)=0$ implies $f(p)=0$ for all primes $p$ dividing $n$.\nLet us call positive integer $n$ good if $f(k)=f(n-k)$ for $0<k<n$. If $n$ is good then each its divisor $d$ is also good; indeed, if $n=d m$ then\n$$\nf(k)=f(m k)-f(m)=f(n-m k)-f(m)=f(m(d-k))-f(m)=f(d-k)\n$$\n\nfor $0<k<d$. Thus, good numbers are products of good primes.\nIt follows immediately from (i) that there exists a prime $p$ such that $f(p) \\neq 0$; let $p$ be the smallest such prime. Then $f(r)=0$ for all $r<p$ (since all prime divisors of $r<p$ are less than $p$ ). Now every good number $n>p$ must be divisible by $p$. Indeed, if $n=p k+r$ is a good number, $k>0,0<r<p$, then $f(p) \\leqslant f(p k)=f(n-p k)=f(r)=0$, a contradiction. Since any divisor of a good number is also good, this means that if a divisor $r$ of a good number is not divisible by $p$, it is less than $p$. Thus all good numbers have the form $r \\cdot p^{k}$ with $r<p$. The condition (iii) implies that $k$ can be arbitrarily large, consequently all powers of $p$ are good.\n\nIf $q \\neq p$ is a prime, $p^{q-1}-1$ is divisible by $q$ and $p^{q-1}$ is good. Then $f(q) \\leqslant f\\left(p^{q-1}-1\\right)=$ $f(1)=0$, that is, $f(q)=0$.\n\nNow we see that $f(n)=\\nu_{p}(n) \\cdot c$, where $c=f(p)$. The conditions (i) and (ii) for all such functions with $c \\neq 0$ are obvious; the condition (iii) holds for all $n=p^{m}$, since $\\nu_{p}\\left(p^{m}-k\\right)=\\nu_{p}(k)$ when $0<k<p^{m}$.\n\nSolution 2. We use the notion of a good number from the previous solution. As above, we also denote by $\\nu_{p}(n)$ the exponent of a prime $p$ in the prime decomposition of $n$.\n\nSay that a positive integer $k$ is big if $f(k)>0$. Let $\\mathcal{B}$ be the set of big primes, and let $p_{1}<p_{2}<\\ldots$ list the elements of $\\mathcal{B}$ (this set might be either finite or infinite). By the problem conditions, we have\n\n$$\nf(n)=\\sum_{i} \\nu_{p_{i}}(n) f\\left(p_{i}\\right)\n$$\nthus, the big numbers are those divisible by at least one big prime.\nFor a positive integer $k$, define its essence $e(k)$ to be the largest product $e$ of (not necessarily different) big primes such that $e \\mid k$. In other words,\n$$\ne(n)=\\prod_{p_{i} \\in \\mathcal{B}} p_{i}^{\\nu_{p_{i}}(n)} .\n$$\n\nThis yields that $k / e(k)$ is not big, so $f(k)=f(e(k))+f(k / e(k))=f(e(k))$.\nLemma. Assume that $n$ is a good number. Then $e(k)=e(n-k)$ for all $k<n$.\n\nProof. Arguing indirectly, choose a minimal $k$ for which the claim of the lemma is violated. Clearly, $k$ is big, as otherwise $f(k)=f(n-k)=0$ and hence $e(k)=e(n-k)=1$.\n\nThere are $t=k / e(k)$ multiples of $e(k)$ in each of the segments $[1, k]$ and $[n-k, n-1]$. On the other hand, there are $t-1$ such multiples on $[1, k-1]$ - and, by minimality of $k$, on $[n-k+1, n-1]$ as well. This yields that $n-k$ is a multiple of $e(k)$. Therefore,\n\n$$\nf(e(k))=f(k)=f(n-k)=f(e(k))+f\\left(\\frac{n-k}{e(k)}\\right),\n$$\nso the last summand vanishes, hence $\\frac{n-k}{e(k)}$ has no big prime divisors, that is, $e(n-k)=e(k)$. This contradicts our choice.\n\nBack to the problem, assume that $|\\mathcal{B}| \\geqslant 2$. Take any good number $n>p_{1} p_{2}$, and let $p_{1}^{\\alpha}$ be the largest power of $p_{1}$ smaller than $n$, so that $n \\leqslant p_{1}^{\\alpha+1}<p_{1}^{\\alpha} p_{2}$. By the lemma, $e\\left(n-p_{1}^{\\alpha}\\right)=e\\left(p_{1}^{\\alpha}\\right)=p_{1}^{\\alpha}$, which yields $p_{1}^{\\alpha} \\mid n$. Similarly, $p_{2} \\mid n$, so that $n \\geqslant p_{1}^{\\alpha} p_{2}$. This contradiction shows that $|\\mathcal{B}| \\leqslant 1$, which by (1) yields that $f$ is listed in the answer.\n\nSolution 3. We have $f\\left(\\prod p_{i}^{\\alpha_{i}}\\right)=\\sum \\alpha_{i} f\\left(p_{i}\\right)$. Note that\n\n$$\nf(n-1)+f(n-2)+\\ldots+\\ldots f(n-k) \\geqslant f(1)+\\ldots+f(k)\n$$\nfor all $k=1,2, \\ldots, n-1$, since the difference LHS-RHS is just $\\left.f\\binom{n-1}{k}\\right)$. Assume that $f(p)>0$. If $f(k)=f(n-k)$ for all $k$, it implies that $\\binom{n-1}{k}$ is not divisible by $p$ for all $k=1,2, \\ldots, n-2$. It is well known that it implies $n=a \\cdot p^{s}, a<p$. If there are two primes $p, q$ such that $f(p)>0, f(q)>0$, there exist only finitely many $n$ which are equal both to $a \\cdot p^{s}, a<p$, and $b \\cdot q^{t}, b<q$. So there exists at most one such $p$, and therefore $f(n)=C \\cdot \\nu_{p}(n)$ for some constant $C$.\n\nSolution 4. We call a function $f: \\mathbb{N} \\rightarrow \\mathbb{N}_{0}$ satisfying (ii) additive. We call a pair $(f, n)$, where $f$ is an additive function and $n \\in \\mathbb{N}$, good, if for all $k<n$ it holds $f(k)=f(n-k)$. For an additive function $f$ and a prime number $p$ the number $\\frac{f(p)}{\\ln p}$ is denoted by $g(f, p)$.\n\nLet $(f, n)$ be a good pair such that $f(p)>0$ for at least two primes less than $n$. Let $p_{0}$ be the prime with maximal $g(f, p)$ among all primes $p<n$. Let $a_{0}$ be the maximal exponent such that $p_{0}^{a_{0}}<n$. Then $f(k)<f\\left(p_{0}^{a_{0}}\\right)$ for all $k<p_{0}^{a_{0}}$. Indeed, if $k=p_{1}^{a_{1}} \\ldots p_{m}^{a_{m}}<p_{0}^{a_{0}}$, then\n\n$$\n\\begin{aligned}\nf(k) & =a_{1} f\\left(p_{1}\\right)+\\ldots+a_{m} f\\left(p_{m}\\right)=g\\left(f, p_{1}\\right) a_{1} \\ln p_{1}+\\ldots+g\\left(f, p_{m}\\right) a_{m} \\ln a_{m} \\\\\n& <g\\left(f, p_{0}\\right) a_{0} \\ln p_{0}=f\\left(p_{0}^{a_{0}}\\right) .\n\\end{aligned}\n$$\n\nLet $n=b p_{0}^{a_{0}}+r$, where $0<r<p_{0}^{a_{0}}$. Then $f(r)=f\\left(b p_{0}^{a_{0}}\\right) \\geqslant f\\left(p_{0}^{a_{0}}\\right)$. This contradiction shows that $p_{0}^{a_{0}} \\mid n$. Then $n=p_{0}^{\\nu_{p_{0}}(n)} n^{\\prime}$, where $n^{\\prime} \\leqslant p_{0}$.\n\nThe functions $f_{1}(m):=f\\left(p_{0}\\right) \\nu_{p_{0}}(m)$ and $f_{2}:=f-f_{1}$ are additive (obviously $f(m) \\geqslant$ $f\\left(p_{0}^{\\nu_{p_{0}}(m)}\\right)=f_{1}(m)$, since $p_{0}^{\\nu_{p_{0}}(m)}$ divides $\\left.m\\right)$. For $k<n, \\nu_{p}(k)=\\nu_{p}(n-k)$. Hence the pair $\\left(f_{2}, n\\right)$ is also good. Note that $f_{2}\\left(p_{0}\\right)=0$.\n\nChoose among all primes $p<n$ the prime $q_{0}$ with maximal $g\\left(f_{2}, p\\right)$. As above we can prove that $n=q_{0}^{\\nu_{0}(n)} n^{\\prime \\prime}$ with $n^{\\prime \\prime}<q_{0}$. Since $p_{0} \\neq q_{0}$, we get a contradiction. Thus $f(n)=f(p) \\cdot \\nu_{p}(n)$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "JMO_2012_2",
    "metadata": {
      "source": "JMO",
      "url": "https://web.evanchen.cc/problems.html",
      "category": [],
      "level": "high_school",
      "difficulty": 5.74,
      "year": 2012,
      "competition": "usamo"
    },
    "problem": "Find all integers $n \\geq 3$ such that among any $n$ positive real numbers $a_{1}, a_{2}, \\ldots, a_{n}$ with\n\n$$\n\\max \\left(a_{1}, a_{2}, \\ldots, a_{n}\\right) \\leq n \\cdot \\min \\left(a_{1}, a_{2}, \\ldots, a_{n}\\right)\n$$\nthere exist three that are the side lengths of an acute triangle.",
    "solutions": [
      {
        "solution": "The answer is all $n \\geq 13$.\nDefine $\\left(F_{n}\\right)$ as the sequence of Fibonacci numbers, by $F_{1}=F_{2}=1$ and $F_{n+1}=$ $F_{n}+F_{n-1}$. We will find that Fibonacci numbers show up naturally when we work through the main proof, so we will isolate the following calculation now to make the subsequent solution easier to read.\n\n$$\n\\text { Claim - For positive integers } m \\text {, we have } F_{m} \\leq m^{2} \\text { if and only if } m \\leq 12 \\text {. }\n$$\n\nProof. A table of the first $14$ Fibonacci numbers is given below.\n\n$$\n\\begin{array}{rrrrrrrrrrrrrr}\nF_{1} & F_{2} & F_{3} & F_{4} & F_{5} & F_{6} & F_{7} & F_{8} & F_{9} & F_{10} & F_{11} & F_{12} & F_{13} & F_{14} \\\\\n\\hline 1 & 1 & 2 & 3 & 5 & 8 & 13 & 21 & 34 & 55 & 89 & 144 & 233 & 377\n\\end{array}\n$$\n\nBy examining the table, we see that $F_{m} \\leq m^{2}$ is true for $m=1,2, \\ldots 12$, and in fact $F_{12}=12^{2}=144$. However, $F_{m}>m^{2}$ for $m=13$ and $m=14$.\n\nNow it remains to prove that $F_{m}>m^{2}$ for $m \\geq 15$. The proof is by induction with base cases $m=13$ and $m=14$ being checked already. For the inductive step, if $m \\geq 15$ then we have\n\n$$\n\\begin{aligned}\nF_{m} & =F_{m-1}+F_{m-2}>(m-1)^{2}+(m-2)^{2} \\\\\n& =2 m^{2}-6 m+5=m^{2}+(m-1)(m-5)>m^{2}\n\\end{aligned}\n$$\n\nas desired.\nWe now proceed to the main problem. The hypothesis $\\max \\left(a_{1}, a_{2}, \\ldots, a_{n}\\right) \\leq n$. $\\min \\left(a_{1}, a_{2}, \\ldots, a_{n}\\right)$ will be denoted by ( $\\dagger$ ).\n\nProof that all $n \\geq 13$ have the property. We first show now that every $n \\geq 13$ has the desired property. Suppose for contradiction that no three numbers are the sides of an acute triangle. Assume without loss of generality (by sorting the numbers) that $a_{1} \\leq a_{2} \\leq \\cdots \\leq a_{n}$. Then since $a_{i-1}, a_{i}, a_{i+1}$ are not the sides of an acute triangle for each $i \\geq 2$, we have that $a_{i+1}^{2} \\geq a_{i}^{2}+a_{i-1}^{2}$; writing this out gives\n\n$$\n\\begin{aligned}\na_{3}^{2} & \\geq a_{2}^{2}+a_{1}^{2} \\geq 2 a_{1}^{2} \\\\\na_{4}^{2} & \\geq a_{3}^{2}+a_{2}^{2} \\geq 2 a_{1}^{2}+a_{1}^{2}=3 a_{1}^{2} \\\\\na_{5}^{2} & \\geq a_{4}^{2}+a_{3}^{2} \\geq 3 a_{1}^{2}+2 a_{1}^{2}=5 a_{1}^{2} \\\\\na_{6}^{2} & \\geq a_{5}^{2}+a_{4}^{2} \\geq 5 a_{1}^{2}+3 a_{1}^{2}=8 a_{1}^{2}\n\\end{aligned}\n$$\n\nand so on. The Fibonacci numbers appear naturally and by induction, we conclude that $a_{i}^{2} \\geq F_{i} a_{1}^{2}$. In particular, $a_{n}^{2} \\geq F_{n} a_{1}^{2}$.\n\nHowever, we know $\\max \\left(a_{1}, \\ldots, a_{n}\\right)=a_{n}$ and $\\min \\left(a_{1}, \\ldots, a_{n}\\right)=a_{1}$, so $(\\dagger)$ reads $a_{n} \\leq n \\cdot a_{1}$. Therefore we have $F_{n} \\leq n^{2}$, and so $n \\leq 12$, contradiction!\n\nProof that no $n \\leq 12$ have the property. Assume that $n \\leq 12$. The above calculation also suggests a way to pick the counterexample: we choose $a_{i}=\\sqrt{F_{i}}$ for every $i$. Then $\\min \\left(a_{1}, \\ldots, a_{n}\\right)=a_{1}=1$ and $\\max \\left(a_{1}, \\ldots, a_{n}\\right)=\\sqrt{F_{n}}$, so $(\\dagger)$ is true as long as $n \\leq 12$. And indeed no three numbers form the sides of an acute triangle: if $i<j<k$, then $a_{k}^{2}=F_{k}=F_{k-1}+F_{k-2} \\geq F_{j}+F_{i}=a_{j}^{2}+a_{i}^{2}$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "USAMO_1997_5",
    "metadata": {
      "source": "USAMO",
      "url": "https://web.evanchen.cc/problems.html",
      "category": [],
      "level": "high_school",
      "difficulty": 6.9399999999999995,
      "year": 1997,
      "competition": "usamo"
    },
    "problem": "If $a, b, c>0$ prove that\n\n$$\n\\frac{1}{a^{3}+b^{3}+a b c}+\\frac{1}{b^{3}+c^{3}+a b c}+\\frac{1}{c^{3}+a^{3}+a b c} \\leq \\frac{1}{a b c} .\n$$",
    "solutions": [
      {
        "solution": "From $a^{3}+b^{3} \\geq a b(a+b)$, the left-hand side becomes\n\n$$\n\\sum_{\\mathrm{cyc}} \\frac{1}{a^{3}+b^{3}+a b c} \\leq \\sum_{\\mathrm{cyc}} \\frac{1}{a b(a+b+c)}=\\frac{1}{a b c} \\sum_{\\mathrm{cyc}} \\frac{c}{a+b+c}=\\frac{1}{a b c}\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "USAMO_2001_6",
    "metadata": {
      "source": "USAMO",
      "url": "https://web.evanchen.cc/problems.html",
      "category": [],
      "level": "high_school",
      "difficulty": 7.02,
      "year": 2001,
      "competition": "usamo"
    },
    "problem": "6. Each point in the plane is assigned a real number. Suppose that for any nondegenerate triangle, the number at its incenter is the arithmetic mean of the three numbers at its vertices. Prove that all points in the plane are equal to each other.",
    "solutions": [
      {
        "solution": "## Problem statement\n\nEach point in the plane is assigned a real number. Suppose that for any nondegenerate triangle, the number at its incenter is the arithmetic mean of the three numbers at its vertices. Prove that all points in the plane are equal to each other.\n\nFirst, we claim that in an isosceles trapezoid $A B C D$ we have $a+c=b+d$. Indeed, suppose WLOG that rays $B A$ and $C D$ meet at $X$. Then triangles $X A C$ and $X B D$ share an incircle, proving the claim.\n\nNow, given any two points $A$ and $B$, construct regular pentagon $A B C D E$. We have $a+c=b+d=c+e=d+a=e+b$, so $a=b=c=d=e$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "USAMO_2008_1",
    "metadata": {
      "source": "USAMO",
      "url": "https://web.evanchen.cc/problems.html",
      "category": [],
      "level": "high_school",
      "difficulty": 7.16,
      "year": 2008,
      "competition": "usamo"
    },
    "problem": "Prove that for each positive integer $n$, there are pairwise relatively prime integers $k_{0}, \\ldots, k_{n}$, all strictly greater than $1$, such that $k_{0} k_{1} \\ldots k_{n}-1$ is the product of two consecutive integers.",
    "solutions": [
      {
        "solution": "In other words, if we let\n\n$$\nP(x)=x(x+1)+1\n$$\nthen we would like there to be infinitely many primes dividing some $P(t)$ for some integer $t$.\n\nIn fact, this result is true in much greater generality. We first state:\n\n## Theorem $1.1$ (Schur's theorem)\n\nIf $P(x) \\in \\mathbb{Z}[x]$ is nonconstant and $P(0)=1$, then there are infinitely many primes which divide $P(t)$ for some integer $t$.\n\nProof. If $P(0)=0$, this is clear. So assume $P(0)=c \\neq 0$.  \nLet $S$ be any finite set of prime numbers. Consider then the value\n\n$$\nP\\left(k \\prod_{p \\in S} p\\right)\n$$\nfor some integer $k$. It is $1(\\bmod p)$ for each prime $p$, and if $k$ is large enough it should not be equal to $1$ (because $P$ is not constant). Therefore, it has a prime divisor not in $S$.\n\nRemark. In fact the result holds without the assumption $P(0) \\neq 1$. The proof requires only small modifications, and a good exercise would be to write down a similar proof that works first for $P(0)=20$, and then for any $P(0) \\neq 0$. (The $P(0)=0$ case is vacuous, since then $P(x)$ is divisible by $x$.)\n\nTo finish the proof, let $p_{1}, \\ldots, p_{n}$ be primes and $x_{i}$ be integers such that\n\n$$\n\\begin{aligned}\nP\\left(x_{1}\\right) & \\equiv 0 \\quad\\left(\\bmod p_{1}\\right) \\\\\nP\\left(x_{2}\\right) & \\equiv 0 \\quad\\left(\\bmod p_{2}\\right) \\\\\n\\vdots & \\\\\nP\\left(x_{n}\\right) & \\equiv 0 \\quad\\left(\\bmod p_{n}\\right)\n\\end{aligned}\n$$\n\nas promised by Schur's theorem. Then, by Chinese remainder theorem, we can find $x$ such that $x \\equiv x_{i}\\left(\\bmod p_{i}\\right)$ for each $i$, whence $P(x)$ has at least $n$ prime factor.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "USAMO_2016_3",
    "metadata": {
      "source": "USAMO",
      "url": "https://web.evanchen.cc/problems.html",
      "category": [],
      "level": "high_school",
      "difficulty": 7.32,
      "year": 2016,
      "competition": "usamo"
    },
    "problem": "Let $A B C$ be an acute triangle and let $I_{B}, I_{C}$, and $O$ denote its $B$-excenter, $C$ excenter, and circumcenter, respectively. Points $E$ and $Y$ are selected on $\\overline{A C}$ such that $\\angle A B Y=\\angle C B Y$ and $\\overline{B E} \\perp \\overline{A C}$. Similarly, points $F$ and $Z$ are selected on $\\overline{A B}$ such that $\\angle A C Z=\\angle B C Z$ and $\\overline{C F} \\perp \\overline{A B}$.\n\nLines $I_{B} F$ and $I_{C} E$ meet at $P$. Prove that $\\overline{P O}$ and $\\overline{Y Z}$ are perpendicular.",
    "solutions": [
      {
        "solution": "We present two solutions.\n【 First solution. Let $I_{A}$ denote the $A$-excenter and $I$ the incenter. Then let $D$ denote the foot of the altitude from $A$. Suppose the $A$-excircle is tangent to $\\overline{B C}, \\overline{A B}, \\overline{A C}$ at $A_{1}, B_{1}, C_{1}$ and let $A_{2}, B_{2}, C_{2}$ denote the reflections of $I_{A}$ across these points. Let $S$ denote the circumcenter of $\\triangle I I_{B} I_{C}$.\n\n\nWe begin with the following observation:\nClaim - Points $D, I, A_{2}$ are collinear. Similarly, points $E, I_{C}, C_{2}$ are collinear and points $F, I_{B}, B_{2}$ are collinear.\n\nProof. This basically follows from the \"midpoints of altitudes\" lemma. To see $D, I, A_{2}$ are collinear, recall first that $\\overline{I A_{1}}$ passes through the midpoint $M$ of $\\overline{A D}$.\n\n\nNow since $\\overline{A D} \\| \\overline{I_{A} A_{2}}$, and $M$ and $A_{1}$ are the midpoints of $\\overline{A D}$ and $\\overline{I_{A} A_{2}}$, it follows from the collinearity of $A, I, I_{A}$ that $D, I, A_{2}$ are collinear as well.\n\nThe other two claims follow in a dual fashion. For example, using the homothety taking the $A$ to $C$-excircle, we find that $\\overline{C_{1} I_{C}}$ bisects the altitude $\\overline{B E}$. (The homothety at $B$ will send $C_{1}$ to the point on the $C$-excircle which is diametrically opposite the foot from $I_{C}$ to $A C$. This diameter of the $C$-excircle is then mapped through homothety through $C_{1}$ onto the $B$-altitude.) Then since $I_{C}, B, I_{A}$ are collinear the same argument now gives $I_{C}, E, C_{2}$ are collinear. The fact that $I_{B}, F, B_{2}$ are collinear is symmetric.\n\nObserve that $\\overline{B_{2} C_{2}}\\left\\|\\overline{B_{1} C_{1}}\\right\\| \\overline{I_{B} I_{C}}$. Proceeding similarly on the other sides, we discover $\\triangle I I_{B} I_{C}$ and $\\triangle A_{2} B_{2} C_{2}$ are homothetic. Hence $P$ is the center of this homothety (in particular, $D, I, P, A_{2}$ are collinear). Moreover, $P$ lies on the line joining $I_{A}$ to $S$, which is the Euler line of $\\triangle I I_{B} I_{C}$, so it passes through the nine-point center of $\\triangle I I_{B} I_{C}$, which is $O$. Consequently, $P, O, I_{A}$ are collinear as well.\n\nTo finish, we need only prove that $\\overline{O S} \\perp \\overline{Y Z}$. In fact, we claim that $\\overline{Y Z}$ is the radical axis of the circumcircles of $\\triangle A B C$ and $\\triangle I I_{B} I_{C}$. Actually, $Y$ is the radical center of these two circumcircles and the circle with diameter $\\overline{I I_{B}}$ (which passes through $A$ and $C)$. Analogously $Z$ is the radical center of the circumcircles and the circle with diameter $\\overline{I I_{C}}$, and the proof is complete.\n\nI Second solution (barycentric, outline, Colin Tang). we are going to use barycentric coordinates to show that the line through $O$ perpendicular to $\\overline{Y Z}$ is concurrent with $\\overline{I_{B} F}$ and $\\overline{I_{C} E}$.\n\nThe displacement vector $\\overrightarrow{Y Z}$ is proportional to $(a(b-c):-b(a+c): c(a+b))$, and so by strong perpendicularity criterion and doing a calculation gives the line\n\n$$\nx(b-c) b c(a+b+c)+y(a+c) a c(a+b-c)+z(a+b) a b(-a+b-c)=0 .\n$$\n\nOn the other hand, line $I_{C} E$ has equation\n\n$$\n0=\\operatorname{det}\\left[\\begin{array}{ccc}\na & b & -c \\\\\nS_{C} & 0 & S_{A} \\\\\nx & y & z\n\\end{array}\\right]=b S_{a} \\cdot x+\\left(-c S_{C}-a S_{A}\\right) \\cdot y+\\left(-b S_{C}\\right) \\cdot z\n$$\n\nand similarly for $I_{B} F$. Consequently, concurrence of these lines is equivalent to\n\n$$\n\\operatorname{det}\\left[\\begin{array}{ccc}\nb S_{A} & -c S_{C}-a S_{A} & -b S_{C} \\\\\nc S_{A} & -c S_{B} & -a S_{A}-b S_{B} \\\\\n(b-c) b c(a+b+c) & (a+c) a c(a+b-c) & (a+b) a b(-a+b-c)\n\\end{array}\\right]=0\n$$\n\nwhich is a computation.\n【 Authorship comments. I was intrigued by a Taiwan TST problem which implied that, in the configuration above, $\\angle I_{B} D I_{C}$ was bisected by $\\overline{D A}$. This motivated me to draw all three properties above where $I_{A}$ and $P$ were isogonal conjugates with respect to $D E F$. After playing around with this picture for a long time, I finally noticed that $O$ was on line $P I_{A}$. (So the original was to show that $I_{B} F, I_{C} E, D A_{2}$ concurrent). Eventually I finally noticed in the picture that $P I_{A}$ actually passed through the circumcenter of $A B C$ as well. This took me many hours to prove.\n\nThe final restatement (which follows quickly from $P, O, I_{A}$ collinear) was discovered by Telv Cohl when I showed him the problem.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_1_2008_5",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.16,
      "year": 2008,
      "competition": "swiss_mo"
    },
    "problem": "5. A square game board consists of $2 n \\times 2 n$ squares. $n$ of these squares are to be marked such that no two marked squares lie in the same or adjacent rows, and no two marked squares lie in the same or adjacent columns. In how many ways is this possible?",
    "solutions": [
      {
        "solution": "## Solution:\n\nWe call a row or column marked if it contains a marked square. Of the $2 n$ rows, exactly $n$ are marked, and none of them are adjacent. If we number the rows from $1$ to $2 n$, it is easy to see that the marked rows must have the numbers\n\n$$\n1, 3, \\ldots, 2 k + 1, 2 k + 4, \\ldots, 2 n - 2, 2 n\n$$\nwhere $0 \\leq k \\leq n$. Thus, the $n$ marked rows can be chosen in exactly $n + 1$ ways. Similarly, the $n$ marked columns can also be chosen in $n + 1$ ways. Finally, given the marked rows and columns, there are exactly $n!$ ways to choose the marked squares. Therefore, the total answer is $(n + 1)^{2} n!$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_1_2016_2",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 4.32,
      "year": 2016,
      "competition": "swiss_mo"
    },
    "problem": "2. Cunégonde has $n$ blocks of height $1$ to $n$ and would like to arrange them, one after the other, in such a way that her cat can move by jumping from one block to another, from left to right. Her cat can jump from one block to the next if it is either lower or higher by $1$ than the previous block. Initially, her cat is on the block at the far left. In how many ways can Cunégonde arrange her blocks so that her cat can cross all the blocks?",
    "solutions": [
      {
        "solution": "Suppose Cunégonde places the block of height $n$ in position $k$. Then the block in position $k-1$ must have height $n-1$. Continuing in this way, we see that the first $k$ blocks must be $n-k+1, n-k+2, \\ldots, n$. We then have the remaining $n-k$ blocks to place in $n-k$ positions. By repeating the argument, we see that all solutions are obtained by placing the blocks in decreasing order and then separating the $n$ blocks into subsets of consecutive blocks, in which we reverse the order. Each partition of the $n$ blocks into subsets of consecutive blocks can be obtained by placing dividers between the numbers. For example, $12|3|45$ corresponds to the partition $[1,2][3][4,5]$. Since there are $n-1$ spaces between the numbers $1,2,\\ldots,n$ and for each space we can either place a divider or not, we see that there are $2^{n-1}$ different partitions. Thus, Cunégonde has $2^{n-1}$ ways to arrange the $n$ blocks.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_final_2005_1",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.6,
      "year": 2005,
      "competition": "swiss_mo"
    },
    "problem": "1. Let $A B C$ be any triangle and $D, E, F$ the midpoints of $B C, C A, A B$. The medians $A D, B E$, and $C F$ intersect at the centroid $S$. At least two of the quadrilaterals\n\n$$\nA F S E, \\quad B D S F, \\quad C E S D\n$$\nare cyclic quadrilaterals. Show that triangle $A B C$ is equilateral.",
    "solutions": [
      {
        "solution": "For reasons of symmetry, we can assume that $A F S E$ and $B D S F$ are cyclic quadrilaterals.\n\nNote that $A B$ is parallel to $E D$, and similarly for the other sides. In the following equations, (*) denotes equality of corresponding angles and ($**$) denotes the inscribed angle theorem in the circle. We have\n\n$$\n\\varphi=\\angle E C S \\stackrel{(*)}{=} \\angle S F D \\stackrel{(**)}{=} \\angle S B D \\stackrel{(*)}{=} \\angle S E F \\stackrel{(**)}{=} \\angle S A F\n$$\nand\n$$\n\\psi=\\angle D C S \\stackrel{(*)}{=} \\angle S F E \\stackrel{(**)}{=} \\angle S A E \\stackrel{(*)}{=} \\angle S D F \\stackrel{(**)}{=} \\angle S B F.\n$$\n\nIn particular, all three angles of triangle $A B C$ are equal to $\\varphi+\\psi$, thus $A B C$ is equilateral.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_final_2008_7",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.66,
      "year": 2008,
      "competition": "swiss_mo"
    },
    "problem": "7. An \\( 8 \\times 11 \\) rectangle is divided into \\( 21 \\) regions, each of which is connected and consists of unit squares whose edges are parallel to the edges of the rectangle. Prove that at least two of these regions have the same shape up to rotations and reflections.",
    "solutions": [
      {
        "solution": "## Solution\n\nAssume this is not the case. The rectangle has an area of \\( 88 \\). The number of connected parts made up of \\( 1, 2, 3 \\), or \\( 4 \\) unit squares is \\( 1, 1, 2 \\), or \\( 5 \\), respectively, as can be easily reasoned. If no two parts in the division have the same shape, then the total area of the \\( 21 \\) parts is at least\n\n$$\n1 + 2 + (3 + 3) + (4 + 4 + 4 + 4 + 4) + \\underbrace{(5 + \\ldots + 5)}_{12} = 89 > 88\n$$\na contradiction.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_final_2015_6",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.8,
      "year": 2015,
      "competition": "swiss_mo"
    },
    "problem": "6. We have an $8 \\times 8$ board. An inner edge is an edge between two $1 \\times 1$ squares. We cut the board into $1 \\times 2$ dominoes. For an inner edge $k$, let $N(k)$ denote the number of ways to cut the board such that it is cut along edge $k$. Calculate the last digit of the sum we obtain when we add all $N(k)$, where $k$ is an inner edge.",
    "solutions": [
      {
        "solution": "Solution: First, we calculate how many inner edges are cut in a decomposition. There are a total of $7 \\cdot 8$ horizontal and vertical inner edges. In a decomposition, the board is cut along all inner edges except for the $32$ within a domino. Thus, in each decomposition, we cut along $2 \\cdot (7 \\cdot 8) - 32 = 80$ inner edges. This means that each decomposition is counted $80$ times. Thus, we know that the sum of all $N(k)$ is divisible by $80$. It follows that the last digit of the sum is zero.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_final_2017_8",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 5.84,
      "year": 2017,
      "competition": "swiss_mo"
    },
    "problem": "8. Let $ABC$ be an isosceles triangle with vertex $A$ and $AB > AC$. Let $k$ be the circle with center $A$ through $B$ and $C$. Let $H$ be the second intersection point of $k$ with the altitude of triangle $ABC$ through $B$. Furthermore, let $G$ be the second intersection point of $k$ with the median through $B$ in triangle $ABC$. Let $X$ be the intersection point of line $AC$ and $GH$. Show that $C$ is the midpoint of segment $AX$.",
    "solutions": [
      {
        "solution": "Solution: Let $M$ be the midpoint of segment $AC$. By the central angle theorem, we have $\\angle BGH = \\frac{1}{2} \\angle BAH$. Since triangle $ABH$ is isosceles and the segment $BH$ is perpendicular to the segment $AC$, $AC$ is the angle bisector of angle $BAH$. Therefore, we have:\n\n$$\n\\angle BGH = \\angle CAH = \\angle MAH\n$$\n\nWith the inscribed angle theorem, we obtain the cyclic quadrilateral $MAGH$. From this cyclic quadrilateral, we have $\\angle AMG = \\angle AHG$. Since triangle $AHG$ is isosceles, we have\n\n$$\n\\angle AGH = \\angle AHG = \\angle AMG.\n$$\n\nThus, triangle $AMG$ is similar to triangle $AGX$. Since $M$ is the midpoint of $AC$, we obtain the side ratios:\n\n$$\n\\frac{AG}{AX} = \\frac{AM}{AG} = \\frac{AM}{AC} = \\frac{1}{2}.\n$$\n\nWe calculate:\n\n$$\nAC = AG = \\frac{1}{2} AX.\n$$\n\nThus, $C$ is the midpoint of segment $AX$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2000_2",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.0,
      "year": 2000,
      "competition": "swiss_mo"
    },
    "problem": "2. The real numbers $a_{1}, a_{2}, \\ldots, a_{16}$ satisfy the two conditions\n\n$$\n\\sum_{i=1}^{16} a_{i} = 100 \\quad \\text{ and } \\quad \\sum_{i=1}^{16} a_{i}^{2} = 1000\n$$\n\nWhat is the maximum possible value that $a_{16}$ can take?",
    "solutions": [
      {
        "solution": "Let $S = a_{1} + \\ldots + a_{15}$ and $Q = a_{1}^{2} + \\ldots + a_{15}^{2}$. By the AM-QM inequality, we have $S^{2} \\leq 15 Q$. The constraints are $100 - a_{16} = S$ and $1000 - a_{16}^{2} = Q$. Squaring the first and subtracting $15$ times the second gives\n\n$$\n16 a_{16}^{2} - 200 a_{16} - 5000 = S^{2} - 15 Q \\leq 0\n$$\n\nThe quadratic polynomial on the left has roots $-25 / 2$ and $25$. Therefore, it follows that $a_{16} \\leq 25$. If equality holds, then equality must also hold in AM-GM, so $a_{1} = \\ldots = a_{15}$. Substituting into the constraints yields the solution $a_{1} = \\ldots = a_{15} = 5$ and $a_{16} = 25$. Thus, the maximum possible value is indeed $a_{16} = 25$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2003_7",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.06,
      "year": 2003,
      "competition": "swiss_mo"
    },
    "problem": "7. Find all polynomials $Q(x)=ax^{2}+bx+c$ with integer coefficients such that there exist three distinct prime numbers $p_{1}, p_{2}, p_{3}$ with\n\n$$\n\\left|Q\\left(p_{1}\\right)\\right|=\\left|Q\\left(p_{2}\\right)\\right|=\\left|Q\\left(p_{3}\\right)\\right|=11\n$$",
    "solutions": [
      {
        "solution": "## Solution:\n\nWe distinguish $2$ cases depending on how many signs of $Q\\left(p_{k}\\right)$ are negative. We can assume that at most one sign is negative; otherwise, we replace $Q(x)$ with $-Q(x)$.\n\n(a) $Q\\left(p_{1}\\right)=Q\\left(p_{2}\\right)=Q\\left(p_{3}\\right)=11$\n\nThe polynomial $Q(x)-11$ has degree $\\leq 2$ and $3$ distinct roots, hence it must vanish identically, so $Q(x)=11$ is constant.\n\n(b) $Q\\left(p_{1}\\right)=-11, Q\\left(p_{2}\\right)=Q\\left(p_{3}\\right)=11$\n\nThe polynomial $Q(x)-11$ has roots $p_{2}, p_{3}$, so we can write $Q(x)-11=a\\left(x-p_{2}\\right)\\left(x-p_{3}\\right)$. Substituting $p_{1}$ gives\n\n$$\na\\left(p_{1}-p_{2}\\right)\\left(p_{1}-p_{3}\\right)=-2 \\cdot 11\n$$\n\nIf $p_{1}, p_{2}, p_{3}$ are all odd, then the left side is divisible by $4$, which is a contradiction. If $p_{1}=2$, then both factors on the left are odd and cannot both have absolute value $1$. Comparing with the right side yields $\\{p_{2}, p_{3}\\}=\\{3,13\\}$. Substituting these values into $Q$ and solving the three equations for the coefficients gives $a=-2, b=32, c=-67$. \n\nAssuming $p_{2}=2$, the first factor on the left is odd, and the second is even. This leads to $p_{1}=3, p_{3}=5$ or $p_{1}=13, p_{3}=11$. Similar calculations as before yield in the first case $a=11, b=-77, c=121$ and in the second case $a=-1, b=13, c=-11$.\n\nIn total, we obtain for $\\pm Q(x)$ the possibilities\n\n$$\n\\begin{aligned}\n11 & ,\\{p_{1}, p_{2}, p_{3}\\} \\text{ arbitrary, } \\\\\nx^{2}-13x+11 & ,\\{p_{1}, p_{2}, p_{3}\\}=\\{2,11,13\\}, \\\\\n2x^{2}-32x+67 & ,\\{p_{1}, p_{2}, p_{3}\\}=\\{2,3,13\\}, \\\\\n11x^{2}-77x+121 & ,\\{p_{1}, p_{2}, p_{3}\\}=\\{2,3,5\\} .\n\\end{aligned}\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2004_5",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.08,
      "year": 2004,
      "competition": "swiss_mo"
    },
    "problem": "5. A building block consisting of $7$ unit cubes has the shape of a $2 \\times 2 \\times 2$ cube with one corner unit cube missing. From a cube of edge length $2^{n}, n \\geq 2$, any unit cube is removed. Show that the remaining body can always be constructed from building blocks.",
    "solutions": [
      {
        "solution": "## Solution\n\nIt is easy to see that one can create a block twice as large from $8$ building blocks. By induction, it follows that for every $n \\geq 1$, a building block of edge length $2^{n}$ can be constructed. We call this an $n$-block. Now consider a cube of edge length $2^{n}$ with one unit cube missing. To reconstruct it, we consider an empty cube of the same size, in which the corresponding unit cube is marked. Now place an $n$-block in this empty cube such that the marked unit cube is not covered (this can be done in exactly one way). A cube of edge length $2^{n-1}$ with a marked unit cube remains. Now one can again place an $(n-1)$-block such that the marked unit cube is not covered. Continuing in this manner, the entire cube can be reconstructed, leaving only the marked unit cube uncovered. This was to be shown.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2008_12",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.16,
      "year": 2008,
      "competition": "swiss_mo"
    },
    "problem": "12. Let $x, y, n$ be natural numbers with $x \\geq 3, n \\geq 2$ and\n\n$$\nx^{2} + 5 = y^{n}.\n$$\n\nShow that every prime divisor $p$ of $n$ satisfies the congruence $p \\equiv 1 \\pmod{4}$.",
    "solutions": [
      {
        "solution": "If $n = 2k$ is even, then $5 = (y^{k})^{2} - x^{2}$ is the difference of two squares. This is only possible for $y^{k} = 3$ and $x = 2$, contradicting $x \\geq 3$. Thus, every prime divisor of $n$ is odd.\nIf $x$ is odd, then the left side is divisible by $2$ but not by $4$, contradicting $n \\geq 2$. Thus, $x$ is even and hence $y$ is odd. It follows that $y \\equiv y^{n} = x^{2} + 5 \\equiv 1 \\pmod{4}$.\nWe need the following:\nLemma 5. Let $a, b$ be integers and let $p \\geq 3$ be a prime divisor of $a^{2} + b^{2}$. Then either $a$ and $b$ are divisible by $p$ or it holds that $p \\equiv 1 \\pmod{4}$.\n\nProof. We can assume $p \\nmid a, b$. By assumption, we have $\\left(a b^{-1}\\right)^{2} \\equiv -1$, thus $\\left(a b^{-1}\\right)^{4} \\equiv 1 \\pmod{p}$. Since $p \\geq 3$, the order of $a b^{-1}$ modulo $p$ is therefore $4$. On the other hand, this order is a divisor of $\\varphi(p) = p - 1$, which implies $p \\equiv 1 \\pmod{4}$ as desired.\n\nNow let $p$ be a prime divisor of $n$. Since $p$ and $y$ are odd, $N = y^{p-1} + \\ldots + y + 1$ is also odd. Since\n\n$$\nN = y^{p-1} + \\ldots + y + 1 \\mid y^{p} - 1 \\mid y^{n} - 1 = x^{2} + 4\n$$\nand by the lemma, every prime divisor $q$ of $N$ satisfies the congruence $q \\equiv 1 \\pmod{4}$, thus $N \\equiv 1 \\pmod{4}$. On the other hand, due to $y \\equiv 1 \\pmod{4}$, we also have $N \\equiv 1 + \\ldots + 1 = p \\pmod{4}$. This shows $p \\equiv 1 \\pmod{4}$ as desired.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2010_4",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.2,
      "year": 2010,
      "competition": "swiss_mo"
    },
    "problem": "4. The points $X, Y, Z$ lie in this order on a line with $|XY| \\neq |YZ|$. Let $k_{1}$ and $k_{2}$ be the circles with diameters $XY$ and $YZ$, respectively. The points $A_{1}$ and $B_{1}$, respectively $A_{2}$ and $B_{2}$, lie on $k_{1}$ and $k_{2}$ such that\n\n$$\n\\angle A_{1} Y A_{2}=\\angle B_{1} Y B_{2}=90^{\\circ}\n$$\n\nholds. Show that the two lines $A_{1} A_{2}$ and $B_{1} B_{2}$ intersect on $XY$.",
    "solutions": [
      {
        "solution": "## 1. Solution\n\nWe have $\\angle A_{2} Z Y=90^{\\circ}-\\angle A_{2} Y Z=\\angle A_{1} Y X$ and similarly $\\angle A_{1} X Y=A_{2} Y Z$. Thus, $\\triangle A_{1} X Y \\sim \\triangle A_{2} Y Z$. Define $P$ as the intersection point of $A_{1} A_{2}$ and $XY$. Then we have $\\triangle P A_{1} Y \\sim P A_{2} Z$ and we obtain the segment ratios $\\frac{P Z}{P Y}=\\frac{Z A_{2}}{Y A_{1}}$ and $\\frac{Z A_{2}}{Y A_{1}}=\\frac{Z Y}{Y X}$, thus overall\n\n$$\n\\frac{P Z}{P Y}=\\frac{Z Y}{Y X}\n$$\n\nHowever, this equation is satisfied by two different points $P$ on $XY$, one lying inside $k_{2}$ and one outside. The situation can be assumed as in the sketch, where we assume that $P$ lies inside $k_{2}$. In this case, we have the estimate $\\angle A_{1} Y X>\\angle A_{1} P Y>\\angle A_{2} Z Y$, contradicting the first line of the proof. Therefore, $P$ lies outside of $k_{2}$ and is thus uniquely determined by (1) and independent of $A_{1}$ and $A_{2}$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2014_11",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.28,
      "year": 2014,
      "competition": "swiss_mo"
    },
    "problem": "11. Determine all natural numbers $n$ with the following property:\n\nFor all prime numbers $p<n$, the expression $n-\\left\\lfloor\\frac{n}{p}\\right\\rfloor p$ is not divisible by the square of a natural number greater than $1$.\nNote: For $x \\in \\mathbb{R}$, $\\lfloor x\\rfloor$ denotes the largest integer with $\\lfloor x\\rfloor \\leq x$.",
    "solutions": [
      {
        "solution": "## Solution\n\nFirst, we note that the condition with the floor function amounts to considering the remainder of the division of $n$ by $p$.\nIf $n$ is not prime, then there exists a prime $q<n$ such that $q \\mid n$ and thus $n-\\left\\lfloor\\frac{n}{q}\\right\\rfloor q=0$, which is in particular divisible by a square.\nIf $n>13$, then $n-4$ (which is odd) can only be divisible by $3$, otherwise there would exist a prime $3<q \\leq n-4<n$ such that $n \\equiv 4(\\bmod q)$. Thus, $n-4=3^{k}$.\nMoreover, $n-8$ is also odd and cannot be divisible by $3$, since $3 \\mid n-4$. Thus, by the same argument, $n-8$ can only be divisible by $5$ and $7$.\nAs for $n-9$, it cannot be divisible by either $3$ or $5$ (otherwise $n \\equiv 4(\\bmod 5)$). Thus, it is only divisible by $2$ and $7$.\nNow, $7$ cannot divide both $n-8$ and $n-9$, so we have either $n-8=5^{l}$ or $n-9=2^{l}$. In the first case, we would have $3^{m}=4+5^{l}$ and in the second $3^{m}=5+2^{l}$. Taking the first equation modulo $8$, we find that $m$ must be even. Thus, $\\left(3^{m / 2}+2\\right)\\left(3^{m / 2}-2\\right)=5^{l}$ and we note that both sides of the left cannot be multiples of $5$ at the same time, so the only solution is $m=2$ and $l=1$, which leads us to $n=13$.\n\nFor the second case, if $l \\geq 3$, then the equation has no solution modulo $8$. This leads to the only solution $m=2$ and $l=2$, which gives $n=13$.\nWe thus treat the cases $n \\leq 13$ manually and find the unique solutions $\\{3,5,7,13\\}$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2018_3",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.36,
      "year": 2018,
      "competition": "swiss_mo"
    },
    "problem": "3. Along the coast of a circular island, there are 20 different villages. Each of these villages has 20 fighters, with all 400 fighters being of different strengths. Each pair of neighboring villages \\( A \\) and \\( B \\) then competes, with each of the 20 fighters from village \\( A \\) measuring against each of the 20 fighters from village \\( B \\). The stronger fighter wins each match. We say that village \\( A \\) is stronger than village \\( B \\) if in at least \\( k \\) of the 400 matches a fighter from village \\( A \\) wins.\n\nIt turns out that each village is stronger than its neighboring village in a clockwise direction. Determine the maximum value of \\( k \\) such that this can be the case.\n\nAnswer: The maximum value is \\( k=290 \\).",
    "solutions": [
      {
        "solution": "Solution: We first provide a construction and then prove that more than \\( 290 \\) is not possible. WLOG, we can assume that the fighters have strengths from \\( 1 \\) to \\( 400 \\), and we number the villages in a clockwise manner from one to twenty. \nConstruction: In the first village, the fighters have strengths \\( 400, 190, 189, 188, \\ldots, 174, 173, 172 \\). In the second village, the fighters have \\( 399, 398, 171, 170, \\ldots, 157, 156 \\), and so on, in the last village, the fighters have strengths \\( 210, 209, \\ldots, 192, 191 \\). Intuitively, we first distribute the fighters with strengths greater than \\( 190 \\) among the villages, placing \\( 400 \\) in the first village, \\( 399, 398 \\) in the second village, \\( 397, 396, 395 \\) in the third village, etc. Then we fill the villages with fighters with strengths at most \\( 190 \\), placing \\( 190, \\ldots, 172 \\) in the first village, \\( 171, \\ldots, 156 \\) in the second village, etc.\n\nNote that village \\( x \\) has exactly \\( x \\) fighters with strengths greater than \\( 190 \\) and \\( 20-x \\) fighters with strengths less than \\( 191 \\). For \\( x \\in\\{1, \\ldots, 19\\} \\), the fighters with strengths greater than \\( 190 \\) win against all fighters from village \\( x+1 \\). The fighters with strengths less than \\( 191 \\) win against the fighters with strengths less than \\( 191 \\) in the next village, thus winning \\( (20-(x+1)) \\) times. In total, village \\( x \\) thus wins \\( 20 x+(20-x)(20-(x+1)) \\) times. Calculating shows that each of these villages wins at least \\( 290 \\) times. Now consider the twentieth village. Its fighters win against nineteen fighters from village one, thus the twentieth village wins more than \\( 290 \\) times. Thus, \\( k=290 \\) is possible.\n\nUpper bound: Assume \\( k>290 \\). We call fighters with strengths at most \\( 200 \\) weak. There are \\( 200 \\) weak fighters and twenty villages, thus by the pigeonhole principle, there is at least one village with at least \\( 10 \\) weak fighters. We count how many times this village can win. The remaining fighters of the village can win at most \\( 10 \\cdot 20=200 \\) times. Thus, the \\( 10 \\) weak fighters must win at least \\( 91 \\) times. Again, by the pigeonhole principle, at least one of the \\( 10 \\) weak fighters must win \\( 10 \\) times. Consequently, the next village must also have at least \\( 10 \\) weak fighters. With the same argument, we conclude in a chain that each village has at least \\( 10 \\) weak fighters. Furthermore, it follows from the argument that the strongest of the weak fighters must be stronger than the strongest of the weak fighters from the next village, otherwise, he could not win \\( 10 \\) times. However, this also implies, since we can apply the argument in a chain, that the strongest of the weak fighters in the first village must be stronger than himself, which is not possible. Contradiction, thus \\( k \\leq 290 \\).",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2020_3",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.4,
      "year": 2020,
      "competition": "swiss_mo"
    },
    "problem": "3. Let $k$ be a circle with center $O$. Let $AB$ be a chord of this circle with midpoint $M \\neq O$. The tangents from $k$ to $A$ and $B$ intersect at $T$. The line $l$ passes through $T$ and intersects $k$ at $C$ and $D$, with $CT < DT$ and $BC = BM$.\n\nProve that the circumcenter of triangle $ADM$ is the reflection of $O$ across the line $AD$.",
    "solutions": [
      {
        "solution": "Solution: For this problem, there are two different approaches to solve the task. The first solution uses a different definition of points and power lines, while the second solution uses the symmedian, which we will also cover in the selection next year.\n\nSolution $1$ (French) We want to prove that the reflection of $C$ with respect to the line $OM$ lies on the line $DM$. Let us denote this point $C'$. Unfortunately, there is no simple way to prove such a result. For this reason, we introduce the points $E$ and $E'$. $E$ is the second intersection of the line $C'M$ with the circle $k$ and $E'$ is the second intersection of the line $CM$ with the circle $k$. We want to prove that the lines $CE, OM$, and the tangent to $k$ at point $B$ intersect at a point. If this property holds, it follows that the line $CE$ is the line $CD$ and thus $D=E$.\n\nFigure 1: Solution to problem S3\nLet $\\alpha = \\angle BCM$. Since $BC = BM = AM = AC'$ we have $\\angle CMB = \\angle AMC' = \\angle AC'M = \\angle AC'E = \\angle BCE' = \\alpha$. Moreover, we also have $\\angle ABE = \\angle AC'E = \\alpha$ and $\\angle BAE' = \\angle BCE' = \\alpha$. It follows that $\\angle CBE = 180^{\\circ} - 2\\alpha + \\alpha = 180^{\\circ} - \\alpha$ and thus $\\angle COE = 2\\alpha = \\angle CME$. Therefore, $CMOE$ is a cyclic quadrilateral. Let $N$ be the midpoint of segment $OB$. The point $T$ lies on the power line of the circle with center $N$ passing through $B, M, O$ and the circle $k$, as well as on the power line of this same circle and the circumcircle of $CMOB$, of which $T$ lies on the power line of the circumcircle of $CMOB$ and the circle $k$, which is the line $CE$. Therefore, $E, C, T$ are collinear and thus $D=E$. We prove similarly that $E' = D'$, with $D'$ being the reflection of $D$ with respect to the line $OM$. By the properties of reflections, $MD' = MD$. On the other hand, triangle $ADM$ is isosceles, so we have $AD' = MD' = MD$. Furthermore, $180^{\\circ} - \\angle AMD = \\angle BMD = \\alpha = \\angle MAD'$, so $AMDD'$ is a parallelogram and since $O$ is the center of the circumcircle of $AD'D$, the reflection of $O$ with respect to $AD$ is the center of the circumcircle of triangle $AMD$.\n\n1. Solution (German) We want to first somehow prove that the reflection of $C$ across the line $OM$ lies on the line $DM$. Let us denote this point $C'$. However, there is no simple way to prove this. For this reason, we introduce the points $E$ and $E'$. $E$ is the second intersection of the circle $k$ with the line $C'M$ and $E'$ is the second intersection of $k$ with the line $CM$. We now want to prove that the lines $CE, OM$, and the tangent to $k$ through $B$ intersect at a point, from which it follows that $D=E$.\n\nLet $\\angle BCM = \\alpha$. Since $BC = BM = AM = AC'$ we have $\\angle CMB = \\angle AMC' = \\angle AC'M = \\angle AC'E = \\angle BCE' = \\alpha$. It follows that $\\angle CBE = 180^{\\circ} - \\alpha$ and thus $\\angle COE = 2\\alpha = \\angle CME$. $CMOE$ forms a cyclic quadrilateral. Let $N$ be the midpoint of $OB$. The power lines of the circle with center $N$ through $B, M, O$, the circle through $CMOE$, and $k$ intersect at a point, $T$. Thus $D=E$ and $D' = E'$. From $AD' = MD' = MD$ it follows that $\\angle MD'D = D D'M = \\alpha$. Thus, $AMDD'$ is a parallelogram and since $O$ is the center of the circumcircle through $AD'D$, the reflection of $O$ across $AD$ is the center of the circumcircle of triangle $AMD$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "swiss_selection_2022_6",
    "metadata": {
      "source": "Swiss Mathematical Olympiad",
      "url": "https://mathematical.olympiad.ch/en/",
      "category": [],
      "level": "high_school",
      "difficulty": 6.44,
      "year": 2022,
      "competition": "swiss_mo"
    },
    "problem": "6. Let $n \\geq 2$ be an integer. Prove that if\n\n$$\n\\frac{n^{2}+4^{n}+7^{n}}{n}\n$$\nis an integer, then it is divisible by $11$.",
    "solutions": [
      {
        "solution": "Solution (Valentin): The \"Lifting the Exponent\" lemma tells us that\n\n$$\nv_{11}\\left(4^{n}+7^{n}\\right)=v_{11}(4+7)+v_{11}(n)=1+v_{11}(n)\n$$\nand we therefore have $11 \\mid\\left(4^{n}+7^{n}\\right) / n$. Now let $p$ denote the smallest prime factor of $n$. By assumption we have $p|n| 4^{n}+7^{n}$, with $p \\neq 2,7$. Now setting $x \\equiv 4 \\cdot 7^{-1} \\bmod p$, we find:\n$$\n4^{n} \\equiv-7^{n} \\quad \\bmod p \\Longrightarrow x^{n} \\equiv-1 \\quad \\bmod p \\Longrightarrow x^{2 n} \\equiv 1 \\quad \\bmod p\n$$\n\nIf $d$ denotes the order of $x \\bmod p$, the above implies $d \\mid 2 n$. By Euler-Fermat we also have $d \\mid \\varphi(p)=p-1$. By minimality of $p$, we have $\\operatorname{gcd}(n, p-1)=1$, and thus $d \\mid 2$. Therefore,\n\n$$\nx^{2} \\equiv 1 \\quad \\bmod p \\Longrightarrow 4^{2} \\equiv 7^{2} \\quad \\bmod p \\Longrightarrow p \\mid 49-16=33 \\Longrightarrow p=3,11\n$$\n\nBut since $4^{n} \\equiv 7^{n} \\equiv 1 \\bmod 3$, we cannot have $p=3 \\mid n$, since otherwise $n$ does not divide $4^{n}+7^{n}$. We conclude that $p=11 \\mid n$ and the result follows.\n\n## Marking Scheme (additive)\n\n- 1P: Showing that $11 \\mid\\left(4^{n}+7^{n}\\right) / n$.\n- 1P: Considering $d$, the order of $4 / 7, \\bmod p$ for some prime $p \\mid n$.\n- 1P: Showing that $d \\mid 2 n$ and $d \\mid p-1$.\n- 2P: Showing that $d \\mid 2$.\n- 1P: Showing that $3$ does not divide $n$.\n- 1P: Showing that $11 \\mid n$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2000_a3",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2000,
      "difficulty": 8.0,
      "competition": "putnam"
    },
    "problem": "A-3 The octagon $P_{1} P_{2} P_{3} P_{4} P_{5} P_{6} P_{7} P_{8}$ is inscribed in a circle, with the vertices around the circumference in the given order. Given that the polygon $P_{1} P_{3} P_{5} P_{7}$ is a square of area 5, and the polygon $P_{2} P_{4} P_{6} P_{8}$ is a rectangle of area $4$, find the maximum possible area of the octagon.",
    "solutions": [
      {
        "solution": "A-3 The maximum area is $3 \\sqrt{5}$.\nWe deduce from the area of $P_{1} P_{3} P_{5} P_{7}$ that the radius of the circle is $\\sqrt{5 / 2}$. An easy calculation using the\n\nPythagorean Theorem then shows that the rectangle $P_{2} P_{4} P_{6} P_{8}$ has sides $\\sqrt{2}$ and $2 \\sqrt{2}$. For notational ease, denote the area of a polygon by putting brackets around the name of the polygon.\nBy symmetry, the area of the octagon can be expressed as\n\n$$\n\\left[P_{2} P_{4} P_{6} P_{8}\\right]+2\\left[P_{2} P_{3} P_{4}\\right]+2\\left[P_{4} P_{5} P_{6}\\right]\n$$\n\nNote that $\\left[P_{2} P_{3} P_{4}\\right]$ is $\\sqrt{2}$ times the distance from $P_{3}$ to $P_{2} P_{4}$, which is maximized when $P_{3}$ lies on the midpoint of $\\operatorname{arc} P_{2} P_{4}$; similarly, $\\left[P_{4} P_{5} P_{6}\\right]$ is $\\sqrt{2} / 2$ times the distance from $P_{5}$ to $P_{4} P_{6}$, which is maximized when $P_{5}$ lies on the midpoint of arc $P_{4} P_{6}$. Thus the area of the octagon is maximized when $P_{3}$ is the midpoint of $\\operatorname{arc} P_{2} P_{4}$ and $P_{5}$ is the midpoint of arc $P_{4} P_{6}$. In this case, it is easy to calculate that $\\left[P_{2} P_{3} P_{4}\\right]=\\sqrt{5}-1$ and $\\left[P_{4} P_{5} P_{6}\\right]=\\sqrt{5} / 2-1$, and so the area of the octagon is $3 \\sqrt{5}$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2002_a4",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2002,
      "difficulty": 8.08,
      "competition": "putnam"
    },
    "problem": "A4 In Determinant Tic-Tac-Toe, Player $1$ enters a $1$ in an empty $3 \\times 3$ matrix. Player $0$ counters with a $0$ in a vacant position, and play continues in turn until the $3 \\times 3$ matrix is completed with five 1's and four 0's. Player $0$ wins if the determinant is $0$ and player $1$ wins otherwise. Assuming both players pursue optimal strategies, who will win and how?",
    "solutions": [
      {
        "solution": "A-4 (partly due to David Savitt) Player $0$ wins with optimal play. In fact, we prove that Player $1$ cannot prevent Player $0$ from creating a row of all zeroes, a column of all zeroes, or a $2 \\times 2$ submatrix of all zeroes. Each of these forces the determinant of the matrix to be zero.\n\nFor $i, j=1,2,3$, let $A_{i j}$ denote the position in row $i$ and column $j$. Without loss of generality, we may assume that Player 1's first move is at $A_{11}$. Player $0$ then plays at $A_{22}$ :\n\n$$\n\\left(\\begin{array}{lll}\n1 & * & * \\\\\n* & 0 & * \\\\\n* & * & *\n\\end{array}\\right)\n$$\n\nAfter Player 1's second move, at least one of $A_{23}$ and $A_{32}$ remains vacant. Without loss of generality, assume $A_{23}$ remains vacant; Player $0$ then plays there.\nAfter Player 1's third move, Player $0$ wins by playing at $A_{21}$ if that position is unoccupied. So assume instead that Player $1$ has played there. Thus of Player 1's three moves so far, two are at $A_{11}$ and $A_{21}$. Hence for $i$ equal to one of $1$ or $3$, and for $j$ equal to one of $2$ or $3$, the following are both true:\n(a) The $2 \\times 2$ submatrix formed by rows $2$ and $i$ and by columns $2$ and $3$ contains two zeroes and two empty positions.\n(b) Column $j$ contains one zero and two empty positions.\n\nPlayer $0$ next plays at $A_{i j}$. To prevent a zero column, Player $1$ must play in column $j$, upon which Player $0$ completes the $2 \\times 2$ submatrix in (a) for the win.\n\nNote: one can also solve this problem directly by making a tree of possible play sequences. This tree can be considerably collapsed using symmetries: the symmetry between rows and columns, the invariance of the outcome under reordering of rows or columns, and the fact that the scenario after a sequence of moves does not depend on the order of the moves (sometimes called \"transposition invariance\").\nNote (due to Paul Cheng): one can reduce Determinant Tic-Tac-Toe to a variant of ordinary tic-tac-toe. Namely, consider a tic-tac-toe grid labeled as follows:\n\n$$\n\\begin{array}{c|c|c}\nA_{11} & A_{22} & A_{33} \\\\\n\\hline A_{23} & A_{31} & A_{12} \\\\\n\\hline A_{32} & A_{13} & A_{21}\n\\end{array}\n$$\n\nThen each term in the expansion of the determinant occurs in a row or column of the grid. Suppose Player $1$ first plays in the top left. Player $0$ wins by playing first in the top row, and second in the left column. Then there are only one row and column left for Player $1$ to threaten, and Player $1$ cannot already threaten both on the third move, so Player $0$ has time to block both.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2004_b2",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2004,
      "difficulty": 8.16,
      "competition": "putnam"
    },
    "problem": "B3 Determine all real numbers $a>0$ for which there exists a nonnegative continuous function $f(x)$ defined on $[0, a]$ with the property that the region\n\n$$\nR=\\{(x, y) ; 0 \\leq x \\leq a, 0 \\leq y \\leq f(x)\\}\n$$\nhas perimeter $k$ units and area $k$ square units for some real number $k$.",
    "solutions": [
      {
        "solution": "B-3 The answer is $\\{a \\mid a>2\\}$. If $a>2$, then the function $f(x)=2 a /(a-2)$ has the desired property; both perimeter and area of $R$ in this case are $2 a^{2} /(a-2)$. Now suppose that $a \\leq 2$, and let $f(x)$ be a nonnegative continuous function on $[0, a]$. Let $P=\\left(x_{0}, y_{0}\\right)$ be a point on the graph of $f(x)$ with maximal $y$-coordinate; then the area of $R$ is at most $a y_{0}$ since it lies below the line $y=y_{0}$. On the other hand, the points $(0,0),(a, 0)$, and $P$ divide the boundary of $R$ into three sections. The length of the section between $(0,0)$ and $P$ is at least the distance between $(0,0)$ and $P$, which is at least $y_{0}$; the length of the section between $P$ and $(a, 0)$ is similarly at least $y_{0}$; and the length of the section between $(0,0)$ and $(a, 0)$ is $a$. Since $a \\leq 2$, we have $2 y_{0}+a>a y_{0}$ and hence the perimeter of $R$ is strictly greater than the area of $R$.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2006_a2",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2006,
      "difficulty": 8.24,
      "competition": "putnam"
    },
    "problem": "A-2 Alice and Bob play a game in which they take turns removing stones from a heap that initially has $n$ stones. The number of stones removed at each turn must be one less than a prime number. The winner is the player who takes the last stone. Alice plays first. Prove that there are infinitely many $n$ such that Bob has a winning strategy. (For example, if $n=17$, then Alice might take $6$ leaving 11; then Bob might take $1$ leaving 10; then Alice can take the remaining stones to win.)",
    "solutions": [
      {
        "solution": "A-2 Suppose on the contrary that the set $B$ of values of $n$ for which Bob has a winning strategy is finite; for convenience, we include $n=0$ in $B$, and write $B=$ $\\left\\{b_{1}, \\ldots, b_{m}\\right\\}$. Then for every nonnegative integer $n$ not in $B$, Alice must have some move on a heap of $n$ stones leading to a position in which the second player wins. That is, every nonnegative integer not in $B$ can be written as $b+p-1$ for some $b \\in B$ and some prime $p$. However, there are numerous ways to show that this cannot happen.\nFirst solution: Let $t$ be any integer bigger than all of the $b \\in B$. Then it is easy to write down $t$ consecutive composite integers, e.g., $(t+1)!+2, \\ldots,(t+1)!+t+1$. Take $n=(t+1)!+t$; then for each $b \\in B, n-b+1$ is one of the composite integers we just wrote down.\nSecond solution: Let $p_{1}, \\ldots, p_{2 m}$ be any prime numbers; then by the Chinese remainder theorem, there exists a positive integer $x$ such that\n\n$$\n\\begin{aligned}\nx-b_{1} & \\equiv-1 \\quad\\left(\\bmod p_{1} p_{m+1}\\right) \\\\\n\\ldots & \\\\\nx-b_{n} & \\equiv-1 \\quad\\left(\\bmod p_{m} p_{2 m}\\right) .\n\\end{aligned}\n$$\n\nFor each $b \\in B$, the unique integer $p$ such that $x=b+$ $p-1$ is divisible by at least two primes, and so cannot itself be prime.\nThird solution: (by Catalin Zara) Put $b_{1}=0$, and take $n=\\left(b_{2}-1\\right) \\cdots\\left(b_{m}-1\\right)$; then $n$ is composite because $3,8 \\in B$, and for any nonzero $b \\in B, n-b_{i}+1$ is divisible by but not equal to $b_{i}-1$. (One could also take $n=b_{2} \\cdots b_{m}-1$, so that $n-b_{i}+1$ is divisible by $b_{i}$.)",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2008_a2",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2008,
      "difficulty": 8.32,
      "competition": "putnam"
    },
    "problem": "A2 Alan and Barbara play a game in which they take turns filling entries of an initially empty $2008 \\times 2008$ array. Alan plays first. At each turn, a player chooses a real number and places it in a vacant entry. The game ends when all the entries are filled. Alan wins if the determinant of the resulting matrix is nonzero; Barbara wins if it is zero. Which player has a winning strategy?",
    "solutions": [
      {
        "solution": "A-2 Barbara wins using one of the following strategies.\nFirst solution: Pair each entry of the first row with the entry directly below it in the second row. If Alan ever writes a number in one of the first two rows, Barbara writes the same number in the other entry in the pair. If Alan writes a number anywhere other than the first two rows, Barbara does likewise. At the end, the resulting matrix will have two identical rows, so its determinant will be zero.\nSecond solution: (by Manjul Bhargava) Whenever Alan writes a number $x$ in an entry in some row, Barbara writes $-x$ in some other entry in the same row. At the end, the resulting matrix will have all rows summing to zero, so it cannot have full rank.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2013_a1",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2013,
      "difficulty": 8.52,
      "competition": "putnam"
    },
    "problem": "A1 Recall that a regular icosahedron is a convex polyhedron having $12$ vertices and $20$ faces; the faces are congruent equilateral triangles. On each face of a regular icosahedron is written a nonnegative integer such that the sum of all $20$ integers is $39$. Show that there are two faces that share a vertex and have the same integer written on them.",
    "solutions": [
      {
        "solution": "A1 Suppose otherwise. Then each vertex $v$ is a vertex for five faces, all of which have different labels, and so the sum of the labels of the five faces incident to $v$ is at least $0+1+2+3+4=10$. Adding this sum over all vertices $v$ gives $3 \\times 39=117$, since each face's label is counted three times. Since there are $12$ vertices, we conclude that $10 \\times 12 \\leq 117$, contradiction.\nRemark: One can also obtain the desired result by showing that any collection of five faces must contain two faces that share a vertex; it then follows that each label can appear at most $4$ times, and so the sum of all labels is at least $4(0+1+2+3+4)=40>39$, contradiction.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2017_a5",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2017,
      "difficulty": 8.68,
      "competition": "putnam"
    },
    "problem": "A5 Each of the integers from $1$ to $n$ is written on a separate card, and then the cards are combined into a deck and shuffled. Three players, $A, B$, and $C$, take turns in the order $A, B, C, A, \\ldots$ choosing one card at random from the deck. (Each card in the deck is equally likely to be chosen.) After a card is chosen, that card and all higher-numbered cards are removed from the deck, and the remaining cards are reshuffled before the next turn. Play continues until one of the three players wins the game by drawing the card numbered $1$.\nShow that for each of the three players, there are arbitrarily large values of $n$ for which that player has the highest probability among the three players of winning the game.",
    "solutions": [
      {
        "solution": "A5 First solution. Let $a_{n}, b_{n}, c_{n}$ be the probabilities that players $A, B, C$, respectively, will win the game. We compute these by induction on $n$, starting with the values\n\n$$\na_{1}=1, \\quad b_{1}=0, \\quad c_{1}=0\n$$\n\nIf player $A$ draws card $k$, then the resulting game state is that of a deck of $k-1$ cards with the players taking turns in the order $B, C, A, B, \\ldots$ In this state, the probabilities that players $A, B, C$ will win are $c_{k-1}, a_{k-1}, b_{k-1}$ provided that we adopt the convention that\n\n$$\na_{0}=0, \\quad b_{0}=0, \\quad c_{0}=1\n$$\n\nWe thus have\n$a_{n}=\\frac{1}{n} \\sum_{k=1}^{n} c_{k-1}, \\quad b_{n}=\\frac{1}{n} \\sum_{k=1}^{n} a_{k-1}, \\quad c_{n}=\\frac{1}{n} \\sum_{k=1}^{n} b_{k-1}$.\nPut\n\n$$\nx_{n}=a_{n}-b_{n}, \\quad y_{n}=b_{n}-c_{n}, \\quad z_{n}=c_{n}-a_{n}\n$$\nwe then have\n\\$\\$\\begin{aligned}\n\n\\& x_{n+1}=\\frac{n}{n+1} x_{n}+\\frac{1}{n+1} z_{n} <br>\n\\& y_{n+1}=\\frac{n}{n+1} y_{n}+\\frac{1}{n+1} x_{n}, <br>\n\\& z_{n+1}=\\frac{n}{n+1} z_{n}+\\frac{1}{n+1} y_{n} .\n\n\\end{aligned}\\$\\$\n\nNote that if $a_{n+1}=b_{n+1}=c_{n+1}=0$, then\n\n$$\nx_{n}=-n z_{n}=n^{2} y_{n}=-n^{3} x_{n}=n^{4} z_{n}\n$$\nand so $x_{n}=z_{n}=0$, or in other words $a_{n}=b_{n}=c_{n}$. By induction on $n$, we deduce that $a_{n}, b_{n}, c_{n}$ cannot all be equal. That is, the quantities $x_{n}, y_{n}, z_{n}$ add up to zero and at most one of them vanishes; consequently, the quantity $r_{n}=\\sqrt{x_{n}^{2}+y_{n}^{2}+z_{n}^{2}}$ is always positive and the quantities\n$$\nx_{n}^{\\prime}=\\frac{x_{n}}{r_{n}}, \\quad y_{n}^{\\prime}=\\frac{y_{n}}{r_{n}}, \\quad z_{n}^{\\prime}=\\frac{z_{n}}{r_{n}}\n$$\n\nform the coordinates of a point $P_{n}$ on a fixed circle $C$ in $\\mathbb{R}^{3}$.\n\nLet $P_{n}^{\\prime}$ be the point $\\left(z_{n}, x_{n}, y_{n}\\right)$ obtained from $P_{n}$ by a clockwise rotation of angle $\\frac{2 \\pi}{3}$. The point $P_{n+1}$ then lies on the ray through the origin passing through the point dividing the chord from $P_{n}$ to $P_{n}^{\\prime}$ in the ratio $1: n$. The (clockwise) arc from $P_{n}$ to $P_{n+1}$ therefore has a measure of\n\n$$\n\\arctan \\frac{\\sqrt{3}}{2 n-1}=\\frac{\\sqrt{3}}{2 n-1}+O\\left(n^{-3}\\right)\n$$\nthese measures form a null sequence whose sum diverges. It follows that any arc of $C$ contains infinitely many of the $P_{n}$; taking a suitably short arc around the point $\\left(\\frac{\\sqrt{2}}{2}, 0,-\\frac{\\sqrt{2}}{2}\\right)$, we deduce that for infinitely many $n, A$ has the highest winning probability, and similarly for $B$ and $C$.\nRemark: From the previous analysis, we also deduce that\n$$\n\\frac{r_{n+1}}{r_{n}}=\\frac{\\sqrt{n^{2}-n+1}}{n+1}=1-\\frac{3}{2(n+1)}+O\\left(n^{-2}\\right)\n$$\n\nfrom which it follows that $r_{n} \\sim c n^{-3 / 2}$ for some $c>0$.\nSecond solution. (by Noam Elkies) In this approach, we instead compute the probability $p_{n}(m)$ that the game ends after exactly $m$ turns (the winner being determined\nby the residue of $m \\bmod 3)$. We use the convention that $p_{0}(0)=1, p_{0}(m)=0$ for $m>0$. Define the generating function $P_{n}(X)=\\sum_{m=0}^{n} p_{n}(m) x^{m}$. We will establish that\n\n$$\nP_{n}(X)=\\frac{X(X+1) \\cdots(X+n-1)}{n!}\n$$\n(which may be guessed by computing $p_{n}(m)$ for small $n$ by hand). There are several ways to do this; for instance, this follows from the recursion\n$$\nP_{n}(X)=\\frac{1}{n} X P_{n-1}(X)+\\frac{(n-1)}{n} P_{n-1}(X) .\n$$\n\n(In this recursion, the first term corresponds to conditional probabilities given that the first card drawn is $n$, and the second term corresponds to the remaining cases.)\nLet $\\omega$ be a primitive cube root of $1$. With notation as in the first solution, we have\n\n$$\nP_{n}(\\omega)=a_{n}+b_{n} \\omega+c_{n} \\omega\n$$\ncombining this with the explicit formula for $P_{n}(X)$ and the observation that\n$$\n\\arg (w+n)=\\arctan \\frac{\\sqrt{3}}{2 n-1}\n$$\n\nrecovers the geometric description of $a_{n}, b_{n}, c_{n}$ given in the first solution (as well as the remark following the first solution).\nThird solution. For this argument, we use the auxiliary quantities\n\n$$\na_{n}^{\\prime}=a_{n}-\\frac{1}{3}, \\quad b_{n}^{\\prime}=b_{n}-\\frac{1}{3}, \\quad c_{n}^{\\prime}=c_{n}-\\frac{1}{3}\n$$\nthese satisfy the relations\n$$\na_{n}^{\\prime}=\\frac{1}{n} \\sum_{k=1}^{n} c_{k-1}^{\\prime}, \\quad b_{n}^{\\prime}=\\frac{1}{n} \\sum_{k=1}^{n} a_{k-1}^{\\prime}, \\quad c_{n}^{\\prime}=\\frac{1}{n} \\sum_{k=1}^{n} b_{k-1}^{\\prime}\n$$\n\nas well as\n\n$$\n\\begin{aligned}\n& a_{n+1}^{\\prime}=a_{n}^{\\prime}+\\frac{1}{n+1}\\left(c_{n}^{\\prime}-a_{n}^{\\prime}\\right) \\\\\n& b_{n+1}^{\\prime}=b_{n}^{\\prime}+\\frac{1}{n+1}\\left(a_{n}^{\\prime}-b_{n}^{\\prime}\\right) \\\\\n& c_{n+1}^{\\prime}=c_{n}^{\\prime}+\\frac{1}{n+1}\\left(b_{n}^{\\prime}-c_{n}^{\\prime}\\right)\n\\end{aligned}\n$$\n\nWe now show that $\\sum_{n=1}^{\\infty} a_{n}^{\\prime}$ cannot diverge to $+\\infty$ (and likewise for $\\sum_{n=1}^{\\infty} b_{n}^{\\prime}$ and $\\sum_{n=1}^{\\infty} c_{n}^{\\prime}$ by similar reasoning). Suppose the contrary; then there exists some $\\varepsilon>0$ and some $n_{0}>0$ such that $\\sum_{k=1}^{n} a_{k}^{\\prime} \\geq \\varepsilon$ for all $n \\geq n_{0}$. For $n>n_{0}$, we have $b_{n}^{\\prime} \\geq \\varepsilon$; this in turn implies that $\\sum_{n=1}^{\\infty} b_{n}^{\\prime}$ diverges to $+\\infty$. Continuing around the circle, we deduce that for $n$ sufficiently large, all three of $a_{n}^{\\prime}, b_{n}^{\\prime}, c_{n}^{\\prime}$ are positive; but this contradicts the identity\n$a_{n}^{\\prime}+b_{n}^{\\prime}+c_{n}^{\\prime}=0$. We thus conclude that $\\sum_{n=1}^{\\infty} a_{n}^{\\prime}$ does not diverge to $+\\infty$; in particular, $\\liminf _{n \\rightarrow \\infty} a_{n}^{\\prime} \\leq 0$.\nBy the same token, we may see that $\\sum_{n=1}^{\\infty} a_{n}^{\\prime}$ cannot converge to a positive limit $L$ (and likewise for $\\sum_{n=1}^{\\infty} b_{n}^{\\prime}$ and $\\sum_{n=1}^{\\infty} c_{n}^{\\prime}$ by similar reasoning). Namely, this would imply that $b_{n}^{\\prime} \\geq L / 2$ for $n$ sufficiently large, contradicting the previous argument.\n\nBy similar reasoning, $\\sum_{n=1}^{\\infty} a_{n}^{\\prime}$ cannot diverge to $-\\infty$ or converge to a negative limit $L$ (and likewise for $\\sum_{n=1}^{\\infty} b_{n}^{\\prime}$ and $\\sum_{n=1}^{\\infty} c_{n}^{\\prime}$ by similar reasoning).\nWe next establish that there are infinitely many $n$ for which $a_{n}^{\\prime}>0$ (and likewise for $b_{n}^{\\prime}$ and $c_{n}^{\\prime}$ by similar reasoning). Suppose to the contrary that for $n$ sufficiently large, we have $a_{n}^{\\prime} \\leq 0$. By the previous arguments, the sum $\\sum_{n=1}^{\\infty} a_{n}^{\\prime}$ cannot diverge to $\\infty$ or converge to a nonzero limit; it must therefore converge to $0$. In particular, for $n$ sufficiently large, we have $b_{n}^{\\prime}=\\sum_{k=1}^{n} a_{k-1}^{\\prime} \\geq 0$. Iterating the construction, we see that for $n$ sufficiently large, we must have $c_{n}^{\\prime} \\leq 0, a_{n}^{\\prime} \\geq 0$, $b_{n}^{\\prime} \\leq 0$, and $c_{n}^{\\prime} \\geq 0$. As a result, for $n$ sufficiently large we must have $a_{n}^{\\prime}=b_{n}^{\\prime}=c_{n}^{\\prime}=0$; but we may rule this out as in the original solution.\nBy similar reasoning, we may deduce that there are infinitely many $n$ for which $a_{n}^{\\prime}<0$ (and likewise for $b_{n}^{\\prime}$ and $c_{n}^{\\prime}$ by similar reasoning). We now continue using a suggestion of Jon Atkins. Define the values of the sequence $x_{n}$ according to the relative comparison of $a_{n}^{\\prime}, b_{n}^{\\prime}, c_{n}^{\\prime}$ (using the fact that these cannot all be equal):\n\n$$\n\\begin{array}{ll}\nx_{n}=1: & a_{n}^{\\prime} \\leq b_{n}^{\\prime}<c_{n}^{\\prime} \\\\\nx_{n}=2: & b_{n}^{\\prime} \\leq c_{n}^{\\prime}<a_{n}^{\\prime} \\\\\nx_{n}=3: & c_{n}^{\\prime} \\leq a_{n}^{\\prime}<b_{n}^{\\prime} \\\\\nx_{n}=4: & a_{n}^{\\prime}<c_{n}^{\\prime} \\leq b_{n}^{\\prime} \\\\\nx_{n}=5: & b_{n}^{\\prime}<a_{n}^{\\prime} \\leq c_{n}^{\\prime} \\\\\nx_{n}=6: & c_{n}^{\\prime}<b_{n}^{\\prime} \\leq a_{n}^{\\prime} .\n\\end{array}\n$$\n\nWe consider these values as states and say that there is a transition from state $i$ to state $j$, and write $i \\Rightarrow j$, if for every $n \\geq 2$ with $x_{n}=i$ there exists $n^{\\prime}>n$ with $x_{n^{\\prime}}=j$. (In all cases when we use this notation, it will in fact be the case that the first value of $n^{\\prime}>n$ for which $x_{n^{\\prime}} \\neq i$ satisfes $x_{n^{\\prime}}=j$, but this is not logically necessary for our final conclusion.)\nSuppose that $x_{n}=1$. By the earlier discussion, we must have $a_{n^{\\prime}}^{\\prime}>0$ for some $n^{\\prime}>n$, and so we cannot have $x_{n^{\\prime}}=1$ for all $n^{\\prime}>n$. On the other hand, as long as $x_{n}=1$, we have\n\n$$\n\\begin{aligned}\nc_{n+1}^{\\prime}-b_{n+1}^{\\prime} & =c_{n}^{\\prime}-b_{n}^{\\prime}+\\frac{1}{n+1}\\left(2 b_{n}^{\\prime}-a_{n}^{\\prime}-c_{n}^{\\prime}\\right) \\\\\n& =\\frac{n-1}{n+1}\\left(c_{n}^{\\prime}-b_{n}^{\\prime}\\right)+\\frac{1}{n+1}\\left(c_{n}^{\\prime}-a_{n}^{\\prime}\\right)>0 \\\\\nc_{n+1}^{\\prime}-a_{n+1}^{\\prime} & =c_{n}^{\\prime}-a_{n}^{\\prime}+\\frac{1}{n+1}\\left(a_{n}^{\\prime}+b_{n}^{\\prime}-2 c_{n}^{\\prime}\\right) \\\\\n& =\\frac{n-1}{n+1}\\left(c_{n}^{\\prime}-a_{n}^{\\prime}\\right)+\\frac{1}{n+1}\\left(b_{n}^{\\prime}-a_{n}^{\\prime}\\right)>0 .\n\\end{aligned}\n$$\n\nConsequently, for $n^{\\prime}$ the smallest value for which $x_{n^{\\prime}} \\neq$ $x_{n}$, we must have $x_{n^{\\prime}}=2$. By this and two similar arguments, we deduce that\n\n$$\n1 \\Rightarrow 5, \\quad 2 \\Rightarrow 6, \\quad 3 \\Rightarrow 4\n$$\n\nSuppose that $x_{n}=4$. By the earlier discussion, we must have $a_{n^{\\prime}}^{\\prime}<0$ for some $n^{\\prime}>n$, and so we cannot have $x_{n^{\\prime}}=4$ for all $n^{\\prime}>n$. On the other hand, as long as $x_{n}=4$, we have\n\n$$\n\\begin{aligned}\nb_{n+1}^{\\prime}-a_{n+1}^{\\prime} & =b_{n}^{\\prime}-a_{n}^{\\prime}+\\frac{1}{n+1}\\left(2 a_{n}^{\\prime}-b_{n}^{\\prime}-c_{n}^{\\prime}\\right) \\\\\n& =\\frac{n-1}{n+1}\\left(b_{n}^{\\prime}-a_{n}^{\\prime}\\right)+\\frac{1}{n+1}\\left(b_{n}^{\\prime}-c_{n}^{\\prime}\\right)>0 \\\\\nc_{n+1}^{\\prime}-a_{n+1}^{\\prime} & =c_{n}^{\\prime}-a_{n}^{\\prime}+\\frac{1}{n+1}\\left(a_{n}^{\\prime}+b_{n}^{\\prime}-2 c_{n}^{\\prime}\\right) \\\\\n& =\\frac{n-1}{n+1}\\left(c_{n}^{\\prime}-a_{n}^{\\prime}\\right)+\\frac{1}{n+1}\\left(b_{n}^{\\prime}-a_{n}^{\\prime}\\right)>0\n\\end{aligned}\n$$\n\nConsequently, for $n^{\\prime}$ the smallest value for which $x_{n^{\\prime}} \\neq$ $x_{n}$, we must have $x_{n^{\\prime}}=1$. By this and two similar arguments, we deduce that\n\n$$\n4 \\Rightarrow 1, \\quad 5 \\Rightarrow 2, \\quad 6 \\Rightarrow 3\n$$\n\nCombining, we obtain\n\n$$\n1 \\Rightarrow 5 \\Rightarrow 2 \\Rightarrow 6 \\Rightarrow 3 \\Rightarrow 4 \\Rightarrow 1\n$$\nand hence the desired result.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2019_a2",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2019,
      "difficulty": 8.76,
      "competition": "putnam"
    },
    "problem": "A2 In the triangle $\\triangle A B C$, let $G$ be the centroid, and let $I$ be the center of the inscribed circle. Let $\\alpha$ and $\\beta$ be the angles at the vertices $A$ and $B$, respectively. Suppose that the segment $I G$ is parallel to $A B$ and that $\\beta=2 \\tan ^{-1}(1 / 3)$. Find $\\alpha$.",
    "solutions": [
      {
        "solution": "A2 Solution 1. Let $M$ and $D$ denote the midpoint of $A B$ and the foot of the altitude from $C$ to $A B$, respectively,\nand let $r$ be the inradius of $\\triangle A B C$. Since $C, G, M$ are collinear with $C M=3 G M$, the distance from $C$ to line $A B$ is $3$ times the distance from $G$ to $A B$, and the latter is $r$ since $I G \\| A B$; hence the altitude $C D$ has length $3 r$. By the double angle formula for tangent, $\\frac{C D}{D B}=\\tan \\beta=\\frac{3}{4}$, and so $D B=4 r$. Let $E$ be the point where the incircle meets $A B$; then $E B=r / \\tan \\left(\\frac{\\beta}{2}\\right)=3 r$. It follows that $E D=r$, whence the incircle is tangent to the altitude $C D$. This implies that $D=A, A B C$ is a right triangle, and $\\alpha=\\frac{\\pi}{2}$.\nRemark. One can obtain a similar solution by fixing a coordinate system with $B$ at the origin and $A$ on the positive $x$-axis. Since $\\tan \\frac{\\beta}{2}=\\frac{1}{3}$, we may assume without loss of generality that $I=(3,1)$. Then $C$ lies on the intersection of the line $y=3$ (because $C D=3 r$ as above) with the line $y=\\frac{3}{4} x$ (because $\\tan \\beta=\\frac{3}{4}$ as above), forcing $C=(4,3)$ and so forth.\nSolution 2. Let $a, b, c$ be the lengths of $B C, C A, A B$, respectively. Let $r, s$, and $K$ denote the inradius, semiperimeter, and area of $\\triangle A B C$. By Heron's Formula,\n\n$$\nr^{2} s^{2}=K^{2}=s(s-a)(s-b)(s-c)\n$$\n\nIf $I G$ is parallel to $A B$, then\n$\\frac{1}{2} r c=\\operatorname{area}(\\triangle A B I)=\\operatorname{area}(\\triangle A B G)=\\frac{1}{3} K=\\frac{1}{3} r s$\nand so $c=\\frac{a+b}{2}$. Since $s=\\frac{3(a+b)}{4}$ and $s-c=\\frac{a+b}{4}$, we have $3 r^{2}=(s-a)(s-b)$. Let $E$ be the point at which the incircle meets $A B$; then $s-b=E B=r / \\tan \\left(\\frac{\\beta}{2}\\right)$ and $s-a=E A=r / \\tan \\left(\\frac{\\alpha}{2}\\right)$. It follows that $\\tan \\left(\\frac{\\alpha}{2}\\right) \\tan \\left(\\frac{\\beta}{2}\\right)=$ $\\frac{1}{3}$ and so $\\tan \\left(\\frac{\\alpha}{2}\\right)=1$. This implies that $\\alpha=\\frac{\\pi}{2}$.\nRemark. The equality $c=\\frac{a+b}{2}$ can also be derived from the vector representations\n\n$$\nG=\\frac{A+B+C}{3}, \\quad I=\\frac{a A+b B+c C}{a+b+c} .\n$$\n\nSolution 3. (by Catalin Zara) It is straightforward to check that a right triangle with $A C=3, A B=4, B C=5$ works. For example, in a coordinate system with $A=$ $(0,0), B=(4,0), C=(0,3)$, we have\n\n$$\nG=\\left(\\frac{4}{3}, 1\\right), \\quad I=(1,1)\n$$\nand for $D=(1,0)$,\n$$\n\\tan \\frac{\\beta}{2}=\\frac{I D}{B D}=\\frac{1}{3}\n$$\n\nIt thus suffices to suggest that this example is unique up to similarity.\nLet $C^{\\prime}$ be the foot of the angle bisector at $C$. Then\n\n$$\n\\frac{C I}{I C^{\\prime}}=\\frac{C A+C B}{A B}\n$$\nand so $I G$ is parallel to $A B$ if and only if $C A+C B=$ $2 A B$. We may assume without loss of generality that $A$ and $B$ are fixed, in which case this condition restricts $C$ to an ellipse with foci at $A$ and $B$. Since the angle $\\beta$ is also fixed, up to symmetry $C$ is further restricted to a half-line starting at $B$; this intersects the ellipse in a unique point.\nRemark. Given that $C A+C B=2 A B$, one can also recover the ratio of side lengths using the law of cosines.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2020_b2",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2020,
      "difficulty": 8.8,
      "competition": "putnam"
    },
    "problem": "B3 Let $x_{0}=1$, and let $\\delta$ be some constant satisfying $0<$ $\\delta<1$. Iteratively, for $n=0,1,2, \\ldots$, a point $x_{n+1}$ is chosen uniformly from the interval $\\left[0, x_{n}\\right]$. Let $Z$ be the smallest value of $n$ for which $x_{n}<\\delta$. Find the expected value of $Z$, as a function of $\\delta$.",
    "solutions": [
      {
        "solution": "B3 Let $f(\\boldsymbol{\\delta})$ denote the desired expected value of $Z$ as a function of $\\delta$. We prove that $f(\\boldsymbol{\\delta})=1-\\log (\\boldsymbol{\\delta})$, where $\\log$ denotes natural logarithm.\nFor $c \\in[0,1]$, let $g(\\boldsymbol{\\delta}, c)$ denote the expected value of $Z$ given that $x_{1}=c$, and note that $f(\\boldsymbol{\\delta})=\\int_{0}^{1} g(\\delta, c) d c$. Clearly $g(\\delta, c)=1$ if $c<\\delta$. On the other hand, if $c \\geq$ $\\delta$, then $g(\\delta, c)$ is $1$ more than the expected value of $Z$ would be if we used the initial condition $x_{0}=c$ rather than $x_{0}=1$. By rescaling the interval $[0, c]$ linearly to\n$[0,1]$ and noting that this sends $\\delta$ to $\\delta / c$, we see that this latter expected value is equal to $f(\\delta / c)$. That is, for $c \\geq \\delta, g(\\delta, c)=1+f(\\delta / c)$. It follows that we have\n\n$$\n\\begin{aligned}\nf(\\boldsymbol{\\delta}) & =\\int_{0}^{1} g(\\boldsymbol{\\delta}, c) d c \\\\\n& =\\delta+\\int_{\\delta}^{1}(1+f(\\boldsymbol{\\delta} / c)) d c=1+\\int_{\\delta}^{1} f(\\boldsymbol{\\delta} / c) d c .\n\\end{aligned}\n$$\n\nNow define $h:[1, \\infty) \\rightarrow \\mathbb{R}$ by $h(x)=f(1 / x)$; then we have\n\n$$\nh(x)=1+\\int_{1 / x}^{1} h(c x) d c=1+\\frac{1}{x} \\int_{1}^{x} h(c) d c .\n$$\n\nRewriting this as $x h(x)-x=\\int_{1}^{x} h(c) d c$ and differentiating with respect to $x$ gives $h(x)+x h^{\\prime}(x)-1=h(x)$, whence $h^{\\prime}(x)=1 / x$ and so $h(x)=\\log (x)+C$ for some constant $C$. Since $h(1)=f(1)=1$, we conclude that $C=1, h(x)=1+\\log (x)$, and finally $f(\\boldsymbol{\\delta})=1-\\log (\\delta)$. This gives the claimed answer.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_2024_b1",
    "metadata": {
      "source": "Putnam",
      "url": "https://kskedlaya.org/putnam-archive/",
      "category": [
        ""
      ],
      "level": "undergraduate",
      "year": 2024,
      "difficulty": 8.96,
      "competition": "putnam"
    },
    "problem": "B2 Two convex quadrilaterals are called partners if they have three vertices in common and they can be labeled $A B C D$ and $A B C E$ so that $E$ is the reflection of $D$ across the perpendicular bisector of the diagonal $\\overline{A C}$. Is there an infinite sequence of convex quadrilaterals such that each quadrilateral is a partner of its successor and no two elements of the sequence are congruent? [A diagram has been omitted.]",
    "solutions": [
      {
        "solution": "B2 No, there is no such sequence. In other words, any sequence of convex quadrilaterals with the property that any two consecutive terms are partners must be finite.\n\n## First solution.\n\nLemma. Given five positive real numbers $a, b, c, d, K$, there are only finitely many convex quadrilaterals with side lengths $a, b, c, d$ in that order and area $K$.\n\nProof. Let $P Q R S$ be a convex quadrilateral with\n\n$$\n\\overline{P Q}=a, \\overline{Q R}=b, \\overline{R S}=c, \\overline{S P}=d .\n$$\n\nThen the congruence class of $P Q R S$ is uniquely determined by the length of the diagonal $f:=\\overline{P R}$. Moreover, as $f$ increases, the angles $\\angle R P Q$ and $\\angle R P S$ are both strictly decreasing, so $\\angle S P Q$ is decreasing; by the same logic, $\\angle Q R S$ is decreasing.\nWe next recall Bretschneider's formula: for $s=(a+b+c+$ d) $/ 2$,\n$K^{2}=(s-a)(s-b)(s-c)(s-d)-a b c d \\cos ^{2} \\frac{\\angle S P Q+\\angle Q R S}{2}$.\nConsequently, fixing $K$ also fixes $\\cos ^{2} \\frac{\\angle S P Q+\\angle Q R S}{2}$, and thus limits $\\angle S P Q+\\angle Q R S$ to one of two values. By the previous paragraph, this leaves at most two possible congruence classes for the triangle.\n\nReturning to our original sequence, note that any two consecutive quadrilaterals in the sequence have the same area and the same unordered list of side lengths. The latter can occur as an ordered list in at most six different ways (up to cyclic shift); for each of these, we can have only finitely many distinct congruence classes of quadrilaterals in our sequence with that area and ordered list of side lengths. We deduce that our sequence must be finite.\nRemark. Various proofs of the lemma are possible; for example, here is one using Cartesian coordinates. We first specify\n\n$$\nP=(0,0), Q=(a, 0)\n$$\n\nFor two additional points $R=(x, y), S=(z, w)$, the conditions $\\overline{Q R}=b, \\overline{S P}=d$ restrict $R$ and $S$ to the circles\n\n$$\n(x-a)^{2}+y^{2}=b^{2}, \\quad z^{2}+w^{2}=d^{2}\n$$\nrespectively. Since we want a convex quadrilateral, we may assume without loss of generality that $y, w>0$. The area of the quadrilateral is $\\frac{1}{2} a(y+w)$, which we also want to fix; we may thus regard $w$ as a function of $y$ (possibly restricting $y$ to a range for which $w>0$ ). After splitting the semicircles on which $R$ and $S$ lie into two arcs each, we may also regard $x$ and $w$ as functions of $y$. It now suffices to observe that $\\overline{R S}^{2}=(z-x)^{2}+(w-y)^{2}$ is a nonconstant algebraic function of $y$, so it takes any given value only finitely many times.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMC_2001_12",
    "metadata": {
      "source": "International Mathematics Competition for University Students",
      "url": "https://www.imc-math.org.uk/",
      "level": "high_school",
      "difficulty": 6.54,
      "year": 2001,
      "competition": "imc_undergrad"
    },
    "problem": "Problem $6$.\nFor each positive integer $n$, let $f_{n}(\\vartheta)=\\sin \\vartheta \\cdot \\sin (2 \\vartheta) \\cdot \\sin (4 \\vartheta) \\cdots \\sin \\left(2^{n} \\vartheta\\right)$. For all real $\\vartheta$ and all $n$, prove that\n\n$$\n\\left|f_{n}(\\vartheta)\\right| \\leq \\frac{2}{\\sqrt{3}}\\left|f_{n}(\\pi / 3)\\right|\n$$",
    "solutions": [
      {
        "solution": "Solution. We prove that $g(\\vartheta)=|\\sin \\vartheta \\| \\sin (2 \\vartheta)|^{1 / 2}$ attains its maximum value $(\\sqrt{3} / 2)^{3 / 2}$ at points $2^{k} \\pi / 3$ (where $k$ is a positive integer). This can be seen by using derivatives or a classical bound like\n\n$$\n\\begin{gathered}\n|g(\\vartheta)|=|\\sin \\vartheta||\\sin (2 \\vartheta)|^{1 / 2}=\\frac{\\sqrt{2}}{\\sqrt[4]{3}}(\\sqrt[4]{|\\sin \\vartheta| \\cdot|\\sin \\vartheta| \\cdot|\\sin \\vartheta| \\cdot|\\sqrt{3} \\cos \\vartheta|})^{2} \\\\\n\\leq \\frac{\\sqrt{2}}{\\sqrt[4]{3}} \\cdot \\frac{3 \\sin ^{2} \\vartheta+3 \\cos ^{2} \\vartheta}{4}=\\left(\\frac{\\sqrt{3}}{2}\\right)^{3 / 2}\n\\end{gathered}\n$$\n\nHence\n\n$$\n\\begin{gathered}\n\\left|\\frac{f_{n}(\\vartheta)}{f_{n}(\\pi / 3)}\\right|=\\left|\\frac{g(\\vartheta) \\cdot g(2 \\vartheta)^{1 / 2} \\cdot g(4 \\vartheta)^{3 / 4} \\cdots g\\left(2^{n-1} \\vartheta\\right)^{E}}{g(\\pi / 3) \\cdot g(2 \\pi / 3)^{1 / 2} \\cdot g(4 \\pi / 3)^{3 / 4} \\cdots g\\left(2^{n-1} \\pi / 3\\right)^{E}}\\right| \\cdot\\left|\\frac{\\sin \\left(2^{n} \\vartheta\\right)}{\\sin \\left(2^{n} \\pi / 3\\right)}\\right|^{1-E / 2} \\\\\n\\leq\\left|\\frac{\\sin \\left(2^{n} \\vartheta\\right)}{\\sin \\left(2^{n} \\pi / 3\\right)}\\right|^{1-E / 2} \\leq\\left(\\frac{1}{\\sqrt{3} / 2}\\right)^{1-E / 2} \\leq \\frac{2}{\\sqrt{3}}\n\\end{gathered}\n$$\n\nwhere $E=\\frac{2}{3}\\left(1-(-1 / 2)^{n}\\right)$. This is exactly the bound we had to prove.",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMC_2005_1",
    "metadata": {
      "source": "International Mathematics Competition for University Students",
      "url": "https://www.imc-math.org.uk/",
      "level": "high_school",
      "difficulty": 6.7,
      "year": 2005,
      "competition": "imc_undergrad"
    },
    "problem": "Problem 1. Let $A$ be the $n \\times n$ matrix, whose $(i, j)^{\\text {th }}$ entry is $i+j$ for all $i, j=1,2, \\ldots, n$. What is the rank of $A$ ?",
    "solutions": [
      {
        "solution": "Solution 1. For $n=1$ the rank is $1$. Now assume $n \\geq 2$. Since $A=(i)_{i, j=1}^{n}+(j)_{i, j=1}^{n}$, matrix $A$ is the sum of two matrixes of rank $1$. Therefore, the rank of $A$ is at most $2$. The determinant of the top-left $2 \\times 2$ minor is $-1$, so the rank is exactly $2$.\n\nTherefore, the rank of $A$ is $1$ for $n=1$ and $2$ for $n \\geq 2$.\nSolution 2. Consider the case $n \\geq 2$. For $i=n, n-1, \\ldots, 2$, subtract the $(i-1)^{\\text {th }}$ row from the $n^{\\text {th }}$ row. Then subtract the second row from all lower rows.\n\n$$\n\\operatorname{rank}\\left(\\begin{array}{cccc}\n2 & 3 & \\ldots & n+1 \\\\\n3 & 4 & \\ldots & n+2 \\\\\n\\vdots & & \\ddots & \\vdots \\\\\nn+1 & n+2 & \\ldots & 2 n\n\\end{array}\\right)=\\operatorname{rank}\\left(\\begin{array}{cccc}\n2 & 3 & \\ldots & n+1 \\\\\n1 & 1 & \\ldots & 1 \\\\\n\\vdots & & \\ddots & \\vdots \\\\\n1 & 1 & \\ldots & 1\n\\end{array}\\right)=\\operatorname{rank}\\left(\\begin{array}{cccc}\n1 & 2 & \\ldots & n \\\\\n1 & 1 & \\ldots & 1 \\\\\n0 & 0 & \\ldots & 0 \\\\\n\\vdots & & \\ddots & \\vdots \\\\\n0 & 0 & \\ldots & 0\n\\end{array}\\right)=2 .\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMC_2011_8",
    "metadata": {
      "source": "International Mathematics Competition for University Students",
      "url": "https://www.imc-math.org.uk/",
      "level": "high_school",
      "difficulty": 6.9399999999999995,
      "year": 2011,
      "competition": "imc_undergrad"
    },
    "problem": "Problem 3. Determine the value of\n\n$$\n\\sum_{n=1}^{\\infty} \\ln \\left(1+\\frac{1}{n}\\right) \\cdot \\ln \\left(1+\\frac{1}{2 n}\\right) \\cdot \\ln \\left(1+\\frac{1}{2 n+1}\\right)\n$$",
    "solutions": [
      {
        "solution": "Solution. Define $f(n)=\\ln \\left(\\frac{n+1}{n}\\right)$ for $n \\geq 1$, and observe that $f(2 n)+f(2 n+1)=f(n)$. The well-known inequality $\\ln (1+x) \\leq x$ implies $f(n) \\leq 1 / n$. Furthermore introduce\n\n$$\ng(n)=\\sum_{k=n}^{2 n-1} f^{3}(k)<n f^{3}(n) \\leq 1 / n^{2} .\n$$\n\nThen\n\n$$\n\\begin{aligned}\ng(n)-g(n+1) & =f^{3}(n)-f^{3}(2 n)-f^{3}(2 n+1) \\\\\n& =(f(2 n)+f(2 n+1))^{3}-f^{3}(2 n)-f^{3}(2 n+1) \\\\\n& =3(f(2 n)+f(2 n+1)) f(2 n) f(2 n+1) \\\\\n& =3 f(n) f(2 n) f(2 n+1),\n\\end{aligned}\n$$\n\ntherefore\n\n$$\n\\sum_{n=1}^{N} f(n) f(2 n) f(2 n+1)=\\frac{1}{3} \\sum_{n=1}^{N} g(n)-g(n+1)=\\frac{1}{3}(g(1)-g(N+1))\n$$\n\nSince $g(N+1) \\rightarrow 0$ as $N \\rightarrow \\infty$, the value of the considered sum hence is\n\n$$\n\\sum_{n=1}^{\\infty} f(n) f(2 n) f(2 n+1)=\\frac{1}{3} g(1)=\\frac{1}{3} \\ln ^{3}(2)\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMC_2016_7",
    "metadata": {
      "source": "International Mathematics Competition for University Students",
      "url": "https://www.imc-math.org.uk/",
      "level": "high_school",
      "difficulty": 7.14,
      "year": 2016,
      "competition": "imc_undergrad"
    },
    "problem": "Problem 2. Today, Ivan the Confessor prefers continuous functions $f:[0,1] \\rightarrow \\mathbb{R}$ satisfying $f(x)+f(y) \\geq|x-y|$ for all pairs $x, y \\in[0,1]$. Find the minimum of $\\int_{0}^{1} f$ over all preferred functions.\n(Proposed by Fedor Petrov, St. Petersburg State University)",
    "solutions": [
      {
        "solution": "Solution. The minimum of $\\int_{0}^{1} f$ is $\\frac{1}{4}$.\nApplying the condition with $0 \\leq x \\leq \\frac{1}{2}, y=x+\\frac{1}{2}$ we get\n\n$$\nf(x)+f\\left(x+\\frac{1}{2}\\right) \\geq \\frac{1}{2} .\n$$\n\nBy integrating,\n\n$$\n\\int_{0}^{1} f(x) \\mathrm{d} x=\\int_{0}^{1 / 2}\\left(f(x)+f\\left(x+\\frac{1}{2}\\right)\\right) \\mathrm{d} x \\geq \\int_{0}^{1 / 2} \\frac{1}{2} \\mathrm{~d} x=\\frac{1}{4}\n$$\n\nOn the other hand, the function $f(x)=\\left|x-\\frac{1}{2}\\right|$ satisfies the conditions because\n\n$$\n|x-y|=\\left|\\left(x-\\frac{1}{2}\\right)+\\left(\\frac{1}{2}-y\\right)\\right| \\leq\\left|x-\\frac{1}{2}\\right|+\\left|\\frac{1}{2}-y\\right|=f(x)+f(y),\n$$\nand establishes\n$$\n\\int_{0}^{1} f(x) \\mathrm{d} x=\\int_{0}^{1 / 2}\\left(\\frac{1}{2}-x\\right) \\mathrm{d} x+\\int_{1 / 2}^{1}\\left(x-\\frac{1}{2}\\right) \\mathrm{d} x=\\frac{1}{8}+\\frac{1}{8}=\\frac{1}{4}\n$$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "IMC_2020_8",
    "metadata": {
      "source": "International Mathematics Competition for University Students",
      "url": "https://www.imc-math.org.uk/",
      "level": "high_school",
      "difficulty": 7.3,
      "year": 2020,
      "competition": "imc_undergrad"
    },
    "problem": "Problem 8. Compute\n\n$$\n\\lim _{n \\rightarrow \\infty} \\frac{1}{\\log \\log n} \\sum_{k=1}^{n}(-1)^{k}\\binom{n}{k} \\log k\n$$\n(Here log denotes the natural logarithm.)\nFedor Petrov, St. Petersburg State University",
    "solutions": [
      {
        "solution": "## Solution 1. Answer: $1$.\n\nThe idea is that if $f(k)=\\int g^{k}$, then\n\n$$\n\\sum(-1)^{k}\\binom{n}{k} f(k)=\\int(1-g)^{n}\n$$\n\nTo relate this to logarithm, we may use the Frullani integrals\n\n$$\n\\begin{gathered}\n\\int_{0}^{\\infty} \\frac{e^{-x}-e^{-k x}}{x} d x=\\lim _{c \\rightarrow+0} \\int_{c}^{\\infty} \\frac{e^{-x}}{x} d x-\\int_{c}^{\\infty} \\frac{e^{-k x}}{x} d x=\\lim _{c \\rightarrow+0} \\int_{c}^{\\infty} \\frac{e^{-x}}{x} d x-\\int_{k c}^{\\infty} \\frac{e^{-x}}{x} d x= \\\\\n\\lim _{c \\rightarrow+0} \\int_{c}^{k c} \\frac{e^{-x}}{x} d x=\\log k+\\lim _{c \\rightarrow+0} \\int_{c}^{k c} \\frac{e^{-x}-1}{x} d x=\\log k\n\\end{gathered}\n$$\n\nThis gives the integral representation of our sum:\n\n$$\nA:=\\sum_{k=1}^{n}(-1)^{k}\\binom{n}{k} \\log k=\\int_{0}^{\\infty} \\frac{-e^{-x}+1-\\left(1-e^{-x}\\right)^{n}}{x} d x\n$$\n\nNow the problem is reduced to a rather standard integral asymptotics.\nWe have $\\left(1-e^{-x}\\right)^{n} \\geqslant 1-n e^{-x}$ by Bernoulli inequality, thus $0 \\leqslant-e^{-x}+1-\\left(1-e^{-x}\\right)^{n} \\leqslant n e^{-x}$, and we get\n\n$$\n0 \\leqslant \\int_{M}^{\\infty} \\frac{-e^{-x}+1-\\left(1-e^{-x}\\right)^{n}}{x} d x \\leqslant n \\int_{M}^{\\infty} \\frac{e^{-x}}{x} d x \\leqslant n M^{-1} \\int_{M}^{\\infty} e^{-x} d x=n M^{-1} e^{-M}\n$$\n\nSo choosing $M$ such that $M e^{M}=n$ (such $M$ exists and goes to $\\infty$ with $n$ ) we get\n\n$$\nA=O(1)+\\int_{0}^{M} \\frac{-e^{-x}+1-\\left(1-e^{-x}\\right)^{n}}{x} d x\n$$\n\nNote that for $0 \\leqslant x \\leqslant M$ we have $e^{-x} \\geqslant e^{-M}=M / n$, and $\\left(1-e^{-x}\\right)^{n-1} \\leqslant e^{-e^{-x}(n-1)} \\leqslant$ $e^{-M(n-1) / n}$ tends to $0$ uniformly in $x$. Therefore\n\n$$\n\\int_{0}^{M} \\frac{\\left(1-e^{-x}\\right)\\left(1-\\left(1-e^{-x}\\right)^{n-1}\\right)}{x} d x=(1+o(1)) \\int_{0}^{M} \\frac{1-e^{-x}}{x} d x\n$$\n\nFinally\n\n$$\n\\begin{aligned}\n& \\int_{0}^{M} \\frac{1-e^{-x}}{x} d x=\\int_{0}^{1} \\frac{1-e^{-x}}{x} d x+\\int_{1}^{M} \\frac{-e^{-x}}{x} d x+\\int_{1}^{M} \\frac{d x}{x}= \\\\\n& \\log M+O(1)=\\log (M+\\log M)+O(1)=\\log \\log n+O(1)\n\\end{aligned}\n$$\n\nand we get $A=(1+o(1)) \\log \\log n$.\n\nSolution 2. We start with a known identity (a finite difference of $1 / x$ ).\n\nExpand the rational function\n\n$$\nf(x)=\\frac{m!}{x(x+1) \\ldots(x+m)}\n$$\nas the linear combination of simple fractions $f(x)=\\sum_{j=0}^{m} c_{j} /(x+j)$. To find $c_{j}$ we use\n$$\nc_{j}=\\left.((x+j) f(x))\\right|_{x=-j}=(-1)^{j}\\binom{m}{j}\n$$\n\nSo we get\n\n$$\n\\sum_{k=0}^{m}(-1)^{k}\\binom{m}{k} \\frac{1}{x+k}=\\frac{m!}{x(x+1) \\ldots(x+m)}\n$$\n\nAnother known identity we use is\n\n$$\n\\sum_{k=j+1}^{n}(-1)^{k}\\binom{n}{j}=\\sum_{k=j+1}^{n}(-1)^{k}\\left(\\binom{n-1}{k}+\\binom{n-1}{k-1}\\right)=(-1)^{j+1}\\binom{n-1}{j}\n$$\n\nFinally we write $\\log k=\\int_{1}^{k} \\frac{d x}{x}=\\sum_{j=1}^{k-1} I_{j}$, where $I_{j}=\\int_{0}^{1} \\frac{d x}{x+j}$.\nNow we have\n\n$$\n\\begin{gathered}\nS:=\\sum_{k=1}^{n}(-1)^{k}\\binom{n}{k} \\log k=\\sum_{k=1}^{n}(-1)^{k}\\binom{n}{k} \\sum_{j=1}^{k-1} I_{j}=\\sum_{j=1}^{n-1} I_{j} \\sum_{k=j+1}^{n}(-1)^{k}\\binom{n}{k}=\\sum_{(2)}^{n-1} I_{j}(-1)^{j+1}\\binom{n-1}{j}= \\\\\n\\int_{0}^{1} \\sum_{j=1}^{n-1}(-1)^{j+1}\\binom{n-1}{j} \\frac{d x}{x+j}=\\int_{0}^{1}\\left(\\frac{1}{x}-\\sum_{j=0}^{n-1}(-1)^{j}\\binom{n-1}{j} \\frac{d x}{x+j}\\right) d x \\underset{(1)}{=} \\\\\n\\int_{0}^{1}\\left(\\frac{1}{x}-\\frac{(n-1)!}{x(x+1) \\ldots(x+(n-1))}\\right) d x=\\int_{0}^{1} \\frac{d x}{x}\\left(1-\\frac{1}{(1+x)(1+x / 2) \\ldots(1+x /(n-1))}\\right) .\n\\end{gathered}\n$$\n\nSo $S$ is again expressed as an integral, for which it is not hard to get an asymptotics.\nSince $e^{t} \\geqslant 1+t$ for all real $t$ (by convexity or any other reason), we have $e^{y^{2}-y} \\geqslant 1+y^{2}-y=$ $\\frac{1+y^{3}}{1+y} \\geqslant \\frac{1}{1+y}$ and $\\frac{1}{1+y} \\geqslant \\frac{1}{e^{y}}=e^{-y}$ for $y>0$. Therefore\n\n$$\ne^{y^{2}-y} \\geqslant \\frac{1}{1+y} \\geqslant e^{-y}, y>0\n$$\n\nUsing this double inequality we get\n\n$$\ne^{x^{2}\\left(1+\\frac{1}{2^{2}}+\\ldots+\\frac{1}{(n-1)^{2}}\\right)-x\\left(1+\\frac{1}{2}+\\ldots+\\frac{1}{n-1}\\right)} \\geqslant \\frac{1}{(1+x)(1+x / 2) \\ldots(1+x /(n-1))} \\geqslant e^{-x\\left(1+\\frac{1}{2}+\\ldots+\\frac{1}{n-1}\\right)}\n$$\n\nSince $x^{2}\\left(1+1 / 2^{2}+\\ldots\\right) \\leqslant 2 x^{2} \\leqslant 2 x$, we conclude that\n\n$$\n\\frac{1}{(1+x)(1+x / 2) \\ldots(1+x /(n-1))}=e^{-C_{n} x}, \\text { where }-2+\\sum_{j=1}^{n-1} \\frac{1}{j} \\leqslant C_{n} \\leqslant \\sum_{j=1}^{n-1} \\frac{1}{j}\n$$\ni.e., $C_{n}=\\log n+O(1)$. Thus\n\\$\\$\\begin{aligned}\n\nS=\\int_{0}^{1} \\frac{d x}{x}\\left(1-e^{-C_{n} x}\\right) \\& =\\int_{0}^{C_{n}} \\frac{d t}{t}\\left(1-e^{-t}\\right)=\\int_{1}^{C_{n}} \\frac{d t}{t}+\\int_{0}^{1}\\left(1-e^{-t}\\right) \\frac{d t}{t}+\\int_{1}^{C_{n}} e^{-t} \\frac{d t}{t} <br>\n\\& =\\log C_{n}+O(1)=\\log \\log n+O(1)\n\n\\end{aligned}\\$\\$",
        "author": "Human"
      }
    ]
  },
  {
    "problem_id": "putnam_1988_a6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "linear_algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "If a linear transformation $A$ on an $n$-dimensional vector space has $n+1$ eigenvectors such that any $n$ of them are linearly independent, does it follow that $A$ is a scalar multiple of the identity? Prove your answer. Show that the answer is yes, $A$ must be a scalar multiple of the identity.",
    "solutions": [
      {
        "solution": "Solution 1. Let $x_{1}, x_{2}, \\ldots, x_{n+1}$ be the given eigenvectors, and let $\\lambda_{1}$, $\\lambda_{2}, \\ldots, \\lambda_{n+1}$ be their eigenvalues. The set $B_{i}=\\left\\{x_{1}, \\ldots, x_{i-1}, x_{i+1}, \\ldots, x_{n+1}\\right\\}$ is a linearly independent set of $n$ vectors in an $n$-dimensional vector space, so $B_{i}$ is a basis, with respect to which $A$ is represented by the diagonal matrix $\\operatorname{diag}\\left(\\lambda_{1}, \\ldots, \\lambda_{i-1}, \\lambda_{i+1}, \\ldots, \\lambda_{n+1}\\right)$. Thus the trace of $A$ equals $S-\\lambda_{i}$ where $S=$ $\\sum_{i=1}^{n+1} \\lambda_{i}$. But the trace is independent of the basis chosen, so $S-\\lambda_{i}=S-\\lambda_{j}$ for all $i, j$. Hence all the $\\lambda_{i}$ are equal. With respect to the basis $B_{1}, A$ is represented by\na diagonal matrix with equal entries on the diagonal, so $A$ is a scalar multiple of the identity.\n\nRemark. One could have worked with the multiset of roots of the characteristic polynomial, instead of their sum (the trace).\n\nSolution $2$ (Lenny Ng). Let $x_{1}, \\ldots, x_{n+1}$ be the eigenvectors of $A$, with eigenvalues $\\lambda_{1}, \\ldots, \\lambda_{n+1}$. Since $x_{1}, \\ldots, x_{n}$ are linearly independent, they span the vector space; hence\n\n$$\nx_{n+1}=\\sum_{i=1}^{n} \\alpha_{i} x_{i}\n$$\nfor some $\\alpha_{1}, \\ldots, \\alpha_{n}$. Multiply by $\\lambda_{n+1}$, or apply $A$ to both sides, and compare:\n$$\n\\sum_{i=1}^{n} \\alpha_{i} \\lambda_{n+1} x_{i}=\\lambda_{n+1} x_{n+1}=\\sum_{i=1}^{n} \\alpha_{i} \\lambda_{i} x_{i}\n$$\n\nThus $\\alpha_{i} \\lambda_{n+1}=\\alpha_{i} \\lambda_{i}$ for all $i$ between $1$ and $n$. If $\\alpha_{i}=0$ for some $i$, then $x_{n+1}$ can be expressed as a linear combination of $x_{1}, \\ldots, x_{i-1}, x_{i+1}, \\ldots, x_{n}$, contradicting the linear independence hypothesis. Hence $\\alpha_{i} \\neq 0$ for all $i$, so $\\lambda_{n+1}=\\lambda_{i}$ for all $i$. This implies $A=\\lambda_{n+1} I$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1968_a6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "Find all polynomials of the form $\\sum_{0}^{n} a_{i} x^{n-i}$ with $n \\ge 1$ and $a_i = \\pm 1$ for all $0 \\le i \\le n$ whose roots are all real. Show that the set of such polynomials is $$\\{\\pm (x - 1), \\pm (x + 1), \\pm (x^2 + x - 1), \\pm (x^2 - x - 1), \\pm (x^3 + x^2 - x - 1), \\pm (x^3 - x^2 - x + 1)\\}.$$",
    "solutions": [
      {
        "solution": "A-6 (0) The desired polynomials with $a_{0}=-1$ are the negative of those with $a_{0}=1$, so consider $a_{0}=1$. The sum of the squares of the zeros of $x^{n}+a_{1} x^{n-1}+\\cdots$ $+a_{n}$ is $a_{1}^{2}-2 a_{2}$. The product of the squares of these zeros is $a_{n}^{2}$. If all the zeros are real, we can apply the arithmetic-geometric mean inequality to obtain\n\n$$\n\\frac{a_{1}^{2}-2 a_{2}}{n} \\geqq\\left(a_{n}^{2}\\right)^{1 / n},\n$$\nwith equality only if the zeros are numerically equal. In our case this inequality becomes $(1 \\pm 2) / n \\geqq 1$ or $n \\leqq 3$. Note that $n>1$ implies $a_{2}=-1$ and $n=3$ implies all zeros are $\\pm 1$. Thus the list of polynomials is:\n\\$\\$\\begin{gathered}\n\n\\pm(x-1), \\quad \\pm(x+1), \\quad \\pm\\left(x^{2}+x-1\\right), \\quad \\pm\\left(x^{2}-x-1\\right) <br>\n\\pm\\left(x^{3}+x^{2}-x-1\\right), \\quad \\pm\\left(x^{3}-x^{2}-x+1\\right)\n\n\\end{gathered}\\$\\$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2021_b3",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $h(x,y)$ be a real-valued function that is twice continuously differentiable throughout $\\mathbb{R}^2$, and define $\\rho(x,y)=yh_x-xh_y$. Prove or disprove: For any positive constants $d$ and $r$ with $d>r$, there is a circle $\\mathcal{S}$ of radius $r$ whose center is a distance $d$ away from the origin such that the integral of $\\rho$ over the interior of $\\mathcal{S}$ is zero. Show that the given statement is true.",
    "solutions": [
      {
        "solution": "B3 We prove the given statement.\nFor any circle $\\mathscr{S}$ of radius $r$ whose center is at distance $d$ from the origin, express the integral in polar coordinates $s, \\theta$ :\n\n$$\n\\iint_{\\mathscr{S}} \\rho=\\int_{s_{1}}^{s_{2}} \\int_{\\theta_{1}(s)}^{\\theta_{2}(s)}\\left(y h_{x}-x h_{y}\\right)(s \\sin \\theta, s \\cos \\theta) s d \\theta d s\n$$\n\nFor fixed $s$, the integral over $\\theta$ is a line integral of grad $h$, which evaluates to $h\\left(P_{2}\\right)-h\\left(P_{1}\\right)$ where $P_{1}, P_{2}$ are the endpoints of the endpoints of the arc of the circle of radius $s$ centered at the origin lying within $\\mathscr{S}$. If we now fix $r$ and $d$ and integrate $\\iint_{\\mathscr{S}} \\rho$ over all choices of $\\mathscr{S}$ (this amounts to a single integral over an angle in the range $[0,2 \\pi]$ ), we may interchange the order of integration to first integrate over $\\theta$, then over the choice of $\\mathscr{S}$, and at this point we get $0$ for every $s$. We conclude that the integral of $\\iint_{\\mathscr{S}}$ over all choices of $\\mathscr{S}$ vanishes; since the given integral varies continuously in $\\mathscr{S}$, by the intermediate value theorem there must be some $\\mathscr{S}$ where the given integral is $0$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2024_a2",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "For which real polynomials $p$ is there a real polynomial $q$ such that\n$p(p(x)) - x = (p(x) - x)^2q(x)$ for all real $x$? Show that only the polynomials $\\pm x + a$, where $a$ is a real number, are solutions.",
    "solutions": [
      {
        "solution": "A2 The answer is $p(x)= \\pm x+c$ for any $c \\in \\mathbb{R}$. Note that any such polynomial works: if $p(x)=x+c$ then $p(x)-$ $x=c$, while if $p(x)=-x+c$ then $p(p(x))-x=0$. We will show that in fact these are the only polynomials $p(x)$ such that $p(p(x))-x$ is divisible by $r(x)^{2}$, where $r(x)=p(x)-x$.\nFirst solution. Suppose that $p(p(x))-x$ is divisible by $r(x)^{2}$. Then\n\n$$\n\\begin{aligned}\nx & \\equiv p(p(x)) \\\\\n& =p(x+r(x)) \\\\\n& \\equiv p(x)+p^{\\prime}(x) r(x) \\quad\\left(\\bmod r(x)^{2}\\right)\n\\end{aligned}\n$$\n\nIn other words, $r(x)\\left(1+p^{\\prime}(x)\\right)$ is divisible by $r(x)^{2}$. From this, it follows that either $r(x)=0$ or $1+p^{\\prime}(x)$ is divisible by $r(x)$. In the first case, we have $p(x)=x$. In the second case, if $1+p^{\\prime}(x)=0$ then $p(x)=-x+c$ for some constant $c$; otherwise, we have\n\n$$\n\\operatorname{deg}(p)-1=\\operatorname{deg}\\left(1+p^{\\prime}(x)\\right) \\geq \\operatorname{deg}(r)\n$$\nand this is only possible if $p(x)=x+c$ for some constant $c$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1978_a6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "geometry",
        "combinatorics"
      ],
      "level": "undergraduate"
    },
    "problem": "Given $n$ distinct points in the plane, prove that fewer than $2n^{3/2}$ pairs of these points are a distance of $1$ apart.",
    "solutions": [
      {
        "solution": "A-6.\nFor a set $\\left\\{p_{1}, \\ldots, p_{n}\\right\\}$ of points in the plane, let $e_{i}$ be the number of $p_{j}$ one unit from $p_{i}$. Then $E=\\left(e_{1}+\\cdots+e_{n}\\right) / 2$ is the number of pairs with unit distance. Let $C_{i}$ be the circle with center at $p_{i}$ and radius $1$. Each pair of circles has at most $2$ intersections, so the $C_{i}$ intersect in at most $2\\binom{n}{2}=n(n-1)$ points. It suffices to treat the case in which each $e_{i} \\geqslant 1$.\n\nThe point $p_{i}$ occurs $\\binom{e_{i}}{2}$ times as an intersection of $C_{j}$. Hence\n\n$$\nn(n-1) \\geqslant \\sum\\binom{e_{i}}{2}=\\sum e_{i}\\left(e_{i}-1\\right) / 2 \\geqslant(1 / 2) \\sum\\left(e_{i}-1\\right)^{2} .\n$$\n\nIn (A) and what follows, all sums are over $i=1,2, \\ldots, n$. Using the Cauchy-Schwarz Inequality\nand (A) one has\n\n$$\n\\left[\\sum\\left(e_{i}-1\\right)\\right]^{2} \\leqslant\\left[\\sum 1\\right]\\left[\\sum\\left(e_{i}-1\\right)^{2}\\right] \\leqslant n \\cdot 2 n(n-1)<2 n^{3} .\n$$\n\nHence $\\Sigma\\left(e_{i}-1\\right) \\leqslant \\sqrt{2} n^{3 / 2}$ and so\n\n$$\nE=\\left(\\sum e_{i}\\right) / 2<\\left(n+\\sqrt{2} n^{3 / 2}\\right) / 2<2 n^{3 / 2}\n$$\n\n## A-6. Alternate solution\n\nLet $f(n)$ be the maximum number of pairs with unit distance apart from a set of $n$ points in a plane. Then $f(1)=0, f(2)=1, f(3)=3$, and $f(4)=5$.\n\nSuppose we have an array of $n \\geqslant 2$ points which realizes $f(n)$ pairs unit distance apart. Suppose each point has at least $k$ points (in the set) unit distance away and that one of them, namely $x_{0}$. has exactly $k$ points unit distance away. Let these points be $x_{1}, \\ldots, x_{k}$.\n\nFor $i=0,1, \\ldots, k$, let $C_{1}$ be the circle with radius $1$ and center $x_{1}$. For $i>0, C_{i}$ goes through $x_{0}$ and at most two other $x_{j}$. Therefore, there are at least $k-3$ points of the array other than $x_{0}, \\ldots, x_{k}$ on $C_{i}$. Any one of these $k-3$ points can appear on at most one other $C_{j}$ since there are only two unit circles through $x_{0}$ and another point. Hence\n\n$$\nn \\geqslant 1+k+\\frac{k(k-3)}{2}=1+\\frac{k(k-1)}{2}\n$$\n\nThus $k$ is such that the triangular number $k(k-1) / 2$ is less than $n$; we let the largest such integer $k$ be $k_{n}$.\n\nThe array with $x_{0}$ removed has at most $f(n-1)$ pairs unit distance apart; therefore $f(n) \\leqslant$ $f(n-1)+k_{n}$. By repeating this argument we find that $f(n) \\leqslant k_{2}+k_{3}+\\cdots+k_{n}$.\nThe definition of $k_{n}$ implies that $k_{n}=t$ for $\\binom{t}{2}<n \\leqslant\\binom{ t+1}{2}$. From this it follows that $k_{n} \\leqslant 1$ $+\\sqrt{2(n-1)}$. Hence\n\n$$\n\\begin{aligned}\nf(n) & \\leqslant k_{2}+k_{3}+\\cdots+k_{n} \\\\\n& \\leqslant n-1+\\sqrt{2}(\\sqrt{1}+\\sqrt{2}+\\cdots+\\sqrt{n-1}) \\\\\n& \\leqslant n-1+\\sqrt{2} \\int_{1}^{n} \\sqrt{x} d x \\\\\n& =n-1+2 \\sqrt{2}\\left(n^{3 / 2}-1\\right) / 3 \\\\\n& \\leqslant n+.95 n^{3 / 2}<2 n^{3 / 2}\n\\end{aligned}\n$$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2014_a6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "linear_algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "Let \\( n \\) be a positive integer. What is the largest \\( k \\) for which there exist \\( n \\times n \\) matrices \\( M_1, \\ldots, M_k \\) and \\( N_1, \\ldots, N_k \\) with real entries such that for all \\( i \\) and \\( j \\), the matrix product \\( M_i N_j \\) has a zero entry somewhere on its diagonal if and only if \\( i \\neq j \\)? Show that the solution has the form k \\<= n ^ n.",
    "solutions": [
      {
        "solution": "A6 The largest such $k$ is $n^{n}$. We first show that this value can be achieved by an explicit construction. Let $e_{1}, \\ldots, e_{n}$ be the standard basis of $\\mathbb{R}^{n}$. For $i_{1}, \\ldots, i_{n} \\in$ $\\{1, \\ldots, n\\}$, let $M_{i_{1}, \\ldots, i_{n}}$ be the matrix with row vectors $e_{i_{1}}, \\ldots, e_{i_{n}}$, and let $N_{i_{1}, \\ldots, i_{n}}$ be the transpose of $M_{i_{1}, \\ldots, i_{n}}$. Then $M_{i_{1}, \\ldots, i_{n}} N_{j_{1}, \\ldots, j_{n}}$ has $k$-th diagonal entry $e_{i_{k}} \\cdot e_{j_{k}}$, proving the claim.\nWe next show that for any families of matrices $M_{i}, N_{j}$ as described, we must have $k \\leq n^{n}$. Let $V$ be the $n$-fold tensor product of $\\mathbb{R}^{n}$, i.e., the vector space with orthonormal basis $e_{i_{1}} \\otimes \\cdots \\otimes e_{i_{n}}$ for $i_{1}, \\ldots, i_{n} \\in\\{1, \\ldots, n\\}$. Let $m_{i}$ be the tensor product of the rows of $M_{i}$; that is,\n\n$$\nm_{i}=\\sum_{i_{1}, \\ldots, i_{n}=1}^{n}\\left(M_{i}\\right)_{1, i_{1}} \\cdots\\left(M_{i}\\right)_{n, i_{n}} e_{i_{1}} \\otimes \\cdots \\otimes e_{i_{n}}\n$$\n\nSimilarly, let $n_{j}$ be the tensor product of the columns of $N_{j}$. One computes easily that $m_{i} \\cdot n_{j}$ equals the product of the diagonal entries of $M_{i} N_{j}$, and so vanishes if and only if $i \\neq j$. For any $c_{i} \\in \\mathbb{R}$ such that $\\sum_{i} c_{i} m_{i}=0$, for each $j$ we have\n\n$$\n0=\\left(\\sum_{i} c_{i} m_{i}\\right) \\cdot n_{j}=\\sum_{i} c_{i}\\left(m_{i} \\cdot n_{j}\\right)=c_{j}\n$$\n\nTherefore the vectors $m_{1}, \\ldots, m_{k}$ in $V$ are linearly independent, implying $k \\leq n^{n}$ as desired.\nRemark: Noam Elkies points out that similar argument may be made in the case that the $M_{i}$ are $m \\times n$ matrices and the $N_{j}$ are $n \\times m$ matrices.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1986_a6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $a_1, a_2, \\dots, a_n$ be real numbers, and let $b_1, b_2, \\dots, b_n$ be distinct positive integers. Suppose that there is a polynomial $f(x)$ satisfying the identity\n\\[\n(1-x)^n f(x) = 1 + \\sum_{i=1}^n a_i x^{b_i}.\n\\]\nFind a simple expression (not involving any sums) for $f(1)$ in terms of $b_1, b_2, \\dots, b_n$ and $n$ (but independent of $a_1, a_2, \\dots, a_n$). Show that $f(1) = b_1 b_2 \\dots b_n / n!$.",
    "solutions": [
      {
        "solution": "Answer. The number $f(1)$ equals $b_{1} b_{2} \\cdots b_{n} / n!$.\n\nSolution 1. For $j \\geq 1$, let $(b)_{j}$ denote $b(b-1) \\cdots(b-j+1)$. For $0 \\leq j \\leq n$, differentiating the identity $j$ times and putting $x=1$ (or alternatively substituting $x=y+1$ and equating coefficients) yields\n\n$$\n\\begin{aligned}\n0 & =1+\\sum a_{i}, \\\\\n0 & =\\sum a_{i} b_{i}, \\\\\n0 & =\\sum a_{i}\\left(b_{i}\\right)_{2}, \\\\\n& \\vdots \\\\\n0 & =\\sum a_{i}\\left(b_{i}\\right)_{n-1}, \\\\\n(-1)^{n} n!f(1) & =\\sum a_{i}\\left(b_{i}\\right)_{n} .\n\\end{aligned}\n$$\n\nIn other words, $A \\mathbf{v}=0$, where\n\n$$\nA=\\left(\\begin{array}{ccccc}\n-1 & 1 & 1 & \\cdots & 1 \\\\\n0 & b_{1} & b_{2} & \\cdots & b_{n} \\\\\n0 & \\left(b_{1}\\right)_{2} & \\left(b_{2}\\right)_{2} & \\cdots & \\left(b_{n}\\right)_{2} \\\\\n\\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\\n0 & \\left(b_{1}\\right)_{n-1} & \\left(b_{2}\\right)_{n-1} & \\cdots & \\left(b_{n}\\right)_{n-1} \\\\\n(-1)^{n} n!f(1) & \\left(b_{1}\\right)_{n} & \\left(b_{2}\\right)_{n} & \\cdots & \\left(b_{n}\\right)_{n}\n\\end{array}\\right) \\quad \\text { and } \\quad \\mathbf{v}=\\left(\\begin{array}{c}\n-1 \\\\\na_{1} \\\\\na_{2} \\\\\n\\vdots \\\\\na_{n}\n\\end{array}\\right) .\n$$\n\nSince $\\mathbf{v} \\neq 0, \\operatorname{det} A=0$. Since $(b)_{j}$ is a monic polynomial of degree $j$ in $b$ with no constant term, we can add a linear combination of rows $2,3, \\ldots, k$ to row $k+1$, for $2 \\leq k \\leq n$, to obtain\n\n$$\nA^{\\prime}=\\left(\\begin{array}{ccccc}\n-1 & 1 & 1 & \\cdots & 1 \\\\\n0 & b_{1} & b_{2} & \\cdots & b_{n} \\\\\n0 & b_{1}^{2} & b_{2}^{2} & \\cdots & b_{n}^{2} \\\\\n\\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\\n0 & b_{1}^{n-1} & b_{2}^{n-1} & \\cdots & b_{n}^{n-1} \\\\\n(-1)^{n} n!f(1) & b_{1}^{n} & b_{2}^{n} & \\cdots & b_{n}^{n}\n\\end{array}\\right)\n$$\n\nExpanding by minors along the first column yields $0=\\operatorname{det} A^{\\prime}=-\\operatorname{det}\\left(V^{\\prime}\\right)+$ $n!f(1) \\operatorname{det}(V)$ where\n\n$$\nV=\\left(\\begin{array}{cccc}\n1 & 1 & \\cdots & 1 \\\\\nb_{1} & b_{2} & \\cdots & b_{n} \\\\\nb_{1}^{2} & b_{2}^{2} & \\cdots & b_{n}^{2} \\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nb_{1}^{n-1} & b_{2}^{n-1} & \\cdots & b_{n}^{n-1}\n\\end{array}\\right) \\text { and } V^{\\prime}=\\left(\\begin{array}{cccc}\nb_{1} & b_{2} & \\cdots & b_{n} \\\\\nb_{1}^{2} & b_{2}^{2} & \\cdots & b_{n}^{2} \\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nb_{1}^{n-1} & b_{2}^{n-1} & \\cdots & b_{n}^{n-1} \\\\\nb_{1}^{n} & b_{2}^{n} & \\cdots & b_{n}^{n}\n\\end{array}\\right)\n$$\n\nFactoring $b_{i}$ out of the $i$ th column of $V^{\\prime}$ shows that $\\operatorname{det}\\left(V^{\\prime}\\right)=b_{1} b_{2} \\cdots b_{n} \\operatorname{det}(V)$. Hence $-b_{1} b_{2} \\cdots b_{n} \\operatorname{det}(V)+n!f(1) \\operatorname{det}(V)=0$. Since the $b_{i}$ are $\\operatorname{distinct,} \\operatorname{det}(V) \\neq 0$ (see below). Thus $f(1)=b_{1} b_{2} \\cdots b_{n} / n!$.\n\nRemark (The Vandermonde determinant). The matrix $V$ is called the Vandermonde matrix. Its determinant $D$ is a polynomial of total degree $\\binom{n}{2}$ in the $b_{i}$, and $D$ vanishes whenever $b_{i}=b_{j}$ for $i>j$, so $D$ is divisible by $b_{i}-b_{j}$ whenever $i>j$. These $b_{i}-b_{j}$ have no common factor, so $\\prod_{i>j}\\left(b_{i}-b_{j}\\right)$ divides $D$. But this product also has total degree $\\binom{n}{2}$, and the coefficient of $b_{2} b_{3}^{2} \\cdots b_{n}^{n-1}$ in $D$ and in $\\prod_{i>j}\\left(b_{i}-b_{j}\\right)$ both equal $1$, so $D=\\prod_{i>j}\\left(b_{i}-b_{j}\\right)$. In particular, if the $b_{i}$ are distinct numbers, then $D \\neq 0$. See Problem 1941/14(ii) [PutnamI, p. 17] for an extension, and 1999B5 for another application.\n\nSolution 2. Subtract $1$ from both sides, set $x=e^{t}$, and expand the left-hand side in a power series. Since $1-e^{t}=t+$ (higher order terms), we get\n\n$$\n-1+(-1)^{n} f(1) t^{n}+(\\text { higher order terms })=\\sum_{i=1}^{n} a_{i} e^{b_{i} t}\n$$\n\nThe right-hand side $F(t)$ satisfies the linear differential equation\n\n$$\nF^{(n)}(t)-\\left(b_{1}+\\cdots+b_{n}\\right) F^{(n-1)}(t)+\\cdots+(-1)^{n} b_{1} b_{2} \\cdots b_{n} F(t)=0\n$$\nwith characteristic polynomial $p(z)=\\left(z-b_{1}\\right)\\left(z-b_{2}\\right) \\cdots\\left(z-b_{n}\\right)$. On the other hand, from the left-hand side of (1) we see that $F(0)=-1, F^{(i)}=0$ for $i=1, \\ldots, n-1$, and $F^{(n)}(0)=(-1)^{n} f(1) n!$. Hence taking $t=0$ in (2) yields\n$$\n(-1)^{n} f(1) n!-0+0-0+\\cdots+(-1)^{n} b_{1} b_{2} \\cdots b_{n}(-1)=0\n$$\n\nso $f(1)=b_{1} b_{2} \\cdots b_{n} / n!$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1977_b3",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "An ordered triple $(a, b, c)$ of positive irrational numbers with $a + b + c = 1$ is considered $\\textit{balanced}$ if all three elements are less than $\\frac{1}{2}$. If a triple is not balanced, we can perform a ``balancing act'' $B$ defined by $B(a, b, c) = (f(a), f(b), f(c))$, where $f(x) = 2x - 1$ if $x > 1/2$ and $f(x) = 2x$ otherwise. Will finitely many iterations of this balancing act always eventually produce a balanced triple? Not necessarily.",
    "solutions": [
      {
        "solution": "## B-3.\n\nLet $x_{i}=\\sum_{j=1}^{\\infty} a_{i j} 2^{-j}$, with $a_{i j} \\in\\{0,1\\}$, be the binary expansion of $x_{i}$. The triple is balanced if $a_{11}=a_{21}=a_{31}=0$. Otherwise, $a_{i 1}=1$ for exactly one $i$ and the balancing act produces $x_{i}^{\\prime}=$ $\\sum_{j=1}^{\\infty} a_{i, j+1} 2^{-j}$. An unbalanced triple that remains unbalanced after any finite number of balancing acts is constructed by choosing the $a_{i j}$ so that exactly one of $a_{1 j}, a_{2 j}, a_{3 j}$ equals $1$ for each $j$ while taking care that no one of sequences $a_{i 1}, a_{i 2}, \\ldots$ repeats in blocks, i.e., that each $x_{i}$ is irrational. One such solution has\n\n$$\n\\begin{aligned}\n& a_{1 j}=1 \\quad \\text { if and only if } j \\in\\{1,9,25,49, \\ldots\\}, \\\\\n& a_{2 j}=1 \\quad \\text { if and only if } j \\in\\{4,16,36,64, \\ldots\\}, \\\\\n& a_{3 j}=1 \\quad \\text { if and only if } j \\in\\{2,3,5,6, \\ldots\\} .\n\\end{aligned}\n$$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2007_b6",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "combinatorics",
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "For each positive integer $n$, let $f(n)$ be the number of ways to make $n!$ cents using an unordered collection of coins, each worth $k!$ cents for some $k$, $1 \\leq k \\leq n$. Prove that for some constant $C$, independent of $n$,\n\\[\nn^{n^2/2 - Cn} e^{-n^2/4} \\leq f(n) \\leq n^{n^2/2 + Cn}e^{-n^2/4}.\n\\]",
    "solutions": [
      {
        "solution": "B-6 (Suggested by Oleg Golberg) Assume $n \\geq 2$, or else the problem is trivially false. Throughout this proof, any $C_{i}$ will be a positive constant whose exact value is immaterial. As in the proof of Stirling's approximation, we estimate for any fixed $c \\in \\mathbb{R}$,\n\n$$\n\\sum_{i=1}^{n}(i+c) \\log i=\\frac{1}{2} n^{2} \\log n-\\frac{1}{4} n^{2}+O(n \\log n)\n$$\nby comparing the sum to an integral. This gives\n\\$\\$\\begin{aligned}\n\nn^{n^{2} / 2-C_{1} n} e^{-n^{2} / 4} \\& \\leq 1^{1+c} 2^{2+c} \\cdots n^{n+c} <br>\n\\& \\leq n^{n^{2} / 2+C_{2} n} e^{-n^{2} / 4}\n\n\\end{aligned}\\$\\$\n\nWe now interpret $f(n)$ as counting the number of $n$ tuples $\\left(a_{1}, \\ldots, a_{n}\\right)$ of nonnegative integers such that\n\n$$\na_{1} 1!+\\cdots+a_{n} n!=n!.\n$$\n\nFor an upper bound on $f(n)$, we use the inequalities $0 \\leq a_{i} \\leq n!/ i!$ to deduce that there are at most $n!/ i!+$ $1 \\leq 2(n!/ i!)$ choices for $a_{i}$. Hence\n\n$$\n\\begin{aligned}\nf(n) & \\leq 2^{n} \\frac{n!}{1!} \\cdots \\frac{n!}{n!} \\\\\n& =2^{n} 2^{1} 3^{2} \\cdots n^{n-1} \\\\\n& \\leq n^{n^{2} / 2+C_{3} n} e^{-n^{2} / 4} .\n\\end{aligned}\n$$\n\nFor a lower bound on $f(n)$, we note that if $0 \\leq a_{i}<$ $(n-1)!/ i!$ for $i=2, \\ldots, n-1$ and $a_{n}=0$, then $0 \\leq$ $a_{2} 2!+\\cdots+a_{n} n!\\leq n!$, so there is a unique choice of $a_{1}$ to complete this to a solution of $a_{1} 1!+\\cdots+a_{n} n!=n!$. Hence\n\n$$\n\\begin{aligned}\nf(n) & \\geq \\frac{(n-1)!}{2!} \\cdots \\frac{(n-1)!}{(n-1)!} \\\\\n& =3^{1} 4^{2} \\cdots(n-1)^{n-3} \\\\\n& \\geq n^{n^{2} / 2+C_{4} n} e^{-n^{2} / 4}\n\\end{aligned}\n$$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1999_b2",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $P(x)$ be a polynomial of degree $n$ such that $P(x)=Q(x)P''(x)$, where $Q(x)$ is a quadratic polynomial and $P''(x)$ is the second derivative of $P(x)$.  Show that if $P(x)$ has at least two distinct roots then it must have $n$ distinct roots.",
    "solutions": [
      {
        "solution": "B-2 First solution: Suppose that $P$ does not have $n$ distinct roots; then it has a root of multiplicity at least $2$, which we may assume is $x=0$ without loss of generality. Let $x^{k}$ be the greatest power of $x$ dividing $P(x)$, so that $P(x)=x^{k} R(x)$ with $R(0) \\neq 0$; a simple computation yields\n$P^{\\prime \\prime}(x)=\\left(k^{2}-k\\right) x^{k-2} R(x)+2 k x^{k-1} R^{\\prime}(x)+x^{k} R^{\\prime \\prime}(x)$.\nSince $R(0) \\neq 0$ and $k \\geq 2$, we conclude that the greatest power of $x$ dividing $P^{\\prime \\prime}(x)$ is $x^{k-2}$. But $P(x)=$ $Q(x) P^{\\prime \\prime}(x)$, and so $x^{2}$ divides $Q(x)$. We deduce (since $Q$ is quadratic) that $Q(x)$ is a constant $C$ times $x^{2}$; in fact, $C=1 /(n(n-1))$ by inspection of the leading-degree terms of $P(x)$ and $P^{\\prime \\prime}(x)$.\nNow if $P(x)=\\sum_{j=0}^{n} a_{j} x^{j}$, then the relation $P(x)=$ $C x^{2} P^{\\prime \\prime}(x)$ implies that $a_{j}=C j(j-1) a_{j}$ for all $j$; hence $a_{j}=0$ for $j \\leq n-1$, and we conclude that $P(x)=a_{n} x^{n}$, which has all identical roots.\nSecond solution (by Greg Kuperberg): Let $f(x)=$ $P^{\\prime \\prime}(x) / P(x)=1 / Q(x)$. By hypothesis, $f$ has at most two poles (counting multiplicity).\nRecall that for any complex polynomial $P$, the roots of $P^{\\prime}$ lie within the convex hull of $P$. To show this, it suffices to show that if the roots of $P$ lie on one side of a line, say on the positive side of the imaginary axis, then $P^{\\prime}$ has no roots on the other side. That follows because if $r_{1}, \\ldots, r_{n}$ are the roots of $P$,\n\n$$\n\\frac{P^{\\prime}(z)}{P(z)}=\\sum_{i=1}^{n} \\frac{1}{z-r_{i}}\n$$\nand if $z$ has negative real part, so does $1 /\\left(z-r_{i}\\right)$ for $i=1, \\ldots, n$, so the sum is nonzero.\nThe above argument also carries through if $z$ lies on the imaginary axis, provided that $z$ is not equal to a root of\n$P$. Thus we also have that no roots of $P^{\\prime}$ lie on the sides of the convex hull of $P$, unless they are also roots of $P$.\nFrom this we conclude that if $r$ is a root of $P$ which is a vertex of the convex hull of the roots, and which is not also a root of $P^{\\prime}$, then $f$ has a single pole at $r$ (as $r$ cannot be a root of $P^{\\prime \\prime}$ ). On the other hand, if $r$ is a root of $P$ which is also a root of $P^{\\prime}$, it is a multiple root, and then $f$ has a double pole at $r$.\nIf $P$ has roots not all equal, the convex hull of its roots has at least two vertices.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1988_b3",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "For every $n$ in the set $N=\\{1,2,\\dots\\}$ of positive integers, let $r_n$ be the minimum value of $|c-d \\sqrt{3}|$ for all nonnegative integers $c$ and $d$ with $c+d=n$. Find, with proof, the smallest positive real number $g$ with $r_n \\leq g$ for all $n \\in N$. Show that the smallest such $g$ is $(1+\\sqrt{3})/2$.",
    "solutions": [
      {
        "solution": "Solution. Let $g=(1+\\sqrt{3}) / 2$. For each fixed $n$, the sequence $n,(n-1)-\\sqrt{3}$, $(n-2)-2 \\sqrt{3}, \\ldots,-n \\sqrt{3}$ is an arithmetic sequence with common difference $-2 g$ and with terms on both sides of $0$, so there exists a unique term $x_{n}$ in it with $-g \\leq x_{n}<g$. Then $r_{n}=\\left|x_{n}\\right| \\leq g$.\n\nFor $x \\in \\mathbb{R}$, let \" $x$ mod $1$ \" denote $x-\\lfloor x\\rfloor \\in[0,1)$. Since $\\sqrt{3}$ is irrational, $\\left\\{(-d \\sqrt{3}) \\bmod 1: d \\in \\mathbb{Z}^{+}\\right\\}$is dense in $[0,1)$. (See the remark below.) Hence for any $\\epsilon>0$, we can find a positive integer $d$ such that $((-d \\sqrt{3}) \\bmod 1) \\in(g-1-\\epsilon, g-1)$. Then $c-d \\sqrt{3} \\in(g-\\epsilon, g)$ for some integer $c \\geq 0$. Let $n=c+d$. Then $r_{n}=x_{n}=c-d \\sqrt{3}>g-\\epsilon$ by the uniqueness of $x_{n}$ above. Thus $g$ cannot be lowered.\n\nRemark. Let $\\alpha$ be irrational, and for $n \\geq 1$, let $a_{n}=(n \\alpha \\bmod 1) \\in[0,1)$. Let us explain why $\\left\\{a_{n}: n=1,2, \\ldots\\right\\}$ is dense in $[0,1]$ when $\\alpha$ is irrational. Given a large integer $N>0$, the Pigeonhole Principle [Lar1, Ch. 2.6] produces two integers $p, q \\in\\{1,2, \\ldots, N+1\\}$ such that $a_{p}$ and $a_{q}$ fall into the same subinterval $[i / N,(i+1) / N)$ for some $0 \\leq i \\leq N-1$. Assume $q>p$. Then $(q-p) \\alpha$ is congruent modulo $1$ to a real number $r$ with $|r|<1 / N$. Since $\\alpha$ is irrational, $r \\neq 0$. The multiples of $(q-p) \\alpha$, taken modulo $1$, will then pass within $1 / N$ of any number in $[0,1]$. This argument applies for any $N$, so any nonempty open subset of $[0,1]$ will contain some $a_{n}$.\n\nIn fact, one can prove more, namely that the sequence $a_{1}, a_{2}, \\ldots$ is equidistributed in $[0,1]$ : this means that for each subinterval $[a, b] \\subseteq[0,1]$,\n\n$$\n\\lim _{M \\rightarrow \\infty} \\frac{\\#\\left\\{n: 1 \\leq n \\leq M \\text { and } a_{n} \\in[a, b]\\right\\}}{M}=b-a\n$$\n\nOne way to show this is to observe that the range $\\{1, \\ldots, M\\}$ can, up to an error of $o(M)$ terms if $M$ is much larger than $N(q-p)$, be partitioned into $N$-term arithmetic sequences of the shape $c, c+(q-p), \\ldots, c+(N-1)(q-p)$ (notation as in the previous paragraph), and the $a_{n}$ for $n$ in this sequence will be approximately evenly spaced over $[0,1]$ when $N$ is large.\n\nEquidistribution can also be deduced from Weyl's Equidistribution Theorem [Kör, Theorem 3.1'], which states that a sequence $a_{1}, a_{2}, \\ldots$ of real numbers is equidistributed modulo $1$ if and only if\n\n$$\n\\lim _{n \\rightarrow \\infty} \\frac{1}{n} \\sum_{k=1}^{n} \\chi_{m}\\left(a_{k}\\right)=0\n$$\nfor all nonzero integers $m$, where $\\chi_{m}(x)=e^{2 \\pi i m x}$. In our application, if we set $\\omega=e^{2 \\pi i \\sqrt{3}}$, then the limit in (1) is\n$$\n\\lim _{n \\rightarrow \\infty} \\frac{1}{n} \\sum_{k=1}^{n} \\omega^{k m}=\\lim _{n \\rightarrow \\infty} \\frac{1}{n}\\left(\\frac{1-\\omega^{(n+1) m}}{1-\\omega^{m}}\\right)=0\n$$\n\nsince $\\left|1-\\omega^{(n+1) m}\\right| \\leq 2$, while $1-\\omega^{m} \\neq 0$, since $\\sqrt{3}$ is irrational. (See Solution $4$ to 1990A2 for another application of the density result, and see Solution $2$ to 1995B6 for an application of the equidistribution of $(n \\alpha \\bmod 1)$ for irrational $\\alpha$. See 1995B6 also for a multidimensional generalization of the equidistribution result.)",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2024_b1",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "combinatorics"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $n$ and $k$ be positive integers. The square in the $i$th row and\n$j$th column of an $n$-by-$n$ grid contains the number $i + j - k$.\nFor which $n$ and $k$ is it possible to select $n$ squares from the\ngrid, no two in the same row or column, such that the numbers\ncontained in the selected squares are exactly $1, ..., n$? Show that the only such $n$ and $k$ are of the form $n = 2^l + 1, k = l + 1$ for $l \\in \\mathbb{N}$.",
    "solutions": [
      {
        "solution": "B1 This is possible if and only if $n$ is odd and $k=(n+1) / 2$. We first check that these conditions are necessary. If the pairs $\\left(a_{1}, b_{1}\\right), \\ldots,\\left(a_{n}, b_{n}\\right)$ index squares of the grid with no two in the same row or column, then each of the two sequences $a_{1}, \\ldots, a_{n}$ and $b_{1}, \\ldots, b_{n}$ is a permutation of $\\{1, \\ldots, n\\}$, and so in particular has sum $1+\\cdots+n=\\frac{n(n+1)}{2}$. In particular, if the selected numbers are $1,2, \\ldots, n$ in some order, then\n\n$$\n\\begin{aligned}\n\\frac{n(n+1)}{2} & =\\sum_{i=1}^{n}\\left(a_{i}+b_{i}-k\\right) \\\\\n& =\\sum_{i=1}^{n} a_{i}+\\sum_{i=1}^{n} b_{i}-\\sum_{i=1}^{n} k \\\\\n& =\\frac{n(n+1)}{2}+\\frac{n(n+1)}{2}-n k\n\\end{aligned}\n$$\n\nwhich simplifies to $k=(n+1) / 2$.\nWe next check that these conditions are sufficient. For this, it suffices to observe that the sequence\n\n$$\n\\begin{gathered}\n\\left(1, \\frac{n+1}{2}\\right),\\left(2, \\frac{n+3}{2}\\right), \\ldots,\\left(\\frac{n+1}{2}, n\\right), \\\\\n\\left(\\frac{n+3}{2}, 1\\right), \\ldots,\\left(n, \\frac{n-1}{2}\\right)\n\\end{gathered}\n$$\n\nof grid entries equals\n\n$$\n1,3, \\ldots, n, 2, \\ldots, n-1\n$$\n\nWe illustrate this for the case $n=5, k=3$ below; the selected entries are parenthesized.\n\n$$\n\\left(\\begin{array}{ccccc}\n-1 & 0 & (1) & 2 & 3 \\\\\n0 & 1 & 2 & (3) & 4 \\\\\n1 & 2 & 3 & 4 & (5) \\\\\n(2) & 3 & 4 & 5 & 6 \\\\\n3 & (4) & 5 & 6 & 7\n\\end{array}\\right)\n$$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2016_b2",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "Define a positive integer $n$ to be \\emph{squarish} if either $n$ is itself a perfect square or the distance from $n$ to the nearest perfect square is a perfect square. For example, $2016$ is squarish, because the nearest perfect square to $2016$ is $45^2 = 2025$ and $2025 - 2016 = 9$ is a perfect square. (Of the positive integers between $1$ and $10$, only $6$ and $7$ are not squarish.)\n\nFor a positive integer $N$, let $S(N)$ be the number of squarish integers between $1$ and $N$,\ninclusive. Find positive constants $\\alpha$ and $\\beta$ such that\n\\[\n\\lim_{N \\to \\infty} \\frac{S(N)}{N^\\alpha} = \\beta,\n\\]\nor show that no such constants exist. Prove that the limit exists for $\\alpha = \\frac{3}{4}$ and equals $\\beta = \\frac{4}{3}$.",
    "solutions": [
      {
        "solution": "B2 We prove that the limit exists for $\\alpha=\\frac{3}{4}, \\beta=\\frac{4}{3}$.\nFor any given positive integer $n$, the integers which are closer to $n^{2}$ than to any other perfect square are the ones in the interval $\\left[n^{2}-n-1, n^{2}+n\\right]$. The number of squarish numbers in this interval is $1+\\lfloor\\sqrt{n-1}\\rfloor+\\lfloor\\sqrt{n}\\rfloor$. Roughly speaking, this means that\n\n$$\nS(N) \\sim \\int_{0}^{\\sqrt{N}} 2 \\sqrt{x} d x=\\frac{4}{3} N^{3 / 4}\n$$\n\nTo make this precise, we use the bounds $x-1 \\leq\\lfloor x\\rfloor \\leq x$, and the upper and lower Riemann sum estimates for the integral of $\\sqrt{x}$, to derive upper and lower bounds on $S(N)$ :\n\n$$\n\\begin{aligned}\nS(N) & \\geq \\sum_{n=1}^{\\lfloor\\sqrt{N}\\rfloor-1}(2 \\sqrt{n-1}-1) \\\\\n& \\geq \\int_{0}^{\\lfloor\\sqrt{N}\\rfloor-2} 2 \\sqrt{x} d x-\\sqrt{N} \\\\\n& \\geq \\frac{4}{3}(\\sqrt{N}-3)^{3 / 2}-\\sqrt{N} \\\\\nS(N) & \\leq \\sum_{n=1}^{\\lceil\\sqrt{N}\\rceil}(2 \\sqrt{n}+1) \\\\\n& \\leq \\int_{0}^{\\lceil\\sqrt{N}\\rceil+1} 2 \\sqrt{x} d x+\\sqrt{N}+1 \\\\\n& \\leq \\frac{4}{3}(\\sqrt{N}+2)^{3 / 2}+\\sqrt{N}+1\n\\end{aligned}\n$$\n\nRemark: John Rickert points out that when $N=n^{4}$, one can turn the previous estimates into exact calculations to obtain the formula\n\n$$\nS(N)=\\frac{4}{3}\\left(n^{3}+\\frac{n}{2}\\right)=\\frac{4}{3} N^{3 / 4}+\\frac{2}{3} N^{1 / 4} .\n$$\n\nFor general $N$, one can then use the estimates\n\n$$\n\\begin{aligned}\n\\frac{4}{3}(N-1)^{3 / 4}+\\frac{2}{3}(N-1)^{1 / 4} & \\leq S\\left(\\left\\lfloor N^{1 / 4}\\right\\rfloor^{4}\\right) \\\\\n& \\leq S(N) \\\\\n& \\leq S\\left(\\left\\lceil N^{1 / 4}\\right\\rceil^{4}\\right) \\\\\n& \\leq \\frac{4}{3}(N+1)^{3 / 4}+\\frac{2}{3}(N+1)^{1 / 4}\n\\end{aligned}\n$$\n\nto obtain the desired limit.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1983_b4",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $f(n) = n + [\\sqrt n]$, where $[x]$ denotes the greatest integer less than or equal to $x$. Define the sequence $a_i$ by $a_0 = m$, $a_{n+1} = f(a_n)$. Prove that it contains at least one square.",
    "solutions": [
      {
        "solution": "We can let $m=k^{2}+j$, where $k$ and $j$ are integers with $0 \\leqslant j \\leqslant 2 k$, since the next square after $k^{2}$ is $k^{2}+2 k+1$; let this $j$ be the excess for $m$. We note that $[\\sqrt{m}]=k$ and $f(m)=$ $k^{2}+j+k$. If the excess $j$ is $0, m$ is already a square. Let $A$ consist of the $m$ 's with excess $j$ satisfying $0 \\leqslant j \\leqslant k$ and $B$ consist of the $m$ 's with $k<j \\leqslant 2 k$. If $m$ is in $B$,\n\n$$\nf(m)=k^{2}+j+k=(k+1)^{2}+(j-k-1),\n$$\nwith the excess $j-k-1$ for $f(m)$ satisfying $0 \\leqslant j-k-1 \\leqslant k+1$, and hence $f(m)$ is either a square or is in $A$. Thus it suffices to deal with the case in which $m$ is in $A$. Then $[\\sqrt{m+k}]=k$ and\n$$\nf^{2}(m)=f(f(m))=f(m+k)=m+2 k=(k+1)^{2}+(j-1) .\n$$\n\nHence $f^{2}(m)$ is either a square or an integer in $A$ with excess smaller than that of $m$. Continuing, one sees that $f^{r}(m)$ is a square for some $r$ with $0 \\leqslant r \\leqslant 2 j$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1994_a3",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "geometry"
      ],
      "level": "undergraduate"
    },
    "problem": "Show that if the points of an isosceles right triangle of side length $1$ are each colored with one of four colors, then there must be two points of the same color which are at least a distance $2-\\sqrt{2}$ apart.",
    "solutions": [
      {
        "solution": "Solution. Suppose that it is possible to color the points of the triangle with four colors so that any two points at least $2-\\sqrt{2}$ apart receive different colors. Suppose the vertices of the triangle are $A=(0,0), B=(1,0), C=(0,1)$. Define also the points $D=(\\sqrt{2}-1,0)$ and $E=(0, \\sqrt{2}-1)$ on the two sides, and $F=(2-\\sqrt{2}, \\sqrt{2}-1)$ and $G=(\\sqrt{2}-1,2-\\sqrt{2})$ on the diagonal; see Figure 27. Note that\n\n$$\nB D=B F=C E=C G=D E=D G=E F=2-\\sqrt{2}\n$$\n\nThe color of $B$ must be different from the colors of the other named points. The same holds for $C$. Thus the vertices of the pentagram $A G D E F$ must each be painted one of the two remaining colors. Then two adjacent vertices of the pentagram must have the same color. But they are separated by at least $2-\\sqrt{2}$, so this is a contradiction.\n![](https://cdn.mathpix.com/cropped/2025_05_20_9d9ce23c01775d12d108g-207.jpg?height=537&width=535&top_left_y=477&top_left_x=790)\n\nFIGURE $27$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1967_a2",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "linear_algebra",
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "Define $S_0$ to be $1$. For $n \\geq 1$, let $S_n$ be the number of $n \\times n$ matrices whose elements are nonnegative integers with the property that $a_{ij}=a_{ji}$, ($i,j=1,2,\\dots,n$) and where $\\sum_{i=1}^n a_{ij}=1$, ($j=1,2,\\dots,n$). Prove\n\\begin{enumerate}\n\\item[(a)] $S_{n+1}=S_n+nS_{n-1}$\n\\item[(b)] $\\sum_{n=0}^\\infty S_n\\frac{x^n}{n!} = \\exp(x+x^2/2)$, where $\\exp(x)=e^x$.\n\\end{enumerate}",
    "solutions": [
      {
        "solution": "A-2 $\\quad S_{n}$ is the number of symmetric $n \\times n$ permutation matrices (a permutation matrix has exactly one $1$ in each row and column with 0's elsewhere). Let the $1$ in the first row be in the $k$ th column. If $k=1$, then there are $S_{n-1}$ ways to complete the matrix. If $k \\neq 1$ then $a_{1 k}=a_{k 1}=1$ and the deletion of the 1st and $k$ th rows and columns leaves a symmetric $(n-2) \\times(n-2)$ permutation matrix. Consequently $S_{n}=S_{n-1}+(n-1) S_{n-2}$.\n\nFor part (b), let\n\n$$\n\\begin{aligned}\nF(x) & =\\sum_{n=0}^{\\infty}\\left\\{S_{n} \\frac{x^{n}}{n!}\\right\\} \\cdot F^{\\prime}(x)=\\sum_{n=1}^{\\infty}\\left\\{S_{n} \\frac{x^{n-1}}{(n-1)!}\\right\\} \\\\\n& =\\sum_{n=1}^{\\infty}\\left\\{S_{n-1} \\frac{x^{n-1}}{(n-1)!}+(n-1) S_{n-2} \\frac{x^{n-1}}{(n-1)!}\\right\\} \\\\\n& =\\sum_{n=0}^{\\infty}\\left\\{S_{n} \\frac{x^{n}}{n!}\\right\\}+\\sum_{n=2}^{\\infty}\\left\\{S_{n-2} \\frac{x^{n-1}}{(n-2)!}\\right\\}=F(x)+x F(x)\n\\end{aligned}\n$$\n\nHence $F^{\\prime}(x) / F(x)=1+x$. Integration and use of $F(0)=S_{0}=1$ yields $F(x)$ $=\\exp \\left(x+x^{2} / 2\\right)$. Now the series for $F(x)$ is uniformly convergent for all $x$, so all the operations are legal.\n\nComment: $S_{n}$ is the number of permutations $\\pi$, with $\\pi^{2}=1$, in the symmetric group on $n$ symbols. Some contestants used this observation together with known formulas for the number of permutations with a given cycle structure to check part (b) by multiplying the series for $\\exp (x)$ and $\\exp \\left(x^{2} / 2\\right)$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1984_b5",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra",
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "For each nonnegative integer $k$, let $d(k)$ denote the number of $1$'s in the binary expansion of $k$ (for example, $d(0)=0$ and $d(5)=2$). Let $m$ be a positive integer. Express $\\sum_{k=0}^{2^m-1} (-1)^{d(k)}k^m$ in the form $(-1)^ma^{f(m)}(g(m))!$, where $a$ is an integer and $f$ and $g$ are polynomials. Show that $\\sum_{k=0}^{2^m-1} (-1)^{d(k)}k^m=(-1)^m2^{m(m-1)/2}m!$.",
    "solutions": [
      {
        "solution": "## B-5.\n\nDefine\n\n$$\nD(x)=(1-x)\\left(1-x^{2}\\right)\\left(1-x^{4}\\right) \\cdots\\left(1-x^{2^{n-1}}\\right)\n$$\n\nSince binary expansions are unique, each monomial $x^{k}\\left(0 \\leqslant k \\leqslant 2^{n}-1\\right)$ appears exactly once in the expansion of $D(x)$, with coefficient $(-1)^{d(k)}$. That is,\n\n$$\nD(x)=\\sum_{k=0}^{2^{n}-1}(-1)^{d(k)} x^{k}\n$$\n\nApplying the operator $\\left(x \\frac{d}{d x}\\right)$ to $D(x) m$ times, we obtain\n\n$$\n\\left(x \\frac{d}{d x}\\right)^{m} D(x)=\\sum_{k=0}^{2^{n}-1}(-1)^{d(k)} k^{m} x^{k}\n$$\nso that\n$$\n\\left.\\left(x \\frac{d}{d x}\\right)^{m} D(x)\\right]_{x=1}=\\sum_{k=0}^{2^{n}-1}(-1)^{d(k)} k^{m}\n$$\n\nDefine $F(x)=D(x+1)$, so that\n\n$$\n\\left.\\left.\\left(x \\frac{d}{d x}\\right)^{m} D(x)\\right]_{x=1}=\\left[(x+1) \\frac{d}{d x}\\right]^{m} F(x)\\right]_{x=0} .\n$$\n\nBut\n\n$$\n\\begin{aligned}\nF(x) & =\\prod_{\\alpha=1}^{m}\\left[1-(x+1)^{2^{\\alpha-1}}\\right]=\\prod_{\\alpha=1}^{m}\\left[-2^{\\alpha-1} x+O\\left(x^{2}\\right)\\right], \\quad(x \\rightarrow 0) \\\\\n& =(-1)^{m} 2^{m(m-1) / 2} x^{m}+O\\left(x^{m+1}\\right)\n\\end{aligned}\n$$\n\nand by observing that $[(x+1) d / d x] x^{n}=n x^{n}+n x^{n-1}$, we see that\n\n$$\n\\left[(x+1) \\frac{d}{d x}\\right]^{m}\\left(A x^{m}+O\\left(x^{m+1}\\right)\\right)=m!A+O(x)\n$$\n\nSo\n\n$$\n\\left.\\left.\\left[(x+1) \\frac{d}{d x}\\right]^{m} F(x)\\right]_{x=0}=(-1)^{m} 2^{m(m-1) / 2} m!+O(x)\\right]_{x=0}=(-1)^{m} 2^{m(m-1) / 2} m!\n$$",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1965_a1",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "geometry"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $\\triangle ABC$ satisfy $\\angle CAB < \\angle BCA < \\frac{\\pi}{2} < \\angle ABC$. If the bisector of the external angle at $A$ meets line $BC$ at $P$, the bisector of the external angle at $B$ meets line $CA$ at $Q$, and $AP = BQ = AB$, find $\\angle CAB$. Show that the solution is $\\angle CAB = \\frac{\\pi}{15}$.",
    "solutions": [
      {
        "solution": "A-1. Suppose the bisector of the exterior angle at $A$ intersects line $B C$ at $X$ and the bisector of the exterior angle at $B$ meets the line $A C$ at $Y$. The assumption that $C$ is between $B$ and $X$ contradicts the fact that $\\angle B>\\angle C$ so we may assume that $B$ is between $X$ and $C$. Similarly, we conclude that $C$ is between $A$ and $Y$ because $\\angle A<\\angle C$.\n\nIf $Z$ is a point on line $A B$ with $B$ between $A$ and $Z$, we have from triangle $A B Y$ that $\\angle Z B Y=2 A$. Hence, $\\angle B X A=\\angle A B X=\\angle Z B C=2 \\angle Z B Y=4 A$, and the angle sum of triangle $A B X$ is $90^{\\circ}-\\frac{1}{2} A+8 A$. Thus, $A=12^{\\circ}$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_1993_a4",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "algebra"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $x_1,x_2,\\dots,x_{19}$ be positive integers each of which is less than or equal to $93$. Let $y_1,y_2,\\dots,y_{93}$ be positive integers each of which is less than or equal to $19$. Prove that there exists a (nonempty) sum of some $x_i$'s equal to a sum of some $y_j$'s.",
    "solutions": [
      {
        "solution": "Solution 1. We move a pebble among positions numbered $-18,-17, \\ldots, 0,1$, $2, \\ldots, 93$, until it revisits a location. The pebble starts at position $0$. Thereafter, if the pebble is at position $t$, we move it as follows. If $t \\leq 0$, choose some unused $x_{i}$, move the pebble to $t+x_{i}$, and then discard that $x_{i}$. If $t>0$, choose some unused $y_{j}$, move the pebble to $t-y_{j}$, and then discard that $y_{j}$. Since $x_{i} \\leq 93$ and $y_{j} \\leq 19$, the pebble's position stays between $-18$ and $93$.\n\nIn order to continue this process until a location is revisited, we must show that there is always an unused $x_{i}$ or $y_{j}$ as needed. If $t \\leq 0$ and a revisit has not yet occurred, then one $x_{i}$ has been used after visiting each nonpositive position except the\ncurrent one, so the total number of $x_{i}$ 's used so far is at most $19-1=18$, and at least one $x_{i}$ remains. Similarly, if $t>0$ and a revisit has not yet occurred, then one $y_{j}$ has been used after visiting each positive position except the current one, so the total number of $y_{j}$ 's used so far is at most $93-1=92$, and at least one $y_{j}$ remains.\n\nSince there are only finitely many $x_{i}$ 's and $y_{j}$ 's to be used, the algorithm must eventually terminate with a revisit. The steps between the two visits of the same position constitute a sum of some $x_{i}$ 's equal to a sum of some $y_{j}$ 's.\n\nOur next solution is similar to Solution 1, but we dispense with the algorithmic interpretation.\n\nSolution 2. For the sake of generality, replace $19$ and $93$ in the problem statement by $m$ and $n$ respectively. Define $X_{k}=\\sum_{i=1}^{k} x_{i}$ and $Y_{\\ell}=\\sum_{j=1}^{\\ell} y_{j}$. Without loss of generality, assume $X_{m} \\geq Y_{n}$. For $1 \\leq \\ell \\leq n$, define $f(\\ell)$ by\n\n$$\nX_{f(\\ell)} \\leq Y_{\\ell}<X_{f(\\ell)+1}\n$$\nso $0 \\leq f(\\ell) \\leq m$. Let $g(\\ell)=Y_{\\ell}-X_{f(\\ell)}$. If $g(\\ell)=0$ for some $\\ell$, we are done. Otherwise,\n$$\ng(\\ell)=Y_{\\ell}-X_{f(\\ell)}<x_{f(\\ell)+1} \\leq n\n$$\n\nso $0<g(\\ell) \\leq n-1$ whenever $1 \\leq \\ell \\leq n$. Hence by the Pigeonhole Principle, there exist $\\ell_{0}<\\ell_{1}$ such that $g\\left(\\ell_{0}\\right)=g\\left(\\ell_{1}\\right)$. Then\n\n$$\n\\sum_{i=f\\left(\\ell_{0}\\right)+1}^{f\\left(\\ell_{1}\\right)} x_{i}=X_{f\\left(\\ell_{1}\\right)}-X_{f\\left(\\ell_{0}\\right)}=Y_{\\ell_{1}}-Y_{\\ell_{0}}=\\sum_{j=\\ell_{0}+1}^{\\ell_{1}} y_{j} .\n$$\n\nSolution $3$ (based on an idea of Noam Elkies). With the same notation as in the previous solution, without loss of generality $X_{m} \\geq Y_{n}$. If equality holds, we are done, so assume $X_{m}>Y_{n}$. By the Pigeonhole Principle, two of the $(m+1)(n+1)$ sums $X_{i}+Y_{j}(0 \\leq i \\leq m, 0 \\leq j \\leq n)$ are congruent modulo $X_{m}$, say\n\n$$\nX_{i_{1}}+Y_{j_{1}} \\equiv X_{i_{2}}+Y_{j_{2}} \\quad\\left(\\bmod X_{m}\\right)\n$$\n\nBut the difference\n\n$$\n\\left(X_{i_{1}}-X_{i_{2}}\\right)+\\left(Y_{j_{1}}-Y_{j_{2}}\\right)\n$$\nlies strictly between $-2 X_{m}$ and $+2 X_{m}$, so it equals $0$ or $\\pm X_{m}$. Clearly $i_{1} \\neq i_{2}$; without loss of generality $i_{1}>i_{2}$, so (1) equals $0$ or $X_{m}$. If $j_{1}<j_{2}$, then (1) must be $0$, so $X_{i_{1}}-X_{i_{2}}=Y_{j_{2}}-Y_{j_{1}}$ are two equal subsums. If $j_{1}>j_{2}$, then (1) must be $X_{m}$, and $Y_{j_{1}}-Y_{j_{2}}=X_{m}-\\left(X_{j_{1}}-X_{j_{2}}\\right)$ are two equal subsums.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "putnam_2001_b5",
    "metadata": {
      "source": "Putnam",
      "url": "https://raw.githubusercontent.com/trishullab/PutnamBench/refs/heads/main/informal/putnam.json",
      "category": [
        "analysis"
      ],
      "level": "undergraduate"
    },
    "problem": "Let $a$ and $b$ be real numbers in the interval $(0,1/2)$, and let $g$ be a continuous real-valued function such that $g(g(x))=ag(x)+bx$ for all real $x$. Prove that $g(x)=cx$ for some constant $c$.",
    "solutions": [
      {
        "solution": "B-5 Note that $g(x)=g(y)$ implies that $g(g(x))=g(g(y))$ and hence $x=y$ from the given equation. That is, $g$ is injective. Since $g$ is also continuous, $g$ is either strictly increasing or strictly decreasing. Moreover, $g$ cannot tend to a finite limit $L$ as $x \\rightarrow+\\infty$, or else we'd have $g(g(x))-a g(x)=b x$, with the left side bounded and the right side unbounded. Similarly, $g$ cannot tend to a finite limit as $x \\rightarrow-\\infty$. Together with monotonicity, this yields that $g$ is also surjective.\nPick $x_{0}$ arbitrary, and define $x_{n}$ for all $n \\in \\mathbb{Z}$ recursively by $x_{n+1}=g\\left(x_{n}\\right)$ for $n>0$, and $x_{n-1}=g^{-1}\\left(x_{n}\\right)$ for $n<0$. Let $r_{1}=\\left(a+\\sqrt{a^{2}+4 b}\\right) / 2$ and $r_{2}=\\left(a-\\sqrt{a^{2}+4 b}\\right) / 2$ and $r_{2}$ be the roots of $x^{2}-a x-b=0$, so that $r_{1}>0>r_{2}$ and $1>\\left|r_{1}\\right|>\\left|r_{2}\\right|$. Then there exist $c_{1}, c_{2} \\in \\mathbb{R}$ such that $x_{n}=c_{1} r_{1}^{n}+c_{2} r_{2}^{n}$ for all $n \\in \\mathbb{Z}$.\n\nSuppose $g$ is strictly increasing. If $c_{2} \\neq 0$ for some choice of $x_{0}$, then $x_{n}$ is dominated by $r_{2}^{n}$ for $n$ sufficiently negative. But taking $x_{n}$ and $x_{n+2}$ for $n$ sufficiently negative of the right parity, we get $0<x_{n}<x_{n+2}$ but $g\\left(x_{n}\\right)>g\\left(x_{n+2}\\right)$, contradiction. Thus $c_{2}=0$; since $x_{0}=c_{1}$ and $x_{1}=c_{1} r_{1}$, we have $g(x)=r_{1} x$ for all $x$. Analogously, if $g$ is strictly decreasing, then $c_{2}=0$ or else $x_{n}$ is dominated by $r_{1}^{n}$ for $n$ sufficiently positive. But taking $x_{n}$ and $x_{n+2}$ for $n$ sufficiently positive of the right parity, we get $0<x_{n+2}<x_{n}$ but $g\\left(x_{n+2}\\right)<g\\left(x_{n}\\right)$, contradiction. Thus in that case, $g(x)=r_{2} x$ for all $x$.",
        "author": "Human",
        "note": "Some questions were heavily rephrased in the PutnamBench, and the solution might only be tangentially related to the problem."
      }
    ]
  },
  {
    "problem_id": "matharena_smt/smt_2025_17",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Number Theory"
      ],
      "level": "high_school"
    },
    "problem": "Professor Matrix Tessellation Laplace arranges all of the integers from $1$ to $99999$ (inclusive) in the order that maximizes the gigantic number formed by concatenating them. In his order, the number $2025$ appears as the $i$-th integer from left to right. Find $i$.\n(Formally, he sets the permutation $\\sigma=\\left(\\sigma_{1}, \\ldots, \\sigma_{99999}\\right)$ of $\\{1,2, \\ldots, 99999\\}$ such that the value of the concatenation $\\overline{\\sigma_{1} \\sigma_{2} \\ldots \\sigma_{99999}}$ is maximized. Find the index $i$ such that $\\sigma_{i}=2025$.)\n",
    "solutions": [
      {
        "solution": "Answer: 88607",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "88607"
  },
  {
    "problem_id": "matharena_aime/aime_2025_24",
    "metadata": {
      "source": "aime/aime_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Algebra"
      ],
      "level": "high_school"
    },
    "problem": "There are $n$ values of $x$ in the interval $0 < x < 2\\pi$ where $f(x) = \\sin\\left(7\\pi \\cdot \\sin(5x)\\right) = 0$. For $t$ of these $n$ values of $x$, the graph of $y = f(x)$ is tangent to the $x$-axis. Find $n + t$.",
    "solutions": [
      {
        "solution": "For $f(x)=0$, we must have $7\\pi\\cdot\\sin(5x)=k\\pi$ for some integer $k$. Then $\\sin(5x)=\\frac{k}{7}$ always satisfies the equation. Notice that on each period of $\\sin(5x)$, each $k\\in\\{-6,-5,\\ldots,5,6\\}$ is a $y$-value at two distinct points, and each $k=\\pm7$ is a $y$-value at one point each. Thus each period has $13\\cdot2+2\\cdot1=28$ points satisfying the equation. Since the period is $\\frac{2\\pi}{5}$ and the domain has a length of $2\\pi$, we find that $5$ periods occur in our domain if we include $x=0,2\\pi$. Adding the case where $x=0$, there are a total of $28\\cdot5+1=141$ roots over $x\\in[0,2\\pi]$. Subtracting the cases at $x=0$ and $x=2\\pi$ yields $139$ total roots. This is our $n$.\n\n\nNext, we take the derivative of $f(x)$; using a hideous combination of chain rules we find that\n\n\\[f'(x)=35\\pi\\cos(5x)\\cos(7\\pi\\sin(5x))=0\\]\n\nThus, for a point to be tangent to the $x$-axis, we must have either $\\cos(5x)=0$ or $\\cos(7\\pi\\sin(5x))=0$. In the first case, we know that $\\sin(5x)=\\frac{k}{7}$ from earlier, so $\\cos(5x)=\\sqrt{1-\\left(\\frac{k}{7}\\right)^2}=0$. Then $\\left(\\frac{k}{7}\\right)^2=1$, so $k=\\pm7$. Recall that over each of the five periods, only one point will satisfy $k=7$, and only one point will satisfy $k=-7$. Thus there are $2\\cdot5=10$ points in this case.\n\nIn the second case, we must have $\\cos(7\\pi\\sin(5x))=0$. Substituting $\\sin(5x)=\\frac{k}{7}$ yields $\\cos(k\\pi)=0$. But this is impossible since $\\cos(0)=1$ and $\\cos(\\pi)=-1$, so there are no points in this case.\n\nAs a result, $t=10+0=10$, so $n+t=139+10=\\boxed{149}$.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "149"
  },
  {
    "problem_id": "matharena_hmmt/hmmt_feb_2025_4",
    "metadata": {
      "source": "hmmt/hmmt_feb_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Algebra"
      ],
      "level": "high_school"
    },
    "problem": "Let $\\lfloor z\\rfloor$ denote the greatest integer less than or equal to $z$. Compute\n\n$$\n\\sum_{j=-1000}^{1000}\\left\\lfloor\\frac{2025}{j+0.5}\\right\\rfloor\n$$",
    "solutions": [
      {
        "solution": "Solution: The key idea is to pair up the terms $\\left\\lfloor\\frac{2025}{-x}\\right\\rfloor$ and $\\left\\lfloor\\frac{2025}{x}\\right\\rfloor$. There are $1000$ such pairs and one lone term, $\\left\\lfloor\\frac{2025}{1000.5}\\right\\rfloor=2$. Thus,\n\n$$\n\\sum_{j=-1000}^{1000}\\left\\lfloor\\frac{2025}{j+0.5}\\right\\rfloor=2+\\sum_{x \\in\\{0.5,1.5, \\ldots, 999.5\\}}\\left(\\left\\lfloor\\frac{2025}{x}\\right\\rfloor+\\left\\lfloor\\frac{2025}{-x}\\right\\rfloor\\right) .\n$$\n\nWe note that\n\n$$\n\\lfloor a\\rfloor+\\lfloor-a\\rfloor= \\begin{cases}0 & \\text { if } a \\text { is an integer } \\\\ -1 & \\text { otherwise }\\end{cases}\n$$\n\nTherefore,\n\n$$\n\\left\\lfloor\\frac{2025}{x}\\right\\rfloor+\\left\\lfloor\\frac{2025}{-x}\\right\\rfloor= \\begin{cases}0 & \\text { if } 2 x \\text { divides } 4050 \\\\ -1 & \\text { otherwise }\\end{cases}\n$$\n\nAs $x$ ranges in the set $\\{0.5,1.5,2.5, \\ldots, 999.5\\}, 2 x$ ranges in the set $\\{1,3,5, \\ldots, 1999\\}$. This set includes all $15$ odd divisors of $4050$ except for 2025. Thus, there are $14$ values of $x$ for which $\\left\\lfloor\\frac{2025}{x}\\right\\rfloor+\\left\\lfloor\\frac{2025}{-x}\\right\\rfloor$ evaluates to $0$, and the remaining $1000-14=986$ values of $x$ make it evaluate to $-1$. Therefore,\n\n$$\n\\sum_{j=-1000}^{1000}\\left\\lfloor\\frac{2025}{j+0.5}\\right\\rfloor=2+\\sum_{x \\in\\{0.5,1.5, \\ldots, 999.5\\}}\\left(\\left\\lfloor\\frac{2025}{x}\\right\\rfloor+\\left\\lfloor\\frac{2025}{-x}\\right\\rfloor\\right)=2+986 \\cdot(-1)=\\boxed{-984} .\n$$",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "-984"
  },
  {
    "problem_id": "matharena_smt/smt_2025_29",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Geometry"
      ],
      "level": "high_school"
    },
    "problem": "Let $A B C D$ be a square centered at $E$ with side length $10$. Point $P$ lies on the extension of line $C D$ past point $D$. There exists a point $Q$ on line $A P$ such that lines $E Q, B P$, and $A D$ are concurrent. If $E Q=7 \\sqrt{2}$, compute $|A Q-D Q|$.",
    "solutions": [
      {
        "solution": "Answer: 2",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "2"
  },
  {
    "problem_id": "matharena_brumo/brumo_2025_22",
    "metadata": {
      "source": "brumo/brumo_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "Digits $1$ through $9$ are placed on a $3 x 3$ square such that all rows and columns sum to the same value. Please note that diagonals do not need to sum to the same value. How many ways can this be done?",
    "solutions": [
      {
        "solution": "Solution: There will be a unique solution up to permuting the columns and flipping along the $y$ axis. Since $1+\\cdots+9=45$, it follows that each row and column must sum to $15$. By permuting the rows and columns in a correct configuration, we can assume that $9$ is in the top left. The only two ways to make $15$ as a sum including $9$ are as $9+5+1$ and $9+4+2$. Thus, these must be the content of the row and column containing $9$ in some order. By rotating and permuting rows/columns as necessary, we can assume our solution is in the form:\n\n$$\n\\left[\\begin{array}{lll}\n9 & 4 & 2 \\\\\n5 & ? & ? \\\\\n1 & ? & ?\n\\end{array}\\right]\n$$\n\nThe bottom row must contain $8$ and $6$, as this is the only way to sum with $1$ to fifteen using digits not currently used. They must go in the order $1,8,6$, as the other permutation would require $5$ to appear a second time in the center square. From here, it follows that the only solution will be some variation of:\n\n$$\n\\left[\\begin{array}{lll}\n9 & 4 & 2 \\\\\n5 & 3 & 7 \\\\\n1 & 8 & 6\n\\end{array}\\right]\n$$\n\nThus, the problem reduced to counting the number of symmetries of this square. There will be $3$ ! ways to permute the columns, $3$ ! ways to permute the rows, along with an additional $3!\\cdot 3$ ! solutions formed by switching the axes. There are thus $3!\\cdot 3!\\cdot 2=72$ solutions.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "72"
  },
  {
    "problem_id": "matharena_smt/smt_2025_41",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "There are thirteen lamps arranged in a circle in the complex plane, with lamp $k$ (for $0 \\leq k \\leq 12$ ) located at $z_{k}=e^{2 \\pi i k / 13}$. Lamp $0$ is always on, while lamps $1$ to $12$ are initially turned off. For each $1 \\leq r \\leq 12$, toggling lamp $r$ will flip it from on to off (and vice versa) and will also flip its\nneighbors, excluding lamp $0$ if it is a neighbor. Let $s$ be the sum of the positions $z_{k}$ for lamps which are on. Compute the maximum possible value of $|s|$ over all configurations of switched on lamps reachable by flipping some subset of lamps from the initial state.",
    "solutions": [
      {
        "solution": "Answer: \\frac{\\sin (6 \\pi / 13)}{\\sin (\\pi / 13)}",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{\\sin (6 \\pi / 13)}{\\sin (\\pi / 13)}"
  },
  {
    "problem_id": "matharena_brumo/brumo_2025_13",
    "metadata": {
      "source": "brumo/brumo_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Geometry"
      ],
      "level": "high_school"
    },
    "problem": "Let $\\triangle A B C$ be an equilateral triangle with side length $1$. A real number $d$ is selected uniformly at random from the open interval $(0,0.5)$. Points $E$ and $F$ lie on sides $A C$ and $A B$, respectively, such that $A E=d$ and $A F=1-d$. Let $D$ be the intersection of lines $B E$ and $C F$.\n\nConsider line $\\ell$ passing through both points of intersection of the circumcircles of triangles $\\triangle D E F$ and $\\triangle D B C . O$ is the circumcenter of $\\triangle D E F$. Line $\\ell$ intersects line $\\overleftrightarrow{B C}$ at point $P$, and point $Q$ lies on $A P$ such that $\\angle A Q B=120^{\\circ}$. What is the probability that the line segment $\\overline{Q O}$ has length less than $\\frac{1}{3}$ ?",
    "solutions": [
      {
        "solution": "Solution: The length condition tells us that $B F=A E=d$, so $\\triangle B C F \\cong \\triangle A B E$. This gives us $\\angle B C F=\\angle A B E$, so $\\angle B C F+\\angle D B C=\\angle B C F+\\left(60^{\\circ}-\\angle A B E\\right)=60^{\\circ}$. Then $\\angle B D C=180^{\\circ}-60^{\\circ}=120^{\\circ}$, so $\\angle E D F=120^{\\circ}$.\n\nSince $\\angle E D F+\\angle E A F=180^{\\circ}$, we know that $A E D F$ is cyclic. Let $Q^{\\prime}$ be the intersection of the circumcircle of $\\triangle A B C$ and the circumcircle of $A E D F$ other than $A$. By the radical axis theorem, $\\overline{A Q^{\\prime}}, l$, and $\\overline{B C}$ intersect at $P$. This reveals that $Q^{\\prime}$ lies on $A P$.\n\nSince $Q^{\\prime}$ is on minor arc $A B$ on the circumcircle of $\\triangle A B C$, we know that $\\angle A Q^{\\prime} B=180^{\\circ}-\\angle C=$ $120^{\\circ}$. This proves that $Q^{\\prime}=Q$, so we know that $O Q$ is just the circumradius of $A E D F$. When we let $R$ be the circumradius of $A E D F$, our goal is to find when $R<\\frac{1}{3}$.\n\nNow the problem becomes solvable with trigonometry bash. By the law of cosines, $E F=$ $\\sqrt{d^{2}+(1-d)^{2}-d(1-d)}=\\sqrt{3 d^{2}-3 d+1}$. By the law of sines, $\\frac{E F}{\\sin A}=2 R$, so $R=\\sqrt{\\frac{3 d^{2}-3 d+1}{3}}$. We compute when $R<\\frac{1}{3}$ :\n\n$$\n\\sqrt{\\frac{3 d^{2}-3 d+1}{3}}<\\frac{1}{3}\n$$\n\n$$\n\\begin{array}{r}\n3 d^{2}-3 d+1<\\frac{1}{3} \\\\\n9 d^{2}-9 d+2<0 \\\\\n(3 d-1)(3 d-2)<0\n\\end{array}\n$$\n\nThis means that $R<\\frac{1}{3}$ when $d \\in\\left(\\frac{1}{3}, \\frac{2}{3}\\right)$.\n(Alternatively, a more efficient approach avoids some computation by observing that $R$ is a decreasing function of $d$, and that when $d=\\frac{1}{3}$, we have $R=\\frac{1}{3}$ because $\\triangle A E F$ becomes a $30-60-90$ triangle. This implies that $R<\\frac{1}{3}$ when $d>\\frac{1}{3}$.)\nSince $d$ is chosen from uniformly at random from ( $0,0.5$ ), the probability that $R<\\frac{1}{3}$ is $\\frac{1}{3}$.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{1}{3}"
  },
  {
    "problem_id": "matharena_hmmt/hmmt_feb_2025_15",
    "metadata": {
      "source": "hmmt/hmmt_feb_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "In an $11 \\times 11$ grid of cells, each pair of edge-adjacent cells is connected by a door. Karthik wants to walk a path in this grid. He can start in any cell, but he must end in the same cell he started in, and he cannot go through any door more than once (not even in opposite directions). Compute the maximum number of doors he can go through in such a path.",
    "solutions": [
      {
        "solution": "![](https://cdn.mathpix.com/cropped/2025_05_20_40358a4ff16dbbcab025g-2.jpg?height=548&width=554&top_left_y=1672&top_left_x=829)\n\nThis is simply asking for the longest circuit in the adjacency graph of this grid. Note that this grid has $4 \\cdot 9=36$ cells of odd degree, $9$ along each side. If we color the cells with checkerboard colors so that the corners are black, then $20$ of these $36$ cells are white. An Eulerian circuit uses an even number of doors from each cell, so at least one door from each of these cells goes unused. No door connects two white cells, so at least $20$ doors are unused, leaving at most $2 \\cdot 10 \\cdot 11-20=200$ doors crossed.\n\nTo see this is achievable, we first delete the bottom-right cell and its $2$ doors, as well as the top-left cell and its $2$ doors. This leaves $8$ odd-degree cells along each side of the grid; we can delete $4$ doors along each to cover all remaining odd-degree cells, for $20$ total doors deleted. The resulting graph is connected and has no odd-degree cells, so it must have an Eulerian circuit. This circuit is our desired path.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "200"
  },
  {
    "problem_id": "matharena_smt/smt_2025_16",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Number Theory"
      ],
      "level": "high_school"
    },
    "problem": "Define the function $f(n)$ to be the remainder when $\\binom{n}{20}$ is divided by $23$. Find $f(20)+f(21)+$ $\\cdots+f(2023)$.",
    "solutions": [
      {
        "solution": "Answer: 2024",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "2024"
  },
  {
    "problem_id": "matharena_hmmt/hmmt_feb_2025_14",
    "metadata": {
      "source": "hmmt/hmmt_feb_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "Sophie is at $(0,0)$ on a coordinate grid and would like to get to $(3,3)$. If Sophie is at $(x, y)$, in a single step she can move to one of $(x+1, y),(x, y+1),(x-1, y+1)$, or $(x+1, y-1)$. She cannot revisit any points along her path, and neither her $x$-coordinate nor her $y$-coordinate can ever be less than $0$ or greater than 3. Compute the number of ways for Sophie to reach $(3,3)$.",
    "solutions": [
      {
        "solution": "Solution: Let a lateral move refer to one which is either up or right. Then the lateral moves are the only ones which increase Kelvin's sum of coordinates by 1, while all other moves do not change the sum, so Kelvin must make $6$ of them, one to increase this sum from $i$ to $i+1$ for each $i \\in[0,5]$.\n![](https://cdn.mathpix.com/cropped/2025_05_20_40358a4ff16dbbcab025g-2.jpg?height=373&width=367&top_left_y=540&top_left_x=922)\n\nWe claim there exists a unique path corresponding to each set of $6$ lateral moves chosen in this way. Indeed, the diagonal moves allow Kelvin to get from any point on $x+y=i$ to any second point on $x+y=i$ in exactly one way.\nObserve that when $i \\leq 2$, the number of lateral moves that increase the sum of coordinates from $i$ to $i+1$ is $2 i$, as is the number that increase it from $5-i$ to $6-i$. Thus the answer is $2 \\cdot 4 \\cdot 6 \\cdot 6 \\cdot 4 \\cdot 2=2304$.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "2304"
  },
  {
    "problem_id": "matharena_smt/smt_2025_12",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "Compute the number of five letter words that can be formed from $a, b$, and $c$ such that neither $a b$ nor $a c$ appears in the word. For example, $b c b a a$ would be valid but $a a b c b$ would be invalid.",
    "solutions": [
      {
        "solution": "Answer: 63",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "63"
  },
  {
    "problem_id": "matharena_brumo/brumo_2025_4",
    "metadata": {
      "source": "brumo/brumo_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Algebra"
      ],
      "level": "high_school"
    },
    "problem": "If $5 f(x)-x f\\left(\\frac{1}{x}\\right)=\\frac{1}{17} x^{2}$, determine $f(3)$.",
    "solutions": [
      {
        "solution": "Solution: To determine $f(3)$, we substitute $x=3$ and $x=\\frac{1}{3}$ into the equation and solve using elimination.\n\nSubstitute $x=3$\n\n$$\n5 f(3)-3 f\\left(\\frac{1}{3}\\right)=\\frac{1}{17}\\left(3^{2}\\right)=\\frac{9}{17}\n$$\n\nSubstitute $x=\\frac{1}{3}$\n\n$$\n5 f\\left(\\frac{1}{3}\\right)-\\frac{1}{3} f(3)=\\frac{1}{17}\\left(\\frac{1}{3}\\right)^{2}=\\frac{1}{153}\n$$\n\nEq (1) $\\times 5$ :\n\n$$\n25 f(3)-15 f\\left(\\frac{1}{3}\\right)=\\frac{45}{17}\n$$\n\nEq (2) $\\times 3$ :\n\n$$\n15 f\\left(\\frac{1}{3}\\right)-f(3)=\\frac{3}{153}=\\frac{1}{51} .\n$$\n\nAdd the two equations:\n\n$$\n\\begin{aligned}\n25 f(3)-f(3) & =\\frac{45}{17}+\\frac{1}{51} \\\\\n24 f(3) & =\\frac{8}{3} \\\\\nf(3) & =\\frac{1}{9}\n\\end{aligned}\n$$",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{1}{9}"
  },
  {
    "problem_id": "matharena_smt/smt_2025_50",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Algebra"
      ],
      "level": "high_school"
    },
    "problem": "The Fibonacci numbers are defined by $F_{1}=F_{2}=1$ and $F_{n}=F_{n-1}+F_{n-2}$ for all positive integers $n \\geq 3$. Let $S=\\left\\{2^{F_{2}}, 2^{F_{3}}, \\ldots, 2^{F_{27}}, 2^{F_{28}}\\right\\}=\\left\\{2,4, \\ldots, 2^{196418}, 2^{317811}\\right\\}$ be a set. If\n\n$$\nP=\\prod_{x \\in S} \\prod_{y \\in S} x^{\\log_{3} y}\n$$\nis the product of $x^{\\log_{3} y}$ across all ordered pairs of elements ( $x, y$ ) in $S$, including when $x=y$, compute $\\sqrt{\\log_{2} P}$.",
    "solutions": [
      {
        "solution": "Answer: 832038\\sqrt{\\log_{3} 2}",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "832038\\sqrt{\\log_{3} 2}"
  },
  {
    "problem_id": "matharena_smt/smt_2025_43",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Geometry"
      ],
      "level": "high_school"
    },
    "problem": "Let $\\triangle A B C$ be an acute triangle with circumcircle $\\omega_{1}$, and let $D$ be a point on segment $B C$. Circle $\\omega_{2}$ is tangent to segment $A D$, segment $B D$, and $\\omega_{1}$. Circle $\\omega_{3}$ is tangent to segment $A D$, segment $C D$, and $\\omega_{1}$, and both circles are on the same side of $B C$ as $A$. If circles $\\omega_{2}$ and $\\omega_{3}$ have radii $5$ and $7$, respectively, with centers $13$ units apart, compute the sum of all possible lengths of the inradius of $\\triangle A B C$.",
    "solutions": [
      {
        "solution": "Answer: \\frac{1980}{169}",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{1980}{169}"
  },
  {
    "problem_id": "matharena_smt/smt_2025_32",
    "metadata": {
      "source": "smt/smt_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Number Theory"
      ],
      "level": "high_school"
    },
    "problem": "Compute the unique integer triple $(a, b, c)$ satisfying $0<a<b<c<100$ and $a \\cdot b+c=200$ that minimizes $c-a$.",
    "solutions": [
      {
        "solution": "Answer: 13,14,18",
        "author": "Human (answer only)"
      }
    ],
    "correctness": [],
    "gold_answer": "13,14,18"
  },
  {
    "problem_id": "matharena_hmmt/hmmt_feb_2025_6",
    "metadata": {
      "source": "hmmt/hmmt_feb_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Number Theory"
      ],
      "level": "high_school"
    },
    "problem": "Let $r$ be the remainder when $2017^{2025!}-1$ is divided by 2025!. Compute $\\frac{r}{2025!}$. (Note that $2017$ is prime.)",
    "solutions": [
      {
        "solution": "Solution: Let $N=2017^{2025!}$. Let $p$ be a prime dividing 2025! other than 2017. Let $p^{k}$ be the largest power of $p$ dividing 2025!. Clearly, $\\varphi\\left(p^{k}\\right)=(p-1) p^{k-1}$ divides $2025$ ! and $\\operatorname{gcd}\\left(2017, p^{k}\\right)=1$, so by Euler's Totient Theorem,\n\n$$\nN \\equiv 1 \\quad\\left(\\bmod p^{k}\\right)\n$$\n\nRepeating for all such primes $p$, we obtain\n\n$$\nN \\equiv 1 \\quad(\\bmod 2025!/ 2017)\n$$\n\nTherefore, $\\left.\\frac{2025!}{2017} \\right\\rvert\\, N-1$, so $r=\\frac{2025!}{2017} s$ for some $0 \\leq s<2017$. Also, since $N \\equiv 0(\\bmod 2017)$, we have $r=\\frac{2025!}{2017} s \\equiv-1(\\bmod 2017)$.\nBy Wilson's,\n\n$$\n\\frac{2025!}{2017}=2016!(2018)(2019) \\ldots(2025) \\equiv-8!\\equiv 20 \\quad(\\bmod 2017)\n$$\n\nTherefore, $s$ is negative the inverse of $20(\\bmod 2017)$, which is $1311$. Our answer is\n\n$$\n\\frac{r}{2025!}=\\frac{(2025!/ 2017)(1311)}{2025!}=\\frac{1311}{2017} .\n$$",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{1311}{2017}"
  },
  {
    "problem_id": "matharena_brumo/brumo_2025_25",
    "metadata": {
      "source": "brumo/brumo_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Geometry"
      ],
      "level": "high_school"
    },
    "problem": "Let $A B C D E F$ be a convex cyclic hexagon. Suppose that $A B=D E=\\sqrt{5}, B C=E F=3$, and $C D=F A=\\sqrt{20}$. Compute the circumradius of $A B C D E F$.",
    "solutions": [
      {
        "solution": "Solution: By symmetry, $A D$ is a diameter. Let the circumradius be $R$. Let $A B=a, B C=b$, and $C D=c$. Then $A C^{2}=4 R^{2}-c^{2}$ and $B D^{2}=4 R^{2}-b^{2}$. By Ptolemy's theorem,\n\n$$\n\\left(4 R^{2}-c^{2}\\right)\\left(4 R^{2}-b^{2}\\right)=(2 a R \\cdot R+b \\cdot d)^{2}\n$$\n\nSimplifying this yields\n\n$$\n4 R^{3}-\\left(a^{2}+b^{2}+c^{2}\\right) R^{2}-a b c=0\n$$\n\nWe plug in $a=\\sqrt{5}, b=3$, and $c=\\sqrt{20}$. This yields\n\n$$\n4 R^{3}-34 R-30=0\n$$\n\nWe find that $R=-1$ is a root, so we can factor this as $(R+1)\\left(4 R^{2}-4 R-30\\right)$. The quadratic yields $\\frac{1+\\sqrt{31}}{2}$ as the only positive solution.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "\\frac{1+\\sqrt{31}}{2}"
  },
  {
    "problem_id": "matharena_brumo/brumo_2025_21",
    "metadata": {
      "source": "brumo/brumo_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Combinatorics"
      ],
      "level": "high_school"
    },
    "problem": "$4$ bears - Aruno, Bruno, Cruno and Druno - are each given a card with a positive integer and are told that the sum of their $4$ numbers is $17$. They cannot show each other their cards, but discuss a series of observations in the following order:\n\nAruno: \"I think it is possible that the other three bears all have the same card.\"\nBruno: \"At first, I thought it was possible for the other three bears to have the same card. Now I know it is impossible for them to have the same card.\"\nCruno: \"I think it is still possible that the other three bears have the same card.\"\nDruno: \"I now know what card everyone has.\"\nWhat is the product of their four card values?",
    "solutions": [
      {
        "solution": "Solution: Let Aruno, Bruno, Cruno, and Druno have cards with values $a, b, c$, and $d$, respectively. The first observation tells us that $17-a$ is divisible by $3$, so $a$ can be $2,5,8,11$, or $14$.\nSimilarly, the second observation tells us that $b$ can be $2,5,8,11$, or $14$. However, knowing that $3 a \\in\\{6,15,24,33,42\\}$, Bruno concludes that $a, c$, and $d$ cannot be the same. This means that $b$ cannot be equal to $17-6,17-15,17-24,17-33$, or $17-42$. In particular, $b$ cannot be $2$ or $11$, so we know that $b$ is $5,8$, or $14$.\n\nThe third observation also tells us that $c$ can be $2,5,8,11$, or $14$. Cruno knows that $3 b \\in$ $\\{15,24,42\\}$. Since $24$ and $42$ are too large, Cruno must believe it is possible that $3 b=15$, so we must have $c=2$.\nFinally, Druno can figure out $a$ and $b$. With the constraint that $c=2$, the possible values of $a+b$ are $7,10$, or $13$. The only value of $a+b$ that determines $a$ and $b$ is $7$, which determines that $a=2$ and $b=5$. This gives us $d=8$, so $a b c d=160$.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "160"
  },
  {
    "problem_id": "matharena_aime/aime_2025_30",
    "metadata": {
      "source": "aime/aime_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Algebra"
      ],
      "level": "high_school"
    },
    "problem": "There are exactly three positive real numbers $k$ such that the function\n$$f(x) = \\frac{(x - 18)(x - 72)(x - 98)(x - k)}{x}$$\ndefined over the positive real numbers achieves its minimum value at exactly two positive real numbers $x$. Find the sum of these three values of $k$.",
    "solutions": [
      {
        "solution": "We first do the same thing as Solution 1 did, but in mathematical language.\n\nLemma: for Polynomial $P(x)$, if $P(x_0) = 0$ and $P'(x_0) = 0$ both hold, then $x_0$ is a multiple root of $P(x)$.\n\nThis lemma is obvious since every root of $P(x)$ occurs $\\deg P - 1$ times in the derivative polynomial and any single root of $P(x)$ can't be a root of $P'(x)$.\n\nSimply name m as the minimum value of $f(x)$.\n\nThen $f(x) \\geq m$ and the equal sign holds if and only of $x=x_1$ or $x=x_2$.\n\nDefine $P(x)=(x-18)(x-72)(x-98)(x-k)-mx$. Obviously, $x_1$ and $x_2$ satisfy the two properties in the lemma. So we've got:\\[(x-18)(x-72)(x-98)(x-k)-mx = (x-x_1)^2(x-x_2)^2\\]Take $x=18, 72, 98, k$, we get:\\[(18-x_1)(18-x_2)= \\pm\\sqrt{-m}\\sqrt{18}\\]and so on. So we can construct $Q(t)=(t^2-x_1)(t^2-x_2)-\\sqrt{-m}t$. As what we have seen, $\\pm\\sqrt{18}, \\pm\\sqrt{72}, \\pm\\sqrt{98}, \\pm\\sqrt{k}$ are four roots of $Q(t) = 0$. So we've got:\\[Q(t)=(t^2-x_1)(t^2-x_2)-\\sqrt{-m}t=(t\\pm\\sqrt{18})(t\\pm\\sqrt{72})(t\\pm\\sqrt{98})(t\\pm\\sqrt{k})\\]Comparing the cubic coefficient:\\[\\pm\\sqrt{18}\\pm\\sqrt{72}\\pm\\sqrt{98}\\pm\\sqrt{k}=0\\]So\\[k=(\\pm\\sqrt{18}\\pm\\sqrt{72}\\pm\\sqrt{98})^2\\]Now $8, 32, 200, 512$ are accesible in this form. The final task is to eliminate $512$. In this occasion the four roots are either $\\sqrt{18}, \\sqrt{72}, \\sqrt{98}, -\\sqrt{512}$ or $-\\sqrt{18}, -\\sqrt{72}, -\\sqrt{98}, \\sqrt{512}$. In either way the constant coefficient of $Q(t)$ is\\[x_1x_2 = -\\sqrt{18}\\sqrt{72}\\sqrt{98}\\sqrt{512}\\]But, $x_1$ and $x_2$ are both positive, so we end up with contradiction.\n\n$8+32+200=\\boxed{240}$",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "240"
  },
  {
    "problem_id": "matharena_aime/aime_2025_20",
    "metadata": {
      "source": "aime/aime_2025",
      "url": "https://matharena.ai/",
      "category": [
        "Geometry"
      ],
      "level": "high_school"
    },
    "problem": "Suppose $\\triangle ABC$ has angles $\\angle BAC = 84^\\circ$, $\\angle ABC = 60^\\circ$, and $\\angle ACB = 36^\\circ$. Let $D$, $E$, and $F$ be the midpoints of sides $\\overline{BC}$, $\\overline{AC}$, and $\\overline{AB}$, respectively. The circumcircle of $\\triangle DEF$ intersects $\\overline{BD}$, $\\overline{AE}$, and $\\overline{AF}$ at points $G$, $H$, and $J$, respectively. The points $G$, $D$, $E$, $H$, $J$, and $F$ divide the circumcircle of $\\triangle DEF$ into six minor arcs, as shown. Find $\\wideparen{DE} + 2 \\cdot \\wideparen{HJ} + 3 \\cdot \\wideparen{FG}$, where the arcs are measured in degrees.\n\n\\begin{tikzpicture}[scale=1.2]\n    \\coordinate (B) at (0,0);\n    \\coordinate (C) at (6,0);\n    \\coordinate (A) at (1.78,3.07);\n    \n    \\coordinate (D) at ($(B)!0.5!(C)$);\n    \\coordinate (E) at ($(A)!0.5!(C)$);\n    \\coordinate (F) at ($(A)!0.5!(B)$);\n    \n    \\draw (A) -- (B) -- (C) -- cycle;\n\n    \\fill (A) circle (2pt) node[above] {$A$};\n    \\fill (B) circle (2pt) node[below] {$B$};\n    \\fill (C) circle (2pt) node[below] {$C$};\n\n    \\fill (D) circle (2pt) node[below] {$D$};\n    \\fill (E) circle (2pt) node[right] {$E$};\n    \\fill (F) circle (2pt) node[left] {$F$};\n\n    \\draw (D) -- (E) -- (F) -- cycle;\n\n    \\coordinate (O) at (2.39,1.38);\n    \n    \\draw (O) circle (1.51);\n\n    \\coordinate (G) at (1.72, 0.03);\n    \\coordinate (J) at (1.5, 2.6);\n    \\coordinate (H) at (2.08, 2.85);\n\n    \\fill (G) circle (2pt) node[below] {$G$};\n    \\fill (H) circle (2pt) node[above] {$H$};\n    \\fill (J) circle (2pt) node[above left] {$J$};\n\\end{tikzpicture}\n",
    "solutions": [
      {
        "solution": "Notice that due to midpoints, $\\triangle DEF\\sim\\triangle FBD\\sim\\triangle AFE\\sim\\triangle EDC\\sim\\triangle ABC$. As a result, the angles and arcs are readily available. Due to inscribed angles,\\[\\widehat{DE}=2\\angle DFE=2\\angle ACB=2\\cdot36=72^\\circ\\]Similarly,\\[\\widehat{FG}=2\\angle FDB=2\\angle ACB=2\\cdot36=72^\\circ\\]\n\nIn order to calculate $\\widehat{HJ}$, we use the fact that $\\angle BAC=\\frac{1}{2}(\\widehat{FDE}-\\widehat{HJ})$. We know that $\\angle BAC=84^\\circ$, and\\[\\widehat{FDE}=360-\\widehat{FE}=360-2\\angle FDE=360-2\\angle CAB=360-2\\cdot84=192^\\circ\\]\n\nSubstituting,\n\n\nThus, $\\widehat{DE}+2\\cdot\\widehat{HJ}+3\\cdot\\widehat{FG}=72+48+216=\\boxed{336}^\\circ$.",
        "author": "Human"
      }
    ],
    "correctness": [],
    "gold_answer": "336"
  }
]