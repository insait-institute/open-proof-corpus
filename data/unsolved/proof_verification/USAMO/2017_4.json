{
    "metadata": {
        "category": [],
        "competition": "usamo",
        "difficulty": 7.34,
        "level": "high_school",
        "source": "USAMO",
        "url": "https://web.evanchen.cc/problems.html",
        "year": 2017
    },
    "problem": "Let \\( P_{1}, P_{2}, \\ldots, P_{2n} \\) be \\( 2n \\) distinct points on the unit circle \\( x^{2}+y^{2}=1 \\), other than \\( (1,0) \\). Each point is colored either red or blue, with exactly \\( n \\) red points and \\( n \\) blue points. Let \\( R_{1}, R_{2}, \\ldots, R_{n} \\) be any ordering of the red points. Let \\( B_{1} \\) be the nearest blue point to \\( R_{1} \\) traveling counterclockwise around the circle starting from \\( R_{1} \\). Then let \\( B_{2} \\) be the nearest of the remaining blue points to \\( R_{2} \\) traveling counterclockwise around the circle from \\( R_{2} \\), and so on, until we have labeled all of the blue points \\( B_{1}, \\ldots, B_{n} \\). Show that the number of counterclockwise arcs of the form \\( R_{i} \\rightarrow B_{i} \\) that contain the point \\( (1,0) \\) is independent of the way we chose the ordering \\( R_{1}, \\ldots, R_{n} \\) of the red points.",
    "problem_id": "USAMO_2017_4",
    "solutions": [
        {
            "author": "Human",
            "solution": "## Problem statement\n\nLet $P_{1}, P_{2}, \\ldots, P_{2 n}$ be $2 n$ distinct points on the unit circle $x^{2}+y^{2}=1$, other than $(1,0)$. Each point is colored either red or blue, with exactly $n$ red points and $n$ blue points. Let $R_{1}, R_{2}, \\ldots, R_{n}$ be any ordering of the red points. Let $B_{1}$ be the nearest blue point to $R_{1}$ traveling counterclockwise around the circle starting from $R_{1}$. Then let $B_{2}$ be the nearest of the remaining blue points to $R_{2}$ travelling counterclockwise around the circle from $R_{2}$, and so on, until we have labeled all of the blue points $B_{1}$, $\\ldots, B_{n}$. Show that the number of counterclockwise arcs of the form $R_{i} \\rightarrow B_{i}$ that contain the point $(1,0)$ is independent of the way we chose the ordering $R_{1}, \\ldots, R_{n}$ of the red points.\n\nWe present two solutions, one based on swapping and one based on an invariant.\n\n\u0430\u00a4\u00ac First \"local\" solution by swapping two points. Let $1 \\leq i<n$ be any index and consider the two red points $R_{i}$ and $R_{i+1}$. There are two blue points $B_{i}$ and $B_{i+1}$ associated with them.\n\nClaim - If we swap the locations of points $R_{i}$ and $R_{i+1}$ then the new $\\operatorname{arcs} R_{i} \\rightarrow B_{i}$ and $R_{i+1} \\rightarrow B_{i+1}$ will cover the same points.\n\nProof. Delete all the points $R_{1}, \\ldots, R_{i-1}$ and $B_{1}, \\ldots, B_{i-1}$; instead focus on the positions of $R_{i}$ and $R_{i+1}$.\n\nThe two blue points can then be located in three possible ways: either $0,1$, or $2$ of them lie on the $\\operatorname{arc} R_{i} \\rightarrow R_{i+1}$. For each of the cases below, we illustrate on the left the locations of $B_{i}$ and $B_{i+1}$ and the corresponding arcs in green; then on the right we show the modified picture where $R_{i}$ and $R_{i+1}$ have swapped. (Note that by hypothesis there are no other blue points in the green arcs).\n\n\nObserve that in all cases, the number of arcs covering any given point on the circumference is not changed. Consequently, this proves the claim.\n\nFinally, it is enough to recall that any permutation of the red points can be achieved by swapping consecutive points (put another way: $(i i+1)$ generates the permutation group $S_{n}$ ). This solves the problem.\n\nRemark. This proof does not work if one tries to swap $R_{i}$ and $R_{j}$ if $|i-j| \\neq 1$. For example if we swapped $R_{i}$ and $R_{i+2}$ then there are some issues caused by the possible presence of the blue point $B_{i+1}$ in the green $\\operatorname{arc} R_{i+2} \\rightarrow B_{i+2}$.\n\nI Second longer solution using an invariant. Visually, if we draw all the segments $R_{i} \\rightarrow B_{i}$ then we obtain a set of $n$ chords. Say a chord is inverted if satisfies the problem condition, and stable otherwise. The problem contends that the number of stable/inverted chords depends only on the layout of the points and not on the choice of chords.\n\n\nIn fact we'll describe the number of inverted chords explicitly. Starting from $(1,0)$ we keep a running tally of $R-B$; in other words we start the counter at $0$ and decrement\nby $1$ at each blue point and increment by $1$ at each red point. Let $x \\leq 0$ be the lowest number ever recorded. Then:\n\nClaim - The number of inverted chords is $-x$ (and hence independent of the choice of chords).\n\nThis is by induction on $n$. I think the easiest thing is to delete chord $R_{1} B_{1}$; note that the arc cut out by this chord contains no blue points. So if the chord was stable certainly no change to $x$. On the other hand, if the chord is inverted, then in particular the last point before $(1,0)$ was red, and so $x<0$. In this situation one sees that deleting the chord changes $x$ to $x+1$, as desired.",
            "images": {}
        }
    ],
    "grading_scheme": [
        {
            "part_id": 1,
            "title": "Correctness",
            "description": "<p>A solution should be considered correct even if it would earn 5+/7 points in a full grading. Examples of small penalties worth 1 point are if the solution: <ul><li>Makes a small computational mistake that can be easily fixed</li><li>Misses an edge case which can be easily proven/disproven</li><li>Skips over a step that follows without much reasoning or manual work</li></ul> A solution should be marked as incorrect if: <ul><li>It marks a step as trivial, if it is not immediately obvious why this would be the case</li><li>It omits algebra-heavy computational steps, regardless of whether or not it has outlined the methodology</li><li>Generalizes over a pattern without rigorously describing the pattern, or without proving any relevant properties.</li><li>It cites a non-existing or unpopular source/Theorem, which cannot be immediately found from searching for it online. Thus, any theorems that can be immediately found and have a Wikipedia article are allowed.</li></ul> The model has been specifically told that it should not skip steps or mark them as trivial. Any violation of this rule should be considered by assuming the model does not know how to derive the &quot;trivial&quot; step</p>",
            "points": 1
        }
    ],
    "points": 1
}