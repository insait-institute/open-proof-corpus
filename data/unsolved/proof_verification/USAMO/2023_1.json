{
    "metadata": {
        "category": [],
        "competition": "usamo",
        "difficulty": 7.46,
        "level": "high_school",
        "source": "USAMO",
        "url": "https://web.evanchen.cc/problems.html",
        "year": 2023
    },
    "problem": "In an acute triangle \\(ABC\\), let \\(M\\) be the midpoint of \\(\\overline{BC}\\). Let \\(P\\) be the foot of the perpendicular from \\(C\\) to \\(AM\\). Suppose that the circumcircle of triangle \\(ABP\\) intersects line \\(BC\\) at two distinct points \\(B\\) and \\(Q\\). Let \\(N\\) be the midpoint of \\(\\overline{AQ}\\). Prove that \\(NB = NC\\).",
    "problem_id": "USAMO_2023_1",
    "solutions": [
        {
            "author": "Human",
            "solution": "## Problem statement\n\nIn an acute triangle $A B C$, let $M$ be the midpoint of $\\overline{B C}$. Let $P$ be the foot of the perpendicular from $C$ to $A M$. Suppose that the circumcircle of triangle $A B P$ intersects line $B C$ at two distinct points $B$ and $Q$. Let $N$ be the midpoint of $\\overline{A Q}$. Prove that $N B=N C$.\n\nWe show several different approaches. In all solutions, let $D$ denote the foot of the altitude from $A$.\n\n\n\u0433\u0402\u0452 Most common synthetic approach. The solution hinges on the following claim:\nClaim - $Q$ coincides with the reflection of $D$ across $M$.\n\nProof. Note that $\\measuredangle A D C=\\measuredangle A P C=90^{\\circ}$, so $A D P C$ is cyclic. Then by power of a point (with the lengths directed),\n\n$$\nM B \\cdot M Q=M A \\cdot M P=M C \\cdot M D .\n$$\n\nSince $M B=M C$, the claim follows.\nIt follows that $\\overline{M N} \\| \\overline{A D}$, as $M$ and $N$ are respectively the midpoints of $\\overline{A Q}$ and $\\overline{D Q}$. Thus $\\overline{M N} \\perp \\overline{B C}$, and so $N$ lies on the perpendicular bisector of $\\overline{B C}$, as needed.\n\nRemark (David Lin). One can prove the main claim without power of a point as well, as follows: Let $R$ be the foot from $B$ to $\\overline{A M}$, so $B R C P$ is a parallelogram. Note that $A B D R$ is cyclic, and hence\n\n$$\n\\measuredangle D R M=\\measuredangle D B A=Q B A=\\measuredangle Q P A=\\measuredangle Q P M\n$$\n\nThus, $\\overline{D R} \\| \\overline{P Q}$, so $D R Q P$ is also a parallelogram.\n\n## \u0433\u0402\u040b Synthetic approach with no additional points at all.\n\nClaim - $\\triangle B P C \\sim \\triangle A N M$ (oppositely oriented).\n\nProof. We have $\\triangle B M P \\sim \\triangle A M Q$ from the given concyclicity of $A B P Q$. Then\n\n$$\n\\frac{B M}{B P}=\\frac{A M}{A Q} \\Longrightarrow \\frac{2 B M}{B P}=\\frac{A M}{A Q / 2} \\Longrightarrow \\frac{B C}{B P}=\\frac{A M}{A N}\n$$\nimplying the similarity (since $\\measuredangle M A Q=\\measuredangle B P M$ ).\nThis similarity gives us the equality of directed angles\n$$\n\\measuredangle(B C, M N)=-\\measuredangle(P C, A M)=90^{\\circ}\n$$\n\nas desired.\n\n\u0430\u00a4\u00ac Synthetic approach using only the point $R$. Again let $R$ be the foot from $B$ to $\\overline{A M}$, so $B R C P$ is a parallelogram.\n\nClaim - $A R Q C$ is cyclic; equivalently, $\\triangle M A Q \\sim \\triangle M C R$.\n\nProof. $M R \\cdot M A=M P \\cdot M A=M B \\cdot M Q=M C \\cdot M Q$.\nNote that in $\\triangle M C R$, the $M$-median is parallel to $\\overline{C P}$ and hence perpendicular to $\\overline{R M}$. The same should be true in $\\triangle M A Q$ by the similarity, so $\\overline{M N} \\perp \\overline{M Q}$ as needed.\n\n\u0433\u0402\u0452 Cartesian coordinates approach with power of a point. Suppose we set $B=(-1,0)$, $M=(0,0), C=(1,0)$, and $A=(a, b)$. One may compute:\n\n$$\n\\begin{aligned}\n\\overleftrightarrow{A M}: 0 & =b x-a y \\Longleftrightarrow y=\\frac{b}{a} x \\\\\n\\overleftrightarrow{C P}: 0 & =a(x-1)+b y \\Longleftrightarrow y=-\\frac{a}{b}(x-1)=-\\frac{a}{b} x+\\frac{a}{b} \\\\\nP & =\\left(\\frac{a^{2}}{a^{2}+b^{2}}, \\frac{a b}{a^{2}+b^{2}}\\right)\n\\end{aligned}\n$$\n\nNow note that\n\n$$\nA M=\\sqrt{a^{2}+b^{2}}, \\quad P M=\\frac{a}{\\sqrt{a^{2}+b^{2}}}\n$$\ntogether with power of a point\n$$\nA M \\cdot P M=B M \\cdot Q M\n$$\n\nto immediately deduce that $Q=(a, 0)$. Hence $N=(0, b / 2)$ and we're done.\n\nTI Cartesian coordinates approach without power of a point (outline). After computing $A$ and $P$ as above, one could also directly calculate\n\n$$\n\\begin{aligned}\n& \\text { Perpendicular bisector of } \\overline{A B}: y=-\\frac{a+1}{b} x+\\frac{a^{2}+b^{2}-1}{2 b} \\\\\n& \\text { Perpendicular bisector of } \\overline{P B}: y=-\\left(\\frac{2 a}{b}+\\frac{b}{a}\\right) x-\\frac{b}{2 a} \\\\\n& \\text { Perpendicular bisector of } \\overline{P A}: y=-\\frac{a}{b} x+\\frac{a+a^{2}+b^{2}}{2 b} \\\\\n& \\qquad \\text { Circumcenter of } \\triangle P A B=\\left(-\\frac{a+1}{2}, \\frac{2 a^{2}+2 a+b^{2}}{2 b}\\right) .\n\\end{aligned}\n$$\n\nThis is enough to extract the coordinates of $Q=(\\bullet, 0)$, because $B=(-1,0)$ is given, and the $x$-coordinate of the circumcenter should be the average of the $x$-coordinates of $B$ and $Q$. In other words, $Q=(-a, 0)$. Hence, $N=\\left(0, \\frac{b}{2}\\right)$, as needed.\n\nII III-advised barycentric approach (outline). Use reference triangle $A B C$. The $A$ median is parametrized by $(t: 1: 1)$ for $t \\in \\mathbb{R}$. So because of $\\overline{C P} \\perp \\overline{A M}$, we are looking for $t$ such that\n\n$$\n\\left(\\frac{t \\vec{A}+\\vec{B}+\\vec{C}}{t+2}-\\vec{C}\\right) \\perp\\left(A-\\frac{\\vec{B}+\\vec{C}}{2}\\right) .\n$$\n\nThis is equivalent to\n\n$$\n(t \\vec{A}+\\vec{B}-(t+1) \\vec{C}) \\perp(2 \\vec{A}-\\vec{B}-\\vec{C})\n$$\n\nBy the perpendicularity formula for barycentric coordinates (EGMO 7.16), this is equivalent to\n\n$$\n\\begin{aligned}\n0 & =a^{2} t-b^{2} \\cdot(3 t+2)+c^{2} \\cdot(2-t) \\\\\n& =\\left(a^{2}-3 b^{2}-c^{2}\\right) t-2\\left(b^{2}-c^{2}\\right) \\\\\n\\Longrightarrow t & =\\frac{2\\left(b^{2}-c^{2}\\right)}{a^{2}-3 b^{2}-c^{2}} .\n\\end{aligned}\n$$\n\nIn other words,\n\n$$\nP=\\left(2\\left(b^{2}-c^{2}\\right): a^{2}-3 b^{2}-c^{2}: a^{2}-3 b^{2}-c^{2}\\right) .\n$$\n\nA long calculation gives $a^{2} y_{P} z_{P}+b^{2} z_{P} x_{P}+c^{2} x_{P} y_{P}=\\left(a^{2}-3 b^{2}-c^{2}\\right)\\left(a^{2}-b^{2}+c^{2}\\right)\\left(a^{2}-\\right.$ $2 b^{2}-2 c^{2}$ ). Together with $x_{P}+y_{P}+z_{P}=2 a^{2}-4 b^{2}-4 c^{2}$, this makes the equation of $(A B P)$ as\n\n$$\n0=-a^{2} y z-b^{2} z x-c^{2} x y+\\frac{a^{2}-b^{2}+c^{2}}{2} z(x+y+z)\n$$\n\nTo solve for $Q$, set $x=0$ to get to get\n\n$$\na^{2} y z=\\frac{a^{2}-b^{2}+c^{2}}{2} z(y+z) \\Longrightarrow \\frac{y}{z}=\\frac{a^{2}-b^{2}+c^{2}}{a^{2}+b^{2}-c^{2}}\n$$\n\nIn other words,\n\n$$\nQ=\\left(0: a^{2}-b^{2}+c^{2}: a^{2}+b^{2}-c^{2}\\right) .\n$$\n\nTaking the average with $A=(1,0,0)$ then gives\n\n$$\nN=\\left(2 a^{2}: a^{2}-b^{2}+c^{2}: a^{2}+b^{2}-c^{2}\\right) .\n$$\n\nThe equation for the perpendicular bisector of $\\overline{B C}$ is given by (see EGMO 7.19)\n\n$$\n0=a^{2}(z-y)+x\\left(c^{2}-b^{2}\\right)\n$$\nwhich contains $N$, as needed.\n\n\u0433\u0402\u0452 Extremely ill-advised complex numbers approaches (outline). Suppose we pick $a$, $b, c$ as the unit circle, and let $m=(b+c) / 2$. Using the fully general \"foot\" formula, one can get\n\n$$\np=\\frac{(a-m) \\bar{c}+(\\bar{a}-\\bar{m}) c+\\bar{a} m-a \\bar{m}}{2(\\bar{a}-\\bar{m})}=\\frac{a^{2} b-a^{2} c-a b^{2}-2 a b c-a c^{2}+b^{2} c+3 b c^{2}}{4 b c-2 a(b+c)}\n$$\n\nMeanwhile, an extremely ugly calculation will eventually yield\n\n$$\nq=\\frac{\\frac{b c}{a}+b+c-a}{2}\n$$\nso\n$$\nn=\\frac{a+q}{2}=\\frac{a+b+c+\\frac{b c}{a}}{4}=\\frac{(a+b)(a+c)}{2 a} .\n$$\n\nThere are a few ways to then verify $N B=N C$. The simplest seems to be to verify that\n\n$$\n\\frac{n-\\frac{b+c}{2}}{b-c}=\\frac{a-b-c+\\frac{b c}{a}}{4(b-c)}=\\frac{(a-b)(a-c)}{2 a(b-c)}\n$$\nis pure imaginary, which is clear.",
            "images": {}
        }
    ],
    "grading_scheme": [
        {
            "part_id": 1,
            "title": "Correctness",
            "description": "<p>A solution should be considered correct even if it would earn 5+/7 points in a full grading. Examples of small penalties worth 1 point are if the solution: <ul><li>Makes a small computational mistake that can be easily fixed</li><li>Misses an edge case which can be easily proven/disproven</li><li>Skips over a step that follows without much reasoning or manual work</li></ul> A solution should be marked as incorrect if: <ul><li>It marks a step as trivial, if it is not immediately obvious why this would be the case</li><li>It omits algebra-heavy computational steps, regardless of whether or not it has outlined the methodology</li><li>Generalizes over a pattern without rigorously describing the pattern, or without proving any relevant properties.</li><li>It cites a non-existing or unpopular source/Theorem, which cannot be immediately found from searching for it online. Thus, any theorems that can be immediately found and have a Wikipedia article are allowed.</li></ul> The model has been specifically told that it should not skip steps or mark them as trivial. Any violation of this rule should be considered by assuming the model does not know how to derive the &quot;trivial&quot; step</p>",
            "points": 1
        }
    ],
    "points": 1
}